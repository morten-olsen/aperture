{
  "version": 3,
  "sources": ["../../../../../../../../../node_modules/@react-native/normalize-color/index.js", "../../../../../../../../../node_modules/@tamagui/timer/src/index.ts", "../../../../../../../../../node_modules/@tamagui/web/src/helpers/createStyledContext.tsx", "../../../../../../../../../node_modules/@tamagui/web/src/helpers/pseudoDescriptors.ts", "../../../../../../../../../node_modules/@tamagui/web/src/helpers/mergeProps.ts", "../../../../../../../../../node_modules/@tamagui/web/src/helpers/objectIdentityKey.tsx", "../../../../../../../../../node_modules/@tamagui/web/src/contexts/ComponentContext.tsx", "../../../../../../../../../node_modules/@tamagui/web/src/contexts/GroupContext.tsx", "../../../../../../../../../node_modules/@tamagui/constants/src/constants.ts", "../../../../../../../../../node_modules/@tamagui/web/src/constants/constants.ts", "../../../../../../../../../node_modules/@tamagui/web/src/config.ts", "../../../../../../../../../node_modules/@tamagui/web/src/helpers/matchMedia.ts", "../../../../../../../../../node_modules/@tamagui/web/src/hooks/useMedia.tsx", "../../../../../../../../../node_modules/@tamagui/simple-hash/src/index.ts", "../../../../../../../../../node_modules/@tamagui/helpers/src/clamp.ts", "../../../../../../../../../node_modules/@tamagui/helpers/src/composeEventHandlers.ts", "../../../../../../../../../node_modules/@tamagui/helpers/src/types.ts", "../../../../../../../../../node_modules/@tamagui/helpers/src/shouldRenderNativePlatform.ts", "../../../../../../../../../node_modules/@tamagui/helpers/src/validStyleProps.ts", "../../../../../../../../../node_modules/@tamagui/helpers/src/withStaticProperties.tsx", "../../../../../../../../../node_modules/@tamagui/helpers/src/index.ts", "../../../../../../../../../node_modules/@tamagui/web/src/createVariable.ts", "../../../../../../../../../node_modules/@tamagui/web/src/hooks/useTheme.tsx", "../../../../../../../../../node_modules/@tamagui/web/src/hooks/getThemeProxied.ts", "../../../../../../../../../node_modules/@tamagui/web/src/hooks/useThemeState.ts", "../../../../../../../../../node_modules/@tamagui/compose-refs/src/compose-refs.tsx", "../../../../../../../../../node_modules/@tamagui/web/src/helpers/defaultOffset.ts", "../../../../../../../../../node_modules/@tamagui/normalize-css-color/src/index.ts", "../../../../../../../../../node_modules/@tamagui/web/src/helpers/normalizeColor.ts", "../../../../../../../../../node_modules/@tamagui/web/src/helpers/normalizeValueWithProperty.ts", "../../../../../../../../../node_modules/@tamagui/web/src/helpers/transformsToString.ts", "../../../../../../../../../node_modules/@tamagui/web/src/helpers/getCSSStylesAtomic.ts", "../../../../../../../../../node_modules/@tamagui/use-did-finish-ssr/src/ClientOnly.tsx", "../../../../../../../../../node_modules/@tamagui/use-did-finish-ssr/src/index.ts", "../../../../../../../../../node_modules/@tamagui/web/src/views/Theme.tsx", "../../../../../../../../../node_modules/@tamagui/web/src/views/ThemeDebug.tsx", "../../../../../../../../../node_modules/@tamagui/web/src/helpers/themeable.tsx", "../../../../../../../../../node_modules/@tamagui/is-equal-shallow/src/index.ts", "../../../../../../../../../node_modules/@tamagui/web/src/createComponent.tsx", "../../../../../../../../../node_modules/@tamagui/web/src/constants/isDevTools.ts", "../../../../../../../../../node_modules/@tamagui/web/src/defaultComponentState.tsx", "../../../../../../../../../node_modules/@tamagui/web/src/helpers/getSplitStyles.tsx", "../../../../../../../../../node_modules/@tamagui/web/src/constants/accessibilityDirectMap.tsx", "../../../../../../../../../node_modules/@tamagui/web/src/helpers/getGroupPropParts.ts", "../../../../../../../../../node_modules/@tamagui/web/src/helpers/createMediaStyle.ts", "../../../../../../../../../node_modules/@tamagui/web/src/helpers/normalizeShadow.ts", "../../../../../../../../../node_modules/@tamagui/web/src/helpers/expandStyles.ts", "../../../../../../../../../node_modules/@tamagui/web/src/helpers/insertStyleRule.tsx", "../../../../../../../../../node_modules/@tamagui/web/src/helpers/isActivePlatform.ts", "../../../../../../../../../node_modules/@tamagui/web/src/helpers/isActiveTheme.ts", "../../../../../../../../../node_modules/@tamagui/web/src/helpers/log.ts", "../../../../../../../../../node_modules/@tamagui/web/src/constants/webToNativeProps.tsx", "../../../../../../../../../node_modules/@tamagui/web/src/helpers/expandStyle.ts", "../../../../../../../../../node_modules/@tamagui/web/src/helpers/getVariantExtras.tsx", "../../../../../../../../../node_modules/@tamagui/web/src/helpers/isObj.ts", "../../../../../../../../../node_modules/@tamagui/web/src/helpers/normalizeStyle.ts", "../../../../../../../../../node_modules/@tamagui/web/src/helpers/skipProps.ts", "../../../../../../../../../node_modules/@tamagui/web/src/helpers/propMapper.ts", "../../../../../../../../../node_modules/@tamagui/web/src/helpers/sortString.ts", "../../../../../../../../../node_modules/@tamagui/web/src/setupHooks.ts", "../../../../../../../../../node_modules/@tamagui/web/src/helpers/setElementProps.tsx", "../../../../../../../../../node_modules/@tamagui/web/src/helpers/subscribeToContextGroup.tsx", "../../../../../../../../../node_modules/@tamagui/web/src/helpers/wrapStyleTags.tsx", "../../../../../../../../../node_modules/@tamagui/web/src/hooks/useComponentState.ts", "../../../../../../../../../node_modules/@tamagui/web/src/views/Slot.tsx", "../../../../../../../../../node_modules/@tamagui/web/src/helpers/isTamaguiComponent.tsx", "../../../../../../../../../node_modules/@tamagui/web/src/helpers/isTamaguiElement.tsx", "../../../../../../../../../node_modules/@tamagui/web/src/createFont.ts", "../../../../../../../../../node_modules/@tamagui/web/src/createShorthands.ts", "../../../../../../../../../node_modules/@tamagui/web/src/createVariables.ts", "../../../../../../../../../node_modules/@tamagui/web/src/helpers/registerCSSVariable.ts", "../../../../../../../../../node_modules/@tamagui/web/src/insertFont.ts", "../../../../../../../../../node_modules/@tamagui/web/src/createTheme.ts", "../../../../../../../../../node_modules/@tamagui/web/src/createTokens.ts", "../../../../../../../../../node_modules/@tamagui/web/src/setupReactNative.ts", "../../../../../../../../../node_modules/@tamagui/web/src/helpers/mergeVariants.ts", "../../../../../../../../../node_modules/@tamagui/web/src/styled.tsx", "../../../../../../../../../node_modules/@tamagui/web/src/hooks/useIsTouchDevice.tsx", "../../../../../../../../../node_modules/@tamagui/web/src/hooks/useProps.tsx", "../../../../../../../../../node_modules/@tamagui/web/src/views/Stack.tsx", "../../../../../../../../../node_modules/@tamagui/web/src/hooks/useThemeName.tsx", "../../../../../../../../../node_modules/@tamagui/web/src/views/Configuration.tsx", "../../../../../../../../../node_modules/@tamagui/web/src/views/FontLanguage.tsx", "../../../../../../../../../node_modules/@tamagui/use-event/src/useGet.ts", "../../../../../../../../../node_modules/@tamagui/use-event/src/useEvent.ts", "../../../../../../../../../node_modules/@tamagui/web/src/_withStableStyle.tsx", "../../../../../../../../../node_modules/@tamagui/web/src/helpers/getExpandedShorthands.ts", "../../../../../../../../../node_modules/@tamagui/web/src/helpers/getShorthandValue.ts", "../../../../../../../../../node_modules/@tamagui/web/src/helpers/getThemeCSSRules.ts", "../../../../../../../../../node_modules/@tamagui/web/src/helpers/proxyThemeToParents.ts", "../../../../../../../../../node_modules/@tamagui/web/src/helpers/themes.ts", "../../../../../../../../../node_modules/@tamagui/web/src/helpers/defaultAnimationDriver.tsx", "../../../../../../../../../node_modules/@tamagui/web/src/Tamagui.ts", "../../../../../../../../../node_modules/@tamagui/web/src/createTamagui.ts", "../../../../../../../../../node_modules/@tamagui/web/src/views/TamaguiProvider.tsx", "../../../../../../../../../node_modules/@tamagui/web/src/views/ThemeProvider.tsx", "../../../../../../../../../node_modules/@tamagui/web/src/views/Text.tsx", "../../../../../../../../../node_modules/@tamagui/web/src/views/View.tsx", "../../../../../../../../../node_modules/@tamagui/use-presence/src/PresenceContext.tsx", "../../../../../../../../../node_modules/@tamagui/use-presence/src/usePresence.ts", "../../../../../../../../../node_modules/@tamagui/react-native-media-driver/src/matchMedia.ts", "../../../../../../../../../node_modules/@tamagui/react-native-media-driver/src/createMedia.ts", "../../../../../../../../../node_modules/@tamagui/use-element-layout/src/index.tsx", "../../../../../../../../../node_modules/@tamagui/react-native-use-responder-events/src/useResponderEvents.ts", "../../../../../../../../../node_modules/@tamagui/react-native-use-responder-events/src/utils.ts", "../../../../../../../../../node_modules/@tamagui/react-native-use-responder-events/src/createResponderEvent.ts", "../../../../../../../../../node_modules/@tamagui/react-native-use-responder-events/src/types.ts", "../../../../../../../../../node_modules/@tamagui/react-native-use-responder-events/src/ResponderTouchHistoryStore.ts", "../../../../../../../../../node_modules/@tamagui/react-native-use-responder-events/src/ResponderSystem.ts", "../../../../../../../../../node_modules/@tamagui/core/src/getBaseViews.ts", "../../../../../../../../../node_modules/@tamagui/core/src/index.tsx"],
  "sourcesContent": ["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n *        \n */\n\n/* eslint no-bitwise: 0 */\n\n'use strict';\n\nfunction normalizeColor(color) {\n  if (typeof color === 'number') {\n    if (color >>> 0 === color && color >= 0 && color <= 0xffffffff) {\n      return color;\n    }\n    return null;\n  }\n\n  if (typeof color !== 'string') {\n    return null;\n  }\n\n  const matchers = getMatchers();\n  let match;\n\n  // Ordered based on occurrences on Facebook codebase\n  if ((match = matchers.hex6.exec(color))) {\n    return parseInt(match[1] + 'ff', 16) >>> 0;\n  }\n\n  const colorFromKeyword = normalizeKeyword(color);\n  if (colorFromKeyword != null) {\n    return colorFromKeyword;\n  }\n\n  if ((match = matchers.rgb.exec(color))) {\n    return (\n      ((parse255(match[1]) << 24) | // r\n        (parse255(match[2]) << 16) | // g\n        (parse255(match[3]) << 8) | // b\n        0x000000ff) >>> // a\n      0\n    );\n  }\n\n  if ((match = matchers.rgba.exec(color))) {\n    // rgba(R G B / A) notation\n    if (match[6] !== undefined) {\n      return (\n        ((parse255(match[6]) << 24) | // r\n          (parse255(match[7]) << 16) | // g\n          (parse255(match[8]) << 8) | // b\n          parse1(match[9])) >>> // a\n        0\n      );\n    }\n\n    // rgba(R, G, B, A) notation\n    return (\n      ((parse255(match[2]) << 24) | // r\n        (parse255(match[3]) << 16) | // g\n        (parse255(match[4]) << 8) | // b\n        parse1(match[5])) >>> // a\n      0\n    );\n  }\n\n  if ((match = matchers.hex3.exec(color))) {\n    return (\n      parseInt(\n        match[1] +\n          match[1] + // r\n          match[2] +\n          match[2] + // g\n          match[3] +\n          match[3] + // b\n          'ff', // a\n        16,\n      ) >>> 0\n    );\n  }\n\n  // https://drafts.csswg.org/css-color-4/#hex-notation\n  if ((match = matchers.hex8.exec(color))) {\n    return parseInt(match[1], 16) >>> 0;\n  }\n\n  if ((match = matchers.hex4.exec(color))) {\n    return (\n      parseInt(\n        match[1] +\n          match[1] + // r\n          match[2] +\n          match[2] + // g\n          match[3] +\n          match[3] + // b\n          match[4] +\n          match[4], // a\n        16,\n      ) >>> 0\n    );\n  }\n\n  if ((match = matchers.hsl.exec(color))) {\n    return (\n      (hslToRgb(\n        parse360(match[1]), // h\n        parsePercentage(match[2]), // s\n        parsePercentage(match[3]), // l\n      ) |\n        0x000000ff) >>> // a\n      0\n    );\n  }\n\n  if ((match = matchers.hsla.exec(color))) {\n    // hsla(H S L / A) notation\n    if (match[6] !== undefined) {\n      return (\n        (hslToRgb(\n          parse360(match[6]), // h\n          parsePercentage(match[7]), // s\n          parsePercentage(match[8]), // l\n        ) |\n          parse1(match[9])) >>> // a\n        0\n      );\n    }\n\n    // hsla(H, S, L, A) notation\n    return (\n      (hslToRgb(\n        parse360(match[2]), // h\n        parsePercentage(match[3]), // s\n        parsePercentage(match[4]), // l\n      ) |\n        parse1(match[5])) >>> // a\n      0\n    );\n  }\n\n  if ((match = matchers.hwb.exec(color))) {\n    return (\n      (hwbToRgb(\n        parse360(match[1]), // h\n        parsePercentage(match[2]), // w\n        parsePercentage(match[3]), // b\n      ) |\n        0x000000ff) >>> // a\n      0\n    );\n  }\n\n  return null;\n}\n\nfunction hue2rgb(p, q, t) {\n  if (t < 0) {\n    t += 1;\n  }\n  if (t > 1) {\n    t -= 1;\n  }\n  if (t < 1 / 6) {\n    return p + (q - p) * 6 * t;\n  }\n  if (t < 1 / 2) {\n    return q;\n  }\n  if (t < 2 / 3) {\n    return p + (q - p) * (2 / 3 - t) * 6;\n  }\n  return p;\n}\n\nfunction hslToRgb(h, s, l) {\n  const q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n  const p = 2 * l - q;\n  const r = hue2rgb(p, q, h + 1 / 3);\n  const g = hue2rgb(p, q, h);\n  const b = hue2rgb(p, q, h - 1 / 3);\n\n  return (\n    (Math.round(r * 255) << 24) |\n    (Math.round(g * 255) << 16) |\n    (Math.round(b * 255) << 8)\n  );\n}\n\nfunction hwbToRgb(h, w, b) {\n  if (w + b >= 1) {\n    const gray = Math.round((w * 255) / (w + b));\n\n    return (gray << 24) | (gray << 16) | (gray << 8);\n  }\n\n  const red = hue2rgb(0, 1, h + 1 / 3) * (1 - w - b) + w;\n  const green = hue2rgb(0, 1, h) * (1 - w - b) + w;\n  const blue = hue2rgb(0, 1, h - 1 / 3) * (1 - w - b) + w;\n\n  return (\n    (Math.round(red * 255) << 24) |\n    (Math.round(green * 255) << 16) |\n    (Math.round(blue * 255) << 8)\n  );\n}\n\nconst NUMBER = '[-+]?\\\\d*\\\\.?\\\\d+';\nconst PERCENTAGE = NUMBER + '%';\n\nfunction call(...args) {\n  return '\\\\(\\\\s*(' + args.join(')\\\\s*,?\\\\s*(') + ')\\\\s*\\\\)';\n}\n\nfunction callWithSlashSeparator(...args) {\n  return (\n    '\\\\(\\\\s*(' +\n    args.slice(0, args.length - 1).join(')\\\\s*,?\\\\s*(') +\n    ')\\\\s*/\\\\s*(' +\n    args[args.length - 1] +\n    ')\\\\s*\\\\)'\n  );\n}\n\nfunction commaSeparatedCall(...args) {\n  return '\\\\(\\\\s*(' + args.join(')\\\\s*,\\\\s*(') + ')\\\\s*\\\\)';\n}\n\nlet cachedMatchers;\n\nfunction getMatchers() {\n  if (cachedMatchers === undefined) {\n    cachedMatchers = {\n      rgb: new RegExp('rgb' + call(NUMBER, NUMBER, NUMBER)),\n      rgba: new RegExp(\n        'rgba(' +\n          commaSeparatedCall(NUMBER, NUMBER, NUMBER, NUMBER) +\n          '|' +\n          callWithSlashSeparator(NUMBER, NUMBER, NUMBER, NUMBER) +\n          ')',\n      ),\n      hsl: new RegExp('hsl' + call(NUMBER, PERCENTAGE, PERCENTAGE)),\n      hsla: new RegExp(\n        'hsla(' +\n          commaSeparatedCall(NUMBER, PERCENTAGE, PERCENTAGE, NUMBER) +\n          '|' +\n          callWithSlashSeparator(NUMBER, PERCENTAGE, PERCENTAGE, NUMBER) +\n          ')',\n      ),\n      hwb: new RegExp('hwb' + call(NUMBER, PERCENTAGE, PERCENTAGE)),\n      hex3: /^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n      hex4: /^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n      hex6: /^#([0-9a-fA-F]{6})$/,\n      hex8: /^#([0-9a-fA-F]{8})$/,\n    };\n  }\n  return cachedMatchers;\n}\n\nfunction parse255(str) {\n  const int = parseInt(str, 10);\n  if (int < 0) {\n    return 0;\n  }\n  if (int > 255) {\n    return 255;\n  }\n  return int;\n}\n\nfunction parse360(str) {\n  const int = parseFloat(str);\n  return (((int % 360) + 360) % 360) / 360;\n}\n\nfunction parse1(str) {\n  const num = parseFloat(str);\n  if (num < 0) {\n    return 0;\n  }\n  if (num > 1) {\n    return 255;\n  }\n  return Math.round(num * 255);\n}\n\nfunction parsePercentage(str) {\n  // parseFloat conveniently ignores the final %\n  const int = parseFloat(str);\n  if (int < 0) {\n    return 0;\n  }\n  if (int > 100) {\n    return 1;\n  }\n  return int / 100;\n}\n\nfunction normalizeKeyword(name) {\n  // prettier-ignore\n  switch (name) {\n    case 'transparent': return 0x00000000;\n    // http://www.w3.org/TR/css3-color/#svg-color\n    case 'aliceblue': return 0xf0f8ffff;\n    case 'antiquewhite': return 0xfaebd7ff;\n    case 'aqua': return 0x00ffffff;\n    case 'aquamarine': return 0x7fffd4ff;\n    case 'azure': return 0xf0ffffff;\n    case 'beige': return 0xf5f5dcff;\n    case 'bisque': return 0xffe4c4ff;\n    case 'black': return 0x000000ff;\n    case 'blanchedalmond': return 0xffebcdff;\n    case 'blue': return 0x0000ffff;\n    case 'blueviolet': return 0x8a2be2ff;\n    case 'brown': return 0xa52a2aff;\n    case 'burlywood': return 0xdeb887ff;\n    case 'burntsienna': return 0xea7e5dff;\n    case 'cadetblue': return 0x5f9ea0ff;\n    case 'chartreuse': return 0x7fff00ff;\n    case 'chocolate': return 0xd2691eff;\n    case 'coral': return 0xff7f50ff;\n    case 'cornflowerblue': return 0x6495edff;\n    case 'cornsilk': return 0xfff8dcff;\n    case 'crimson': return 0xdc143cff;\n    case 'cyan': return 0x00ffffff;\n    case 'darkblue': return 0x00008bff;\n    case 'darkcyan': return 0x008b8bff;\n    case 'darkgoldenrod': return 0xb8860bff;\n    case 'darkgray': return 0xa9a9a9ff;\n    case 'darkgreen': return 0x006400ff;\n    case 'darkgrey': return 0xa9a9a9ff;\n    case 'darkkhaki': return 0xbdb76bff;\n    case 'darkmagenta': return 0x8b008bff;\n    case 'darkolivegreen': return 0x556b2fff;\n    case 'darkorange': return 0xff8c00ff;\n    case 'darkorchid': return 0x9932ccff;\n    case 'darkred': return 0x8b0000ff;\n    case 'darksalmon': return 0xe9967aff;\n    case 'darkseagreen': return 0x8fbc8fff;\n    case 'darkslateblue': return 0x483d8bff;\n    case 'darkslategray': return 0x2f4f4fff;\n    case 'darkslategrey': return 0x2f4f4fff;\n    case 'darkturquoise': return 0x00ced1ff;\n    case 'darkviolet': return 0x9400d3ff;\n    case 'deeppink': return 0xff1493ff;\n    case 'deepskyblue': return 0x00bfffff;\n    case 'dimgray': return 0x696969ff;\n    case 'dimgrey': return 0x696969ff;\n    case 'dodgerblue': return 0x1e90ffff;\n    case 'firebrick': return 0xb22222ff;\n    case 'floralwhite': return 0xfffaf0ff;\n    case 'forestgreen': return 0x228b22ff;\n    case 'fuchsia': return 0xff00ffff;\n    case 'gainsboro': return 0xdcdcdcff;\n    case 'ghostwhite': return 0xf8f8ffff;\n    case 'gold': return 0xffd700ff;\n    case 'goldenrod': return 0xdaa520ff;\n    case 'gray': return 0x808080ff;\n    case 'green': return 0x008000ff;\n    case 'greenyellow': return 0xadff2fff;\n    case 'grey': return 0x808080ff;\n    case 'honeydew': return 0xf0fff0ff;\n    case 'hotpink': return 0xff69b4ff;\n    case 'indianred': return 0xcd5c5cff;\n    case 'indigo': return 0x4b0082ff;\n    case 'ivory': return 0xfffff0ff;\n    case 'khaki': return 0xf0e68cff;\n    case 'lavender': return 0xe6e6faff;\n    case 'lavenderblush': return 0xfff0f5ff;\n    case 'lawngreen': return 0x7cfc00ff;\n    case 'lemonchiffon': return 0xfffacdff;\n    case 'lightblue': return 0xadd8e6ff;\n    case 'lightcoral': return 0xf08080ff;\n    case 'lightcyan': return 0xe0ffffff;\n    case 'lightgoldenrodyellow': return 0xfafad2ff;\n    case 'lightgray': return 0xd3d3d3ff;\n    case 'lightgreen': return 0x90ee90ff;\n    case 'lightgrey': return 0xd3d3d3ff;\n    case 'lightpink': return 0xffb6c1ff;\n    case 'lightsalmon': return 0xffa07aff;\n    case 'lightseagreen': return 0x20b2aaff;\n    case 'lightskyblue': return 0x87cefaff;\n    case 'lightslategray': return 0x778899ff;\n    case 'lightslategrey': return 0x778899ff;\n    case 'lightsteelblue': return 0xb0c4deff;\n    case 'lightyellow': return 0xffffe0ff;\n    case 'lime': return 0x00ff00ff;\n    case 'limegreen': return 0x32cd32ff;\n    case 'linen': return 0xfaf0e6ff;\n    case 'magenta': return 0xff00ffff;\n    case 'maroon': return 0x800000ff;\n    case 'mediumaquamarine': return 0x66cdaaff;\n    case 'mediumblue': return 0x0000cdff;\n    case 'mediumorchid': return 0xba55d3ff;\n    case 'mediumpurple': return 0x9370dbff;\n    case 'mediumseagreen': return 0x3cb371ff;\n    case 'mediumslateblue': return 0x7b68eeff;\n    case 'mediumspringgreen': return 0x00fa9aff;\n    case 'mediumturquoise': return 0x48d1ccff;\n    case 'mediumvioletred': return 0xc71585ff;\n    case 'midnightblue': return 0x191970ff;\n    case 'mintcream': return 0xf5fffaff;\n    case 'mistyrose': return 0xffe4e1ff;\n    case 'moccasin': return 0xffe4b5ff;\n    case 'navajowhite': return 0xffdeadff;\n    case 'navy': return 0x000080ff;\n    case 'oldlace': return 0xfdf5e6ff;\n    case 'olive': return 0x808000ff;\n    case 'olivedrab': return 0x6b8e23ff;\n    case 'orange': return 0xffa500ff;\n    case 'orangered': return 0xff4500ff;\n    case 'orchid': return 0xda70d6ff;\n    case 'palegoldenrod': return 0xeee8aaff;\n    case 'palegreen': return 0x98fb98ff;\n    case 'paleturquoise': return 0xafeeeeff;\n    case 'palevioletred': return 0xdb7093ff;\n    case 'papayawhip': return 0xffefd5ff;\n    case 'peachpuff': return 0xffdab9ff;\n    case 'peru': return 0xcd853fff;\n    case 'pink': return 0xffc0cbff;\n    case 'plum': return 0xdda0ddff;\n    case 'powderblue': return 0xb0e0e6ff;\n    case 'purple': return 0x800080ff;\n    case 'rebeccapurple': return 0x663399ff;\n    case 'red': return 0xff0000ff;\n    case 'rosybrown': return 0xbc8f8fff;\n    case 'royalblue': return 0x4169e1ff;\n    case 'saddlebrown': return 0x8b4513ff;\n    case 'salmon': return 0xfa8072ff;\n    case 'sandybrown': return 0xf4a460ff;\n    case 'seagreen': return 0x2e8b57ff;\n    case 'seashell': return 0xfff5eeff;\n    case 'sienna': return 0xa0522dff;\n    case 'silver': return 0xc0c0c0ff;\n    case 'skyblue': return 0x87ceebff;\n    case 'slateblue': return 0x6a5acdff;\n    case 'slategray': return 0x708090ff;\n    case 'slategrey': return 0x708090ff;\n    case 'snow': return 0xfffafaff;\n    case 'springgreen': return 0x00ff7fff;\n    case 'steelblue': return 0x4682b4ff;\n    case 'tan': return 0xd2b48cff;\n    case 'teal': return 0x008080ff;\n    case 'thistle': return 0xd8bfd8ff;\n    case 'tomato': return 0xff6347ff;\n    case 'turquoise': return 0x40e0d0ff;\n    case 'violet': return 0xee82eeff;\n    case 'wheat': return 0xf5deb3ff;\n    case 'white': return 0xffffffff;\n    case 'whitesmoke': return 0xf5f5f5ff;\n    case 'yellow': return 0xffff00ff;\n    case 'yellowgreen': return 0x9acd32ff;\n  }\n  return null;\n}\n\nmodule.exports = normalizeColor;\n", "// let it be called as a template string tag function\n\nexport function timer() {\n  let runs = 0\n  const typesOfRuns = new Set<string>()\n  const timings: Record<string, number> = {}\n\n  function print() {\n    const typeRuns = runs / typesOfRuns.size\n    let totalTime = 0\n\n    const out = [\n      `Ran ${typeRuns} per-type, ${runs} total`,\n      ...[...typesOfRuns].map((name) => {\n        if (name.endsWith('(ignore)')) {\n          // avoid counting (ignore) timings towards total\n          return\n        }\n        const avg = `avg ${`${timings[name] / typeRuns}`.slice(0, 9).padEnd(9)}ms`\n        const total = timings[name]\n        totalTime += total\n        return `${name.slice(0, 30).padStart(31)} | ${avg} | total ${total}ms`\n      }),\n      `                                    total ${totalTime}ms`,\n    ].join('\\n')\n\n    console.info(out)\n    return out\n  }\n\n  return {\n    start(opts?: { quiet?: boolean }) {\n      const quiet = opts?.quiet ?? true\n\n      function time(strings: TemplateStringsArray, ...vars: any[]) {\n        const elapsed = performance.now() - start\n        const tag = templateToString(strings, ...vars)\n        typesOfRuns.add(tag)\n        runs++\n        timings[tag] ??= 0\n        timings[tag] += elapsed\n        if (!quiet) {\n          let result = ''\n          strings.forEach((str, i) => {\n            result += `${str}${i === strings.length - 1 ? '' : vars[i]}`\n          })\n          console.info(`${`${elapsed}ms`.slice(0, 6).padStart(7)} |`, result)\n        }\n        start = performance.now()\n      }\n\n      let start = performance.now()\n      time['print'] = print\n\n      return time\n    },\n\n    profile() {\n      return {\n        timings,\n        runs,\n      }\n    },\n\n    print,\n  }\n}\n\nfunction templateToString(strings: TemplateStringsArray, ...vars: any[]): string {\n  return strings.reduce(\n    (result, str, i) => result + str + (vars[i] !== undefined ? vars[i] : ''),\n    ''\n  )\n}\n", "import type { Context, ReactNode } from 'react'\nimport React, { useContext } from 'react'\nimport type { StyledContext } from '../types'\nimport { mergeProps } from './mergeProps'\nimport { objectIdentityKey } from './objectIdentityKey'\n\n// test types:\n// const x = createContext({})\n// const y = x.Provider\n// export const ButtonContext = createStyledContext({\n//   size: '$4',\n// })\n// const z = useContext(ButtonContext.context)\n\n// avoid react compiler - we aren't breaking its rules but it shouldn't compile this file because\n// it will mis-interpret how we change the context value. in\nconst createReactContext = React[Math.random() ? 'createContext' : 'createContext']\n\nexport function createStyledContext<VariantProps extends Record<string, any>>(\n  defaultValues?: VariantProps,\n  namespace = ''\n): StyledContext<VariantProps> {\n  const OGContext = createReactContext<VariantProps | undefined>(defaultValues)\n  const OGProvider = OGContext.Provider\n  const Context = OGContext as any as StyledContext<VariantProps>\n  const scopedContexts = new Map<string, Context<VariantProps | undefined>>()\n  const LastScopeInNamespace = createReactContext<string>(namespace)\n\n  function getOrCreateScopedContext(scope: string) {\n    let ScopedContext = scopedContexts.get(scope)\n    if (!ScopedContext) {\n      ScopedContext = createReactContext<VariantProps | undefined>(defaultValues)\n      scopedContexts.set(scope, ScopedContext)\n    }\n    return ScopedContext!\n  }\n\n  const getNamespacedScope = (scope: string) =>\n    namespace ? `${namespace}--${scope}` : scope\n\n  const Provider = ({\n    children,\n    scope: scopeIn,\n    // performance: avoid creating objects\n    __disableMergeDefaultValues,\n    ...values\n  }: VariantProps & { children?: ReactNode; scope: string }) => {\n    const scope = getNamespacedScope(scopeIn)\n\n    const next = React.useMemo(() => {\n      if (__disableMergeDefaultValues) {\n        // we already merged and want to keep ordering\n        return values\n      }\n      return mergeProps(defaultValues!, values)\n    }, [objectIdentityKey(values)])\n\n    let ScopedProvider = OGProvider\n    if (scope) {\n      ScopedProvider = getOrCreateScopedContext(scope).Provider\n    }\n    return (\n      <LastScopeInNamespace.Provider value={scope}>\n        <ScopedProvider value={next as VariantProps}>{children}</ScopedProvider>\n      </LastScopeInNamespace.Provider>\n    )\n  }\n\n  // use consumerComponent just to give a better error message\n  const useStyledContext = (scopeIn = '') => {\n    const lastScopeInNamespace = useContext(LastScopeInNamespace)\n    const scope = namespace\n      ? scopeIn\n        ? getNamespacedScope(scopeIn)\n        : lastScopeInNamespace\n      : scopeIn\n    const context = scope ? getOrCreateScopedContext(scope) : OGContext\n    const value = React.useContext(context!) as VariantProps\n    return value\n  }\n\n  // @ts-expect-error we are overriding default provider\n  Context.Provider = Provider\n  Context.props = defaultValues\n  Context.context = OGContext as Context<VariantProps>\n  Context.useStyledContext = useStyledContext\n\n  return Context\n}\n", "// *0 order matches to *1\n\nexport const pseudoDescriptorsBase = {\n  // order of keys here important! in priority order\n  hoverStyle: {\n    name: 'hover',\n    priority: 2,\n  },\n  pressStyle: {\n    name: 'active',\n    stateKey: 'press',\n    priority: 3,\n  },\n  focusVisibleStyle: {\n    name: 'focus-visible',\n    priority: 4,\n    stateKey: 'focusVisible',\n  },\n  focusStyle: {\n    name: 'focus',\n    priority: 4,\n  },\n  focusWithinStyle: {\n    name: 'focus-within',\n    priority: 4,\n    stateKey: 'focusWithin',\n  },\n  disabledStyle: {\n    name: 'disabled',\n    priority: 5,\n    stateKey: 'disabled',\n  },\n} as const\n\nexport const pseudoPriorities = {\n  hover: pseudoDescriptorsBase.hoverStyle.priority,\n  press: pseudoDescriptorsBase.pressStyle.priority,\n  focus: pseudoDescriptorsBase.focusStyle.priority,\n  focusVisible: pseudoDescriptorsBase.focusVisibleStyle.priority,\n  focusWithin: pseudoDescriptorsBase.focusWithinStyle.priority,\n  disabled: pseudoDescriptorsBase.disabledStyle.priority,\n}\n\nexport type PseudoDescriptorKey = keyof typeof pseudoDescriptorsBase\n\nexport const pseudoDescriptors: Record<\n  PseudoDescriptorKey | 'enterStyle' | 'exitStyle',\n  PseudoDescriptor\n> = {\n  ...pseudoDescriptorsBase,\n  enterStyle: {\n    name: 'enter',\n    selector: '.t_unmounted',\n    priority: 4,\n  },\n  exitStyle: {\n    name: 'exit',\n    priority: 5,\n  },\n}\n\nexport type PseudoDescriptor = {\n  name: string\n  priority: number\n  stateKey?: string\n  selector?: string\n}\n\nexport type PseudoDescriptors = {\n  [Key in keyof typeof pseudoDescriptors]: PseudoDescriptor\n}\n\n// media always above pseudos\nexport const defaultMediaImportance = Object.keys(pseudoDescriptors).length\n", "/**\n * Preserves prop ordering, so that the order most closely matches the last spread objects\n * Useful for having { ...defaultProps, ...props } that ensure props ordering is always kept\n *\n * Honestly this is somehwat backwards logically from Object.assign, reason was that we typically\n * are merging defaultProps, givenProps, but we started using it elsewhere and now its a bit confusing\n * Should look into refactoring this to match common usage\n *\n * Merges sub-objects if they start are pseudo-keys or media-key-like (start with \"$\")\n *\n *    Given:\n *      mergeProps({ a: 1, b: 2 }, { b: 1, a: 2 })\n *    The final key order will be:\n *      b, a\n *\n */\n\nimport { pseudoDescriptors } from './pseudoDescriptors'\n\nexport type GenericProps = Record<string, any>\n\nexport const mergeProps = (defaultProps: Object, props: Object) => {\n  const out: GenericProps = {}\n\n  // in general objects keys are sorted by order of insertion\n  // we merge \"defaultProps\" first as they should come first\n  // (so Object.keys(finalProps) will list [...defaultPropKeys] first)\n  // but we ignore any keys from props, and merge it after, that way\n  // final order is [...defaultPropKeys, ...propKeys]\n\n  // ⚠️ keep in sync with mergeComponentProps logic\n\n  for (const key in defaultProps) {\n    if (key in props) continue\n    out[key] = defaultProps[key]\n  }\n\n  for (const key in props) {\n    mergeProp(out, defaultProps, props, key)\n  }\n\n  return out\n}\n\n// merge props but also handles defaultProps + styledContext\nexport const mergeComponentProps = (\n  // this is \"a\" in mergeProps\n  defaultProps: Object | null | undefined,\n  contextProps: Object | undefined,\n  // this is \"b\" in mergeProps\n  props: Object\n) => {\n  let overriddenContext: GenericProps | null = null\n\n  if (!defaultProps && !contextProps) {\n    return [props, overriddenContext] as const\n  }\n\n  if (defaultProps && !contextProps) {\n    return [mergeProps(defaultProps, props), overriddenContext] as const\n  }\n\n  // the only unique case is contextProps, we need to track overrides and do something a bit tricky\n  // since we respect prop order for styles, we want to preserve the object key order in overriddenContext\n\n  const out: GenericProps = {}\n\n  // ⚠️ keep in sync with mergeProps logic\n  // same logic as mergeProps but tracking overrides!\n\n  for (const key in defaultProps) {\n    if (key in props) continue\n    out[key] = defaultProps[key]\n  }\n\n  // styled context props go after defaultProps but before props\n  for (const key in contextProps) {\n    if (key in props) continue\n    const contextValue = contextProps[key]\n    // don't merge undefined context values to preserve inheritance\n    if (contextValue !== undefined) {\n      out[key] = contextValue\n    }\n  }\n\n  for (const key in props) {\n    mergeProp(out, defaultProps, props, key)\n    if (contextProps && key in contextProps) {\n      overriddenContext ||= {}\n      overriddenContext[key] = props[key]\n    }\n  }\n\n  return [out, overriddenContext] as const\n}\n\nfunction mergeProp(\n  out: Object,\n  defaultProps: Object | undefined | null,\n  props: Object,\n  key: string\n) {\n  let val = props[key]\n\n  // one special case - we merge tamagui style sub-objects\n  if (\n    defaultProps &&\n    key in defaultProps &&\n    (key in pseudoDescriptors || key[0] === '$') &&\n    val &&\n    typeof val === 'object'\n  ) {\n    const defaultVal = defaultProps[key]\n    if (defaultVal && typeof defaultVal === 'object') {\n      // use merge props so we prefer the key ordering the the last merged\n      val = mergeProps(defaultVal, val)\n    }\n  }\n\n  out[key] = val\n}\n", "export function objectIdentityKey(obj: Object) {\n  let k = ''\n  for (const key in obj) {\n    k += key\n    const arg = obj[key]\n    let type = typeof arg\n    if (!arg || (type !== 'object' && type !== 'function')) {\n      k += type + arg\n    } else if (cache.has(arg)) {\n      k += cache.get(arg)\n    } else {\n      let v = Math.random()\n      cache.set(arg, v)\n      k += v\n    }\n  }\n  return k\n}\n\nconst cache = new WeakMap()\n", "import { useContext } from 'react'\nimport { createStyledContext } from '../helpers/createStyledContext'\nimport type { ComponentContextI } from '../types'\n\nexport const ComponentContext = createStyledContext<ComponentContextI>({\n  disableSSR: undefined,\n  inText: false,\n  language: null,\n  animationDriver: null,\n  setParentFocusState: null,\n})\n\nexport const useConfiguration = () => {\n  return useContext(ComponentContext)\n}\n", "import { createContext } from 'react'\nimport type { AllGroupContexts } from '../types'\n\nexport const GroupContext = createContext<AllGroupContexts | null>(null)\n", "import React, { useEffect, useLayoutEffect } from 'react'\n\nexport const IS_REACT_19: boolean = typeof React.use !== 'undefined'\n\nexport const isWeb: boolean = true\nexport const isWindowDefined: boolean = typeof window !== 'undefined'\nexport const isServer: boolean = isWeb && !isWindowDefined\nexport const isClient: boolean = isWeb && isWindowDefined\n\nexport const useIsomorphicLayoutEffect: typeof useEffect = isServer\n  ? useEffect\n  : useLayoutEffect\n\nexport const isChrome: boolean =\n  typeof navigator !== 'undefined' && /Chrome/.test(navigator.userAgent || '')\n\nexport const isWebTouchable: boolean =\n  isClient && ('ontouchstart' in window || navigator.maxTouchPoints > 0)\n\nexport const isTouchable: boolean = !isWeb || isWebTouchable\n// set :boolean to avoid inferring type to false\nexport const isAndroid: boolean = false\nexport const isIos: boolean = process.env.TEST_NATIVE_PLATFORM === 'ios'\nexport const currentPlatform: 'web' | 'ios' | 'native' | 'android' = 'web'\n", "import type { StackStyle } from '../types'\n\nexport const THEME_NAME_SEPARATOR = '_'\nexport const THEME_CLASSNAME_PREFIX = 't_'\nexport const FONT_DATA_ATTRIBUTE_NAME = 'data-tamagui-font'\n\nexport const stackDefaultStyles = {}\n\nexport const webViewFlexCompatStyles: StackStyle = {\n  display: 'flex',\n  alignItems: 'stretch',\n  flexDirection: 'column',\n  flexBasis: 'auto',\n  boxSizing: 'border-box',\n  position: process.env.TAMAGUI_POSITION_STATIC === '1' ? 'static' : 'relative',\n  minHeight: 0,\n  minWidth: 0,\n  flexShrink: 0,\n}\n\nif (process.env.TAMAGUI_TARGET === 'web') {\n  Object.assign(stackDefaultStyles, webViewFlexCompatStyles)\n}\n\nexport const MISSING_THEME_MESSAGE =\n  process.env.NODE_ENV === 'development'\n    ? `Can't find Tamagui configuration.\n    \n99% of the time this is due to having mis-matched versions of Tamagui dependencies.\nEnsure that every \"tamagui\" and \"@tamagui/*\" dependency is pinned to exactly the same version.\n\nWe have a CLI tool to help check this: \n\n  npx @tamagui/cli check\n`\n    : `Missing theme.`\n", "import { isWeb } from '@tamagui/constants'\nimport { MISSING_THEME_MESSAGE } from './constants/constants'\nimport type {\n  ConfigListener,\n  GenericTamaguiSettings,\n  TamaguiInternalConfig,\n  Token,\n  Tokens,\n  TokensMerged,\n} from './types'\n\nlet conf: TamaguiInternalConfig | null\nlet setConfigCalledByThisInstance = false\n\nconst haventCalledErrorMessage =\n  process.env.NODE_ENV === 'development'\n    ? `\nHaven't called createTamagui yet. ${MISSING_THEME_MESSAGE}\n`\n    : `❌ Error 001`\n\n// helper to get config from module-scoped variable or globalthis fallback\n// this handles vite ssr bundling where multiple copies of tamagui may exist\nconst getConfigFromGlobalOrLocal = (): TamaguiInternalConfig | null => {\n  if (conf) {\n    return conf\n  }\n\n  // fall back to globalthis (for vite ssr bundling scenarios)\n  if (globalThis.__tamaguiConfig) {\n    // defer warning - if createTamagui runs in THIS instance, it's HMR (safe)\n    // if it never runs, it's a true duplicate (warn)\n    if (\n      process.env.NODE_ENV === 'development' &&\n      !globalThis.__tamaguiHasWarnedGlobalFallback &&\n      !globalThis.__tamaguiPendingCheck\n    ) {\n      globalThis.__tamaguiPendingCheck = true\n      setTimeout(() => {\n        if (\n          !setConfigCalledByThisInstance &&\n          !globalThis.__tamaguiHasWarnedGlobalFallback\n        ) {\n          globalThis.__tamaguiHasWarnedGlobalFallback = true\n          console.warn(\n            `Tamagui: Using global config fallback. This may indicate duplicate tamagui instances (e.g., from Vite SSR bundling). This is handled automatically, but may cause issues.`\n          )\n        }\n        globalThis.__tamaguiPendingCheck = false\n      }, 500)\n    }\n    return globalThis.__tamaguiConfig\n  }\n\n  return null\n}\n\nexport const getSetting = <Key extends keyof GenericTamaguiSettings>(\n  key: Key\n): GenericTamaguiSettings[Key] => {\n  const config = getConfigFromGlobalOrLocal()\n  if (process.env.NODE_ENV === 'development') {\n    if (!config) throw new Error(haventCalledErrorMessage)\n  }\n  return (\n    config!.settings[key] ??\n    // @ts-expect-error\n    config[key]\n  )\n}\n\nexport const setConfig = (next: TamaguiInternalConfig) => {\n  setConfigCalledByThisInstance = true\n  conf = next\n  globalThis.__tamaguiConfig = next\n}\n\nexport const setConfigFont = (name: string, font: any, fontParsed: any) => {\n  const config = getConfigFromGlobalOrLocal()\n  if (process.env.NODE_ENV === 'development') {\n    if (!config) throw new Error(haventCalledErrorMessage)\n  }\n  config!.fonts[name] = font\n  config!.fontsParsed[`$${name}`] = fontParsed\n}\n\nexport const getConfig = () => {\n  const config = getConfigFromGlobalOrLocal()\n  if (!config) {\n    throw new Error(\n      process.env.NODE_ENV !== 'production'\n        ? `Missing tamagui config, you either have a duplicate config, or haven't set it up. Be sure createTamagui is called before rendering. Also, make sure all of your tamagui dependencies are on the same version (\\`tamagui\\`, \\`@tamagui/package-name\\`, etc.) not just in your package.json, but in your lockfile.`\n        : 'Err0'\n    )\n  }\n  return config\n}\n\nexport const getConfigMaybe = () => {\n  return getConfigFromGlobalOrLocal()\n}\n\nlet tokensMerged: TokensMerged\nexport function setTokens(_: TokensMerged) {\n  tokensMerged = _\n}\n\nexport const getTokens = ({\n  prefixed,\n}: {\n  /**\n   * Force either with $ or without $ prefix\n   */\n  prefixed?: boolean\n} = {}): TokensMerged => {\n  const config = getConfigFromGlobalOrLocal()\n  if (process.env.NODE_ENV === 'development') {\n    if (!config) throw new Error(haventCalledErrorMessage)\n  }\n  const { tokens, tokensParsed } = config!\n  if (prefixed === false) return tokens as any\n  if (prefixed === true) return tokensParsed as any\n  return tokensMerged\n}\n\nexport const getTokenObject = (value: Token, group?: keyof Tokens) => {\n  const config = getConfigFromGlobalOrLocal()\n  return (\n    config!.specificTokens[value] ??\n    (group\n      ? tokensMerged[group]?.[value]\n      : tokensMerged[\n          Object.keys(tokensMerged).find((cat) => tokensMerged[cat][value]) || ''\n        ]?.[value])\n  )\n}\n\nexport const getToken = (value: Token, group?: keyof Tokens, useVariable = isWeb) => {\n  const token = getTokenObject(value, group)\n  return useVariable ? token?.variable : token?.val\n}\n\nexport const getTokenValue = (value: Token | 'unset' | 'auto', group?: keyof Tokens) => {\n  if (value === 'unset' || value === 'auto') return\n  return getToken(value, group, false)\n}\n\n/**\n * Note: this is the same as `getTokens`\n */\nexport const useTokens = getTokens\n\nexport const getThemes = () => getConfigFromGlobalOrLocal()!.themes\n\nexport const configListeners = new Set<ConfigListener>()\n\nexport const onConfiguredOnce = (cb: ConfigListener) => {\n  const config = getConfigFromGlobalOrLocal()\n  if (config) {\n    cb(config)\n  } else {\n    configListeners.add(cb)\n  }\n}\n\nexport const updateConfig = (key: string, value: any) => {\n  // for usage internally only\n  const config = getConfigFromGlobalOrLocal()\n  Object.assign(config![key], value)\n}\n\n// searches by value name or token name\nexport const getFont = (name: string) => {\n  const conf = getConfig()\n  return (\n    conf.fontsParsed[name] ??\n    Object.entries(conf.fontsParsed).find(\n      ([k]) => conf.fontsParsed[k]?.family?.['val'] === name\n    )?.[1]\n  )\n}\n\ntype DevConfig = {\n  visualizer?:\n    | boolean\n    | {\n        key?: string\n        delay?: number\n      }\n}\n\nexport let devConfig: DevConfig | undefined\n\nexport function setupDev(conf: DevConfig) {\n  if (process.env.NODE_ENV === 'development') {\n    devConfig = conf\n  }\n}\n", "import type { MatchMedia, MediaQueryList } from '../types'\n\nexport const matchMedia =\n  (typeof window !== 'undefined' && window.matchMedia) || matchMediaFallback\n\nfunction matchMediaFallback(_: string): MediaQueryList {\n  return {\n    match: (a, b) => false,\n    addListener() {},\n    removeListener() {},\n    matches: false,\n  }\n}\n\nexport function setupMatchMedia(_: MatchMedia) {\n  // no-op web\n}\n", "import { isServer, isWeb } from '@tamagui/constants'\nimport { useRef, useSyncExternalStore } from 'react'\nimport { getConfig, getSetting } from '../config'\nimport { matchMedia } from '../helpers/matchMedia'\nimport type {\n  ComponentContextI,\n  DebugProp,\n  GetStyleState,\n  IsMediaType,\n  MediaQueries,\n  MediaQueryObject,\n  MediaQueryState,\n  TamaguiInternalConfig,\n  UseMediaState,\n  WidthHeight,\n} from '../types'\nimport { defaultMediaImportance } from '../helpers/pseudoDescriptors'\n\nexport let mediaState: MediaQueryState =\n  // development only safeguard\n  process.env.NODE_ENV === 'development'\n    ? new Proxy(\n        {},\n        {\n          get(target, key) {\n            if (\n              typeof key === 'string' &&\n              key[0] === '$' &&\n              // dont error on $$typeof\n              key[1] !== '$'\n            ) {\n              throw new Error(`Access mediaState should not use \"$\": ${key}`)\n            }\n            return Reflect.get(target, key)\n          },\n        }\n      )\n    : ({} as any)\n\nexport const mediaQueryConfig: MediaQueries = {}\n\nexport const getMedia = () => mediaState\n\nexport const mediaKeys = new Set<string>() // with $ prefix\n\nconst mediaKeyRegex = /\\$(platform|theme|group)-/\n\nexport const isMediaKey = (key: string): boolean => {\n  if (key[0] !== '$') return false\n  if (mediaKeys.has(key)) return true\n  if (mediaKeyRegex.test(key)) return true\n  return false\n}\n\nexport const getMediaKey = (key: string): IsMediaType => {\n  if (key[0] !== '$') return false\n  if (mediaKeys.has(key)) return true\n  const match = key.match(mediaKeyRegex)\n  if (match) return match[1] as 'platform' | 'theme' | 'group'\n  return false\n}\n\n// for SSR capture it at time of startup\nlet initState: MediaQueryState\n\nlet mediaKeysOrdered: string[]\n\nexport const getMediaKeyImportance = (key: string) => {\n  if (process.env.NODE_ENV === 'development' && key[0] === '$') {\n    throw new Error('use short key')\n  }\n\n  const conf = getConfig()\n  if (conf.settings.mediaPropOrder) {\n    return defaultMediaImportance\n  }\n\n  // + 100 because we set base usedKeys=1, pseudos are 2-N (however many we have)\n  // all media go above all pseudos so we need to pad it based on that\n  // right now theres 5 pseudos but in the future could be a few more\n  return mediaKeysOrdered.indexOf(key) + 100\n}\n\nconst dispose = new Set<Function>()\n\nlet mediaVersion = 0\n\nexport const configureMedia = (config: TamaguiInternalConfig) => {\n  const { media } = config\n  const mediaQueryDefaultActive = getSetting('mediaQueryDefaultActive')\n  if (!media) return\n  mediaVersion++\n  for (const key in media) {\n    mediaState[key] = mediaQueryDefaultActive?.[key] || false\n    mediaKeys.add(`$${key}`)\n  }\n  Object.assign(mediaQueryConfig, media)\n  initState = { ...mediaState }\n  mediaKeysOrdered = Object.keys(media)\n  setupMediaListeners()\n}\n\nfunction unlisten() {\n  dispose.forEach((cb) => cb())\n  dispose.clear()\n}\n\n/**\n * Note: This should *not* set the state on the first render!\n * Because to avoid hydration issues SSR must match the server\n * *and then* re-render with the actual media query state.\n */\nlet setupVersion = -1\nexport function setupMediaListeners() {\n  if (isWeb && isServer) return\n  if (process.env.IS_STATIC) return\n\n  // avoid setting up more than once per config\n  if (setupVersion === mediaVersion) return\n  setupVersion = mediaVersion\n\n  // hmr, undo existing before re-binding\n  unlisten()\n\n  for (const key in mediaQueryConfig) {\n    const str = mediaObjectToString(mediaQueryConfig[key], key)\n    const getMatch = () => matchMedia(str)\n    const match = getMatch()\n    if (!match) {\n      throw new Error('⚠️ No match')\n    }\n\n    // react native needs these deprecated apis for now\n    match.addListener(update)\n    dispose.add(() => {\n      match.removeListener(update)\n    })\n\n    function update() {\n      const next = !!getMatch().matches\n      if (next === mediaState[key]) return\n      mediaState = { ...mediaState, [key]: next }\n      updateMediaListeners()\n    }\n\n    update()\n  }\n}\n\nconst listeners = new Set<any>()\n\nexport function updateMediaListeners() {\n  listeners.forEach((cb) => cb(mediaState))\n}\n\ntype MediaState = {\n  enabled?: boolean\n  keys?: Set<string> | null\n}\n\nconst States = new WeakMap<any, MediaState>()\n\nexport function setMediaShouldUpdate(\n  ref: any,\n  enabled?: boolean,\n  keys?: MediaState['keys']\n) {\n  const cur = States.get(ref)\n\n  if (!cur || cur.enabled !== enabled || keys) {\n    States.set(ref, {\n      ...cur,\n      enabled,\n      keys,\n    })\n  }\n}\n\nfunction subscribe(subscriber: () => void) {\n  listeners.add(subscriber)\n  return () => {\n    listeners.delete(subscriber)\n  }\n}\n\nexport function useMedia(\n  componentContext?: ComponentContextI,\n  debug?: DebugProp\n): UseMediaState {\n  const componentState = componentContext ? States.get(componentContext) : null\n\n  const internalRef = useRef<{\n    keys: Set<string>\n    lastState: MediaQueryState\n    pendingState?: MediaQueryState\n  }>(null)\n  if (!internalRef.current) {\n    internalRef.current = {\n      keys: new Set(),\n      lastState: mediaState,\n    }\n  }\n\n  // reset on next render\n  if (internalRef.current.pendingState) {\n    internalRef.current.lastState = internalRef.current.pendingState\n    internalRef.current.pendingState = undefined\n  }\n\n  const { keys } = internalRef.current\n\n  // clear each render to track only rendered touched keys\n  if (keys.size) {\n    keys.clear()\n  }\n\n  const state = useSyncExternalStore(\n    subscribe,\n    () => {\n      const curKeys = componentState?.keys || keys\n      const { lastState, pendingState } = internalRef.current!\n\n      if (!curKeys.size) {\n        return lastState\n      }\n\n      for (const key of curKeys) {\n        if (mediaState[key] !== (pendingState || lastState)[key]) {\n          if (process.env.NODE_ENV === 'development' && debug) {\n            console.warn(`useMedia() ✍️`, key, lastState[key], '=>', mediaState[key])\n          }\n\n          // in emitter mode (no-rerender) avoid changing state, instead emit\n          if (componentContext?.mediaEmit) {\n            componentContext.mediaEmit(mediaState)\n            internalRef.current!.pendingState = mediaState\n            return lastState\n          }\n\n          internalRef.current!.lastState = mediaState\n\n          return mediaState\n        }\n      }\n\n      return lastState\n    },\n    getServerSnapshot\n  )\n\n  return new Proxy(state, {\n    get(_, key) {\n      if (!disableMediaTouch && typeof key === 'string') {\n        keys.add(key)\n      }\n      return Reflect.get(state, key)\n    },\n  })\n}\n\nconst getServerSnapshot = () => initState\n\nlet disableMediaTouch = false\nexport function _disableMediaTouch(val: boolean) {\n  disableMediaTouch = val\n}\n\nexport function getMediaState(mediaGroups: Set<string>, layout: WidthHeight) {\n  disableMediaTouch = true\n  let res: Record<string, boolean>\n  try {\n    res = Object.fromEntries(\n      [...mediaGroups].map((mediaKey) => {\n        return [mediaKey, mediaKeyMatch(mediaKey, layout as any)]\n      })\n    )\n  } finally {\n    disableMediaTouch = false\n  }\n  return res\n}\n\nexport const getMediaImportanceIfMoreImportant = (\n  mediaKey: string,\n  key: string,\n  styleState: GetStyleState,\n  isSizeMedia: boolean\n) => {\n  const importance =\n    isSizeMedia && !getSetting('mediaPropOrder')\n      ? getMediaKeyImportance(mediaKey)\n      : defaultMediaImportance\n  const usedKeys = styleState.usedKeys\n  return !usedKeys[key] || importance > usedKeys[key] ? importance : null\n}\n\nfunction camelToHyphen(str: string) {\n  return str.replace(/[A-Z]/g, (m) => `-${m.toLowerCase()}`).toLowerCase()\n}\n\nconst cache = new WeakMap<any, string>()\nconst cachedMediaKeyToQuery: Record<string, string> = {}\n\nexport function mediaObjectToString(query: string | MediaQueryObject, key?: string) {\n  if (typeof query === 'string') {\n    return query\n  }\n  if (cache.has(query)) {\n    return cache.get(query)!\n  }\n  const res = Object.entries(query)\n    .map(([feature, value]) => {\n      feature = camelToHyphen(feature)\n      if (typeof value === 'string') {\n        return `(${feature}: ${value})`\n      }\n      if (typeof value === 'number' && /[height|width]$/.test(feature)) {\n        value = `${value}px`\n      }\n      return `(${feature}: ${value})`\n    })\n    .join(' and ')\n  if (key) {\n    cachedMediaKeyToQuery[key] = res\n  }\n  cache.set(query, res)\n  return res\n}\n\nexport function mediaKeyToQuery(key: string) {\n  return cachedMediaKeyToQuery[key] || mediaObjectToString(mediaQueryConfig[key], key)\n}\n\nexport function mediaKeyMatch(\n  key: string,\n  dimensions: { width: number; height: number }\n) {\n  const mediaQueries = mediaQueryConfig[key]\n  const result = Object.keys(mediaQueries).every((query) => {\n    const expectedVal = +mediaQueries[query]\n    const isMax = query.startsWith('max')\n    const isWidth = query.endsWith('Width')\n    const givenVal = dimensions[isWidth ? 'width' : 'height']\n    // if not max then min\n    return isMax ? givenVal < expectedVal : givenVal > expectedVal\n  })\n  return result\n}\n", "const cache = new Map<string, string>()\nlet cacheSize = 0\n\nexport const simpleHash = (strIn: string, hashMin: number | 'strict' = 10): string => {\n  if (cache.has(strIn)) {\n    return cache.get(strIn)!\n  }\n\n  let str = strIn\n\n  // remove var()\n  if (str[0] === 'v' && str.startsWith('var(')) {\n    str = str.slice(6, str.length - 1)\n  }\n\n  let hash = 0\n  let valids = ''\n  let added = 0\n  const len = str.length\n\n  for (let i = 0; i < len; i++) {\n    if (hashMin !== 'strict' && added <= hashMin) {\n      const char = str.charCodeAt(i)\n      if (char === 46) {\n        valids += '--'\n        continue\n      }\n      if (isValidCSSCharCode(char)) {\n        added++\n        valids += str[i]\n        continue\n      }\n    }\n    hash = hashChar(hash, str[i])\n  }\n\n  const res = valids + (hash ? Math.abs(hash) : '')\n\n  if (cacheSize > 10_000) {\n    cache.clear()\n    cacheSize = 0\n  }\n\n  cache.set(strIn, res)\n  cacheSize++\n\n  return res\n}\n\nconst hashChar = (hash: number, c: string) => (Math.imul(31, hash) + c.charCodeAt(0)) | 0\n\nfunction isValidCSSCharCode(code: number) {\n  return (\n    // A-Z\n    (code >= 65 && code <= 90) ||\n    // a-z\n    (code >= 97 && code <= 122) ||\n    // _\n    code === 95 ||\n    // -\n    code === 45 ||\n    // 0-9\n    (code >= 48 && code <= 57)\n  )\n}\n", "export function clamp(value: number, [min, max]: [number, number]): number {\n  return Math.min(max, Math.max(min, value))\n}\n", "type Events = Object\n\nexport type EventHandler<E extends Events> = (event: E) => void\n\nexport function composeEventHandlers<E extends Events>(\n  og?: EventHandler<E> | null,\n  next?: EventHandler<E> | null,\n  { checkDefaultPrevented = true } = {}\n) {\n  if (!og || !next) {\n    return next || og || undefined\n  }\n  return (event: E) => {\n    og?.(event)\n    if (\n      !event ||\n      !(\n        checkDefaultPrevented &&\n        typeof event === 'object' &&\n        'defaultPrevented' in event\n      ) ||\n      // @ts-ignore\n      ('defaultPrevented' in event && !event.defaultPrevented)\n    ) {\n      return next?.(event)\n    }\n  }\n}\n", "export type StyleObject = [\n  property: string,\n  value: any,\n  identifier: string,\n  pseudo: 'hover' | 'focus' | 'focus-visible' | 'focus-within' | 'active' | undefined,\n  rules: string[],\n]\n\nexport const StyleObjectProperty = 0\nexport const StyleObjectValue = 1\nexport const StyleObjectIdentifier = 2\nexport const StyleObjectPseudo = 3\nexport const StyleObjectRules = 4\n\nexport type MediaStyleObject = Omit<StyleObject, 'value'>\n", "import { currentPlatform } from '@tamagui/constants'\n\n// these types and helpers are to be used on the components that support the `native` prop\n// some usage examples are:\n// `<Component native` means render natively on any platform if possible\n// `<Component native={false}` means opt out of native\n// `<Component native=\"web\"` means render natively on web if possible\n// `<Component native={[\"web\", \"android\"]}` means render natively on web and android if possible\n// `<Component native={[\"mobile\"]}` means render natively on mobile (android or ios) if possible\n\nexport type NativePlatform =\n  | 'web'\n  | 'mobile' // called 'mobile' instead of 'native' because things could be 'native' to web as well\n  | 'android'\n  | 'ios'\n\nexport type ExplicitNativePlatform = Exclude<NativePlatform, 'mobile'>\n\nexport type NativeValue<Platform extends NativePlatform = NativePlatform> =\n  | boolean\n  | Platform\n  | Platform[]\n\nconst ALL_PLATFORMS: ExplicitNativePlatform[] = ['web', 'android', 'ios']\n/**\n *\n * takes in what user has inputted the native-supporting component and returns the name of the native platform we should render\n *\n * @example ['android'] => 'android' (when current platform is android)\n * @example ['android'] => null      (when current platform is not android)\n * @example ['mobile']  => 'ios'     (when current platform is ios)\n *\n * @param supportedSpecificNativeValues the platforms your component/system supports\n * @param nativeProp the platforms your user is requesting you to use\n * @returns\n */\nexport function shouldRenderNativePlatform(nativeProp?: NativeValue) {\n  if (!nativeProp) {\n    return null\n  }\n  const userRequestedPlatforms = resolvePlatformNames(nativeProp)\n\n  for (const platform of ALL_PLATFORMS) {\n    if (platform === currentPlatform && userRequestedPlatforms.has(platform)) {\n      return platform\n    }\n  }\n\n  return null\n}\n\nfunction resolvePlatformNames(nativeProp: NativeValue) {\n  const platforms: NativePlatform[] =\n    nativeProp === true // all native platforms\n      ? ALL_PLATFORMS\n      : nativeProp === false // no native platform\n        ? []\n        : Array.isArray(nativeProp)\n          ? nativeProp\n          : [nativeProp]\n  const set = new Set(platforms)\n\n  if (set.has('mobile')) {\n    // mobile means android and ios so we'll just use the explicit platforms here\n    set.add('android')\n    set.add('ios')\n    set.delete('mobile')\n  }\n  return set as Set<ExplicitNativePlatform>\n}\n", "import { isAndroid } from '@tamagui/constants'\n\n// generally organizing this so we don't duplicate things so its a bit weird\n\nconst textColors = {\n  color: true,\n  textDecorationColor: true,\n  textShadowColor: true,\n}\n\n// used for propMapping to find the right token category\n// just specificy the least costly, all else go to `space` (most keys - we can exclude)\nexport const tokenCategories = {\n  radius: {\n    borderRadius: true,\n    borderTopLeftRadius: true,\n    borderTopRightRadius: true,\n    borderBottomLeftRadius: true,\n    borderBottomRightRadius: true,\n\n    // logical\n    borderStartStartRadius: true,\n    borderStartEndRadius: true,\n    borderEndStartRadius: true,\n    borderEndEndRadius: true,\n  },\n  size: {\n    width: true,\n    height: true,\n    minWidth: true,\n    minHeight: true,\n    maxWidth: true,\n    maxHeight: true,\n    blockSize: true,\n    minBlockSize: true,\n    maxBlockSize: true,\n    inlineSize: true,\n    minInlineSize: true,\n    maxInlineSize: true,\n  },\n  zIndex: {\n    zIndex: true,\n  },\n  color: {\n    backgroundColor: true,\n    borderColor: true,\n    borderBlockStartColor: true,\n    borderBlockEndColor: true,\n    borderBlockColor: true,\n    borderBottomColor: true,\n    borderInlineColor: true,\n    borderInlineStartColor: true,\n    borderInlineEndColor: true,\n    borderTopColor: true,\n    borderLeftColor: true,\n    borderRightColor: true,\n    borderEndColor: true,\n    borderStartColor: true,\n    shadowColor: true,\n    ...textColors,\n    ...(process.env.TAMAGUI_TARGET === 'web' && {\n      outlineColor: true,\n      caretColor: true,\n    }),\n  },\n}\n\nexport const stylePropsUnitless = {\n  WebkitLineClamp: true,\n  animationIterationCount: true,\n  aspectRatio: true,\n  borderImageOutset: true,\n  borderImageSlice: true,\n  borderImageWidth: true,\n  columnCount: true,\n  flex: true,\n  flexGrow: true,\n  flexOrder: true,\n  flexPositive: true,\n  flexShrink: true,\n  flexNegative: true,\n  fontWeight: true,\n  gridRow: true,\n  gridRowEnd: true,\n  gridRowGap: true,\n  gridRowStart: true,\n  gridColumn: true,\n  gridColumnEnd: true,\n  gridColumnGap: true,\n  gridColumnStart: true,\n  gridTemplateColumns: true,\n  gridTemplateAreas: true,\n  lineClamp: true,\n  opacity: true,\n  order: true,\n  orphans: true,\n  tabSize: true,\n  widows: true,\n  zIndex: true,\n  zoom: true,\n  scale: true,\n  scaleX: true,\n  scaleY: true,\n  scaleZ: true,\n  shadowOpacity: true,\n}\n\nexport const stylePropsTransform = {\n  x: true,\n  y: true,\n  scale: true,\n  perspective: true,\n  scaleX: true,\n  scaleY: true,\n  skewX: true,\n  skewY: true,\n  matrix: true,\n  rotate: true,\n  rotateY: true,\n  rotateX: true,\n  rotateZ: true,\n}\n\nexport const stylePropsView = {\n  backfaceVisibility: true,\n  borderBottomEndRadius: true,\n  borderBottomStartRadius: true,\n  borderBottomWidth: true,\n  borderLeftWidth: true,\n  borderRightWidth: true,\n  borderBlockWidth: true,\n  borderBlockEndWidth: true,\n  borderBlockStartWidth: true,\n  borderInlineWidth: true,\n  borderInlineEndWidth: true,\n  borderInlineStartWidth: true,\n  borderStyle: true,\n  borderBlockStyle: true,\n  borderBlockEndStyle: true,\n  borderBlockStartStyle: true,\n  borderInlineStyle: true,\n  borderInlineEndStyle: true,\n  borderInlineStartStyle: true,\n  borderTopEndRadius: true,\n  borderTopStartRadius: true,\n  borderTopWidth: true,\n  borderWidth: true,\n  transform: true,\n  transformOrigin: true,\n  alignContent: true,\n  alignItems: true,\n  alignSelf: true,\n  borderEndWidth: true,\n  borderStartWidth: true,\n  bottom: true,\n  display: true,\n  end: true,\n  flexBasis: true,\n  flexDirection: true,\n  flexWrap: true,\n  gap: true,\n  columnGap: true,\n  rowGap: true,\n  justifyContent: true,\n  left: true,\n  margin: true,\n  marginBlock: true,\n  marginBlockEnd: true,\n  marginBlockStart: true,\n  marginInline: true,\n  marginInlineStart: true,\n  marginInlineEnd: true,\n  marginBottom: true,\n  marginEnd: true,\n  marginHorizontal: true,\n  marginLeft: true,\n  marginRight: true,\n  marginStart: true,\n  marginTop: true,\n  marginVertical: true,\n  overflow: true,\n  padding: true,\n  paddingBottom: true,\n  paddingInline: true,\n  paddingBlock: true,\n  paddingBlockStart: true,\n  paddingInlineEnd: true,\n  paddingInlineStart: true,\n  paddingEnd: true,\n  paddingHorizontal: true,\n  paddingLeft: true,\n  paddingRight: true,\n  paddingStart: true,\n  paddingTop: true,\n  paddingVertical: true,\n  position: true,\n  right: true,\n  start: true,\n  top: true,\n  inset: true,\n  insetBlock: true,\n  insetBlockEnd: true,\n  insetBlockStart: true,\n  insetInline: true,\n  insetInlineEnd: true,\n  insetInlineStart: true,\n  direction: true,\n  shadowOffset: true,\n  shadowRadius: true,\n  ...tokenCategories.color,\n  ...tokenCategories.radius,\n  ...tokenCategories.size,\n  ...tokenCategories.radius,\n  ...stylePropsTransform,\n  ...stylePropsUnitless,\n\n  boxShadow: true,\n  filter: true,\n\n  // RN 0.77+ style props (set REACT_NATIVE_PRE_77=1 for older RN)\n  ...(!process.env.REACT_NATIVE_PRE_77 && {\n    boxSizing: true,\n    mixBlendMode: true,\n    outlineColor: true,\n    outlineSpread: true,\n    outlineStyle: true,\n    outlineWidth: true,\n  }),\n\n  // allow a few web only ones\n\n  ...(process.env.TAMAGUI_TARGET === 'web' && {\n    // RN doesn't support specific border styles per-edge\n    transition: true,\n    textWrap: true,\n    backdropFilter: true,\n    WebkitBackdropFilter: true,\n    background: true,\n    backgroundAttachment: true,\n    backgroundBlendMode: true,\n    backgroundClip: true,\n    backgroundColor: true,\n    backgroundImage: true,\n    backgroundOrigin: true,\n    backgroundPosition: true,\n    backgroundRepeat: true,\n    backgroundSize: true,\n    borderBottomStyle: true,\n    borderImage: true,\n    borderLeftStyle: true,\n    borderRightStyle: true,\n    borderTopStyle: true,\n    caretColor: true,\n    clipPath: true,\n    contain: true,\n    containerType: true,\n    content: true,\n    cursor: true,\n    float: true,\n    mask: true,\n    maskBorder: true,\n    maskBorderMode: true,\n    maskBorderOutset: true,\n    maskBorderRepeat: true,\n    maskBorderSlice: true,\n    maskBorderSource: true,\n    maskBorderWidth: true,\n    maskClip: true,\n    maskComposite: true,\n    maskImage: true,\n    maskMode: true,\n    maskOrigin: true,\n    maskPosition: true,\n    maskRepeat: true,\n    maskSize: true,\n    maskType: true,\n    objectFit: true,\n    objectPosition: true,\n    outlineOffset: true,\n    overflowBlock: true,\n    overflowInline: true,\n    overflowX: true,\n    overflowY: true,\n    pointerEvents: true,\n    scrollbarWidth: true,\n    textEmphasis: true,\n    touchAction: true,\n    transformStyle: true,\n    userSelect: true,\n    willChange: true,\n  }),\n  ...(isAndroid ? { elevationAndroid: true } : {}),\n}\n\nconst stylePropsFont = {\n  fontFamily: true,\n  fontSize: true,\n  fontStyle: true,\n  fontWeight: true,\n  fontVariant: true,\n  letterSpacing: true,\n  lineHeight: true,\n  textTransform: true,\n}\n\nexport const stylePropsTextOnly = {\n  ...stylePropsFont,\n  textAlign: true,\n  textDecorationLine: true,\n  textDecorationStyle: true,\n  ...textColors,\n  textShadowOffset: true,\n  textShadowRadius: true,\n  userSelect: true,\n  selectable: true,\n  verticalAlign: true,\n\n  // allow some web only ones\n  ...(process.env.TAMAGUI_TARGET === 'web' && {\n    whiteSpace: true,\n    wordWrap: true,\n    textOverflow: true,\n    textDecorationDistance: true,\n    cursor: true,\n    WebkitLineClamp: true,\n    WebkitBoxOrient: true,\n  }),\n}\n\nexport const stylePropsText = {\n  ...stylePropsView,\n  ...stylePropsTextOnly,\n}\n\nexport const stylePropsAll = stylePropsText\n\nexport const validPseudoKeys = {\n  enterStyle: true,\n  exitStyle: true,\n  hoverStyle: true,\n  pressStyle: true,\n  focusStyle: true,\n  disabledStyle: true,\n  focusWithinStyle: true,\n\n  // allow some web only ones\n  ...(process.env.TAMAGUI_TARGET === 'web' && {\n    focusVisibleStyle: true,\n  }),\n}\n\nexport const validStyles = stylePropsView\n", "import React from 'react'\n\nconst Decorated = Symbol()\n\ntype Combined<A, B> = A & B\n\nexport const withStaticProperties = <A extends Function, B>(\n  component: A,\n  staticProps: B\n): Combined<A, B> => {\n  // clone component if already wrapped once\n  const next = (() => {\n    if (component[Decorated]) {\n      const _ = React.forwardRef((props, ref) =>\n        React.createElement(component as any, { ...props, ref })\n      )\n      // attach existing things again\n      for (const key in component) {\n        const v = component[key]\n        // @ts-ignore\n        _[key] = v && typeof v === 'object' ? { ...v } : v\n      }\n    }\n    return component\n  })()\n\n  // add new things\n  Object.assign(next, staticProps)\n  next[Decorated] = true\n\n  return next as any as A & B\n}\n", "export * from '@tamagui/simple-hash'\nexport * from './clamp'\nexport * from './composeEventHandlers'\nexport * from './types'\nexport * from './shouldRenderNativePlatform'\nexport * from './validStyleProps'\nexport * from './withStaticProperties'\n", "import { isWeb } from '@tamagui/constants'\nimport { simpleHash } from '@tamagui/helpers'\n\nimport { getConfig } from './config'\nimport type { PxValue, TokenCategories, Variable } from './types'\n\n/**\n * Should rename this to Token\n * Moving to objects for React Server Components support\n */\n\nfunction constructCSSVariableName(name: string) {\n  return `var(--${process.env.TAMAGUI_CSS_VARIABLE_PREFIX || ''}${name})`\n}\n\ntype VariableIn<A = any> = Pick<Variable<A>, 'key' | 'name' | 'val'>\n\nexport const createVariable = <A extends string | number | Variable = any>(\n  props: VariableIn<A>,\n  skipHash = false\n): Variable<A> => {\n  if (!skipHash && isVariable(props)) return props\n  const { key, name, val } = props\n  return {\n    isVar: true,\n    key,\n    name: skipHash ? name : simpleHash(name, 40),\n    val,\n    variable: isWeb\n      ? skipHash\n        ? constructCSSVariableName(name)\n        : createCSSVariable(name)\n      : '',\n  }\n}\n\n// could do weakmap cache\nexport function variableToString(vrble?: any, getValue = false) {\n  if (isVariable(vrble)) {\n    if (!getValue && isWeb && vrble.variable) {\n      return vrble.variable\n    }\n    return `${vrble.val}`\n  }\n  return `${vrble || ''}`\n}\n\nexport function isVariable(v: Variable | any): v is Variable {\n  return v && typeof v === 'object' && 'isVar' in v\n}\n\nexport function getVariable(\n  nameOrVariable: Variable | string | any,\n  group: TokenCategories = 'size'\n) {\n  // dynamic color-like\n  if (nameOrVariable?.dynamic) {\n    return nameOrVariable\n  }\n  setDidGetVariableValue(true)\n  if (isVariable(nameOrVariable)) {\n    return variableToString(nameOrVariable)\n  }\n  const tokens = getConfig().tokensParsed\n  return variableToString(tokens[group]?.[nameOrVariable] ?? nameOrVariable)\n}\n\nlet accessed = false\nexport const setDidGetVariableValue = (val: boolean) => (accessed = val)\nexport const didGetVariableValue = () => accessed\n\nexport function getVariableValue(v: Variable | any, group?: TokenCategories) {\n  if (isVariable(v)) {\n    setDidGetVariableValue(true)\n    return v.val\n  }\n  if (group) {\n    const tokens = getConfig().tokensParsed\n    const token = tokens[group]?.[v]\n    if (token) {\n      setDidGetVariableValue(true)\n      return token.val\n    }\n  }\n  return v\n}\n\nexport function getVariableName(v: Variable | any) {\n  if (isVariable(v)) return v.name\n  return v\n}\n\nexport function getVariableVariable(v: Variable | any) {\n  if (isVariable(v)) return v.variable\n  return v\n}\n\n// bugfix { space: { 0.5: 10 } } was generating var(--space-0.5) (invalid CSS):\nexport const createCSSVariable = (nameProp: string, includeVar = true) => {\n  if (process.env.NODE_ENV === 'development') {\n    if (!nameProp || typeof nameProp !== 'string') {\n      throw new Error(`createCSSVariable expected string, got: ${nameProp}`)\n    }\n  }\n  const name = simpleHash(nameProp, 60)\n  return includeVar ? constructCSSVariableName(name) : name\n}\n\n/**\n * Helper function to mark a token value as needing px units.\n * Usage: px(100) creates a token that will become \"100px\" on web, 100 on native.\n *\n * @param value - The numeric value\n * @returns A special object that indicates this value needs px units\n */\nexport function px(value: number): PxValue {\n  return {\n    val: value,\n    needsPx: true,\n  }\n}\n", "import { useRef } from 'react'\nimport type {\n  ThemeParsed,\n  ThemeProps,\n  ThemeState,\n  UseThemeWithStateProps,\n} from '../types'\nimport { getThemeProxied, type ThemeProxied } from './getThemeProxied'\nimport { useThemeState } from './useThemeState'\n\nexport const useTheme = (props: ThemeProps = {}) => {\n  const [theme] = useThemeWithState(props)\n  const res = theme\n  return res as ThemeProxied\n}\n\nexport type ThemeWithState = [ThemeParsed, ThemeState]\n\n/**\n * Adds a proxy around themeState that tracks update keys\n */\nexport const useThemeWithState = (\n  props: UseThemeWithStateProps,\n  isRoot = false\n): ThemeWithState => {\n  const keys = useRef<Set<string> | null>(null)\n  const themeState = useThemeState(props, isRoot, keys)\n\n  if (process.env.NODE_ENV === 'development') {\n    if (!props.passThrough && !themeState?.theme) {\n      if (process.env.TAMAGUI_DISABLE_NO_THEME_WARNING !== '1') {\n        console.error(\n          `[tamagui] No theme found, this could be due to an invalid theme name (given theme props ${JSON.stringify(\n            props\n          )}).\\n\\nIf this is intended and you are using Tamagui without any themes, you can disable this warning by setting the environment variable TAMAGUI_DISABLE_NO_THEME_WARNING=1`\n        )\n      }\n    }\n  }\n\n  const themeProxied = props.passThrough ? {} : getThemeProxied(props, themeState, keys)\n\n  return [themeProxied, themeState]\n}\n", "import { isIos } from '@tamagui/constants'\nimport type { MutableRefObject } from 'react'\nimport { getConfig, getSetting } from '../config'\nimport { getVariable } from '../createVariable'\nimport { getDynamicVal } from '../helpers/getDynamicVal'\nimport type {\n  ThemeParsed,\n  ThemeState,\n  Tokens,\n  UseThemeWithStateProps,\n  Variable,\n  VariableVal,\n  VariableValGeneric,\n} from '../types'\nimport { doesRootSchemeMatchSystem } from './doesRootSchemeMatchSystem'\n\nexport type ThemeProxied = {\n  [Key in keyof ThemeParsed | keyof Tokens['color']]: ThemeGettable<\n    Key extends keyof ThemeParsed ? ThemeParsed[Key] : Variable<any>\n  >\n} & {\n  // fallback to other tokens\n  [Key in string & {}]?: ThemeGettable<Variable<any>>\n}\n\ntype ThemeGettable<Val> = Val & {\n  /**\n   * Tries to return an optimized value that avoids the need for re-rendering:\n   * On web a CSS variable, on iOS a dynamic color, on Android it doesn't\n   * optimize and returns the underyling value.\n   *\n   * See: https://reactnative.dev/docs/dynamiccolorios\n   *\n   * @param platform when \"web\" it will only return the dynamic value for web, avoiding the iOS dynamic value.\n   * For things like SVG, gradients, or other external components that don't support it, use this option.\n   */\n  get: (\n    platform?: 'web'\n  ) =>\n    | string\n    | (Val extends Variable<infer X>\n        ? X extends VariableValGeneric\n          ? any\n          : Exclude<X, Variable>\n        : Val extends VariableVal\n          ? string | number\n          : unknown)\n}\n\n// only proxy each theme one time, after that we know that renders are sync,\n// so we can just change the focus of the proxied theme and it can be re-used\nconst cache: Map<ThemeParsed, ThemeProxied> = new Map()\n\nlet curKeys: MutableRefObject<Set<string> | null>\nlet curProps: UseThemeWithStateProps\nlet curState: ThemeState | null\n\nconst emptyObject = {}\n\nexport function getThemeProxied(\n  // underscore to prevent accidental usage below\n  _props: UseThemeWithStateProps,\n  _state: ThemeState | null,\n  _keys: MutableRefObject<Set<string> | null>\n): ThemeProxied {\n  if (!_state?.theme) {\n    return emptyObject\n  }\n\n  curKeys = _keys\n  curProps = _props\n  curState = _state\n\n  if (cache.has(curState.theme)) {\n    const proxied = cache.get(curState.theme)!\n    return proxied\n  }\n\n  // first time running on this theme, create:\n  // from here on only use current*\n\n  const config = getConfig()\n\n  function track(key: string) {\n    if (!curKeys) return\n    if (!curKeys.current) {\n      curKeys.current = new Set()\n    }\n    curKeys.current.add(key)\n    if (process.env.NODE_ENV === 'development' && curProps.debug) {\n      console.info(` 🎨 useTheme() tracking new key: ${key}`, curKeys)\n    }\n  }\n\n  const proxied = Object.fromEntries(\n    Object.entries(_state.theme).flatMap(([key, value]) => {\n      const proxied = {\n        ...value,\n        get val() {\n          // when they touch the actual value we only track it if its a variable (web), its ignored!\n          if (!globalThis.tamaguiAvoidTracking) {\n            // always track .val\n            track(key)\n          }\n          return value.val\n        },\n        get(platform?: 'web') {\n          if (!curState) return\n\n          const outVal = getVariable(value)\n          const { name, scheme, inverses } = curState\n\n          if (process.env.TAMAGUI_TARGET === 'native') {\n            // ios can avoid re-rendering in some cases when we are using a root light/dark\n            // disabled in cases where we have animations\n            const shouldOptimize =\n              scheme &&\n              platform !== 'web' &&\n              isIos &&\n              !curProps.deopt &&\n              getSetting('fastSchemeChange') &&\n              inverses === 0 &&\n              doesRootSchemeMatchSystem()\n\n            if (shouldOptimize) {\n              const oppositeScheme = scheme === 'dark' ? 'light' : 'dark'\n              const oppositeName = name.replace(scheme, oppositeScheme)\n              const color = getVariable(config.themes[name]?.[key])\n              const oppositeColor = getVariable(config.themes[oppositeName]?.[key])\n\n              const dynamicVal = getDynamicVal({\n                scheme,\n                val: color,\n                oppositeVal: oppositeColor,\n              })\n\n              return dynamicVal\n            }\n\n            if (process.env.NODE_ENV === 'development' && curProps.debug) {\n              console.info(` 🎨 useTheme() tracking new key because of: \n                not web: ${platform !== 'web'}\n                isIOS: ${isIos}\n                deopt: ${curProps.deopt}\n                fastScheme: ${getSetting('fastSchemeChange')}\n              `)\n            }\n\n            track(key)\n          }\n\n          return outVal\n        },\n      }\n\n      return [\n        [key, proxied],\n        [`$${key}`, proxied],\n      ]\n    })\n  ) as ThemeProxied\n\n  cache.set(_state.theme, proxied)\n\n  return proxied\n}\n", "import { useIsomorphicLayoutEffect } from '@tamagui/constants'\nimport {\n  createContext,\n  useCallback,\n  useContext,\n  useId,\n  useSyncExternalStore,\n  type MutableRefObject,\n} from 'react'\nimport { getConfig } from '../config'\nimport { MISSING_THEME_MESSAGE } from '../constants/constants'\nimport type {\n  ThemeParsed,\n  ThemeProps,\n  ThemeState,\n  UseThemeWithStateProps,\n} from '../types'\n\ntype ID = string\n\nexport const ThemeStateContext = createContext<ID>('')\n\nconst allListeners = new Map<ID, Function>()\nconst listenersByParent: Record<ID, Set<ID>> = {}\nconst HasRenderedOnce = new WeakMap<Object, boolean>()\nconst HadTheme = new WeakMap<Object, boolean>()\nconst PendingUpdate = new Map<any, boolean | 'force'>()\n\n// TODO this will gain memory over time but its not going to be a ton\nconst states: Map<ID, ThemeState | undefined> = new Map()\nconst localStates: Map<ID, ThemeState | undefined> = new Map()\n\nlet shouldForce = false\nexport const forceUpdateThemes = () => {\n  cacheVersion++\n  shouldForce = true\n  allListeners.forEach((cb) => cb())\n}\n\nexport const getThemeState = (id: ID) => states.get(id)\n\n// const cache = new Map<string, ThemeState>()\nlet cacheVersion = 0\n\nlet themes: Record<string, ThemeParsed> | null = null\n\nlet rootThemeState: ThemeState | null = null\nexport const getRootThemeState = () => rootThemeState\n\nexport const useThemeState = (\n  props: UseThemeWithStateProps,\n  isRoot = false,\n  keys: MutableRefObject<Set<string> | null>\n): ThemeState => {\n  const { disable } = props\n  const parentId = useContext(ThemeStateContext)\n\n  if (!parentId && !isRoot) {\n    throw new Error(MISSING_THEME_MESSAGE)\n  }\n\n  if (disable) {\n    return (\n      states.get(parentId) || {\n        id: '',\n        name: 'light',\n        theme: getConfig().themes.light,\n        inverses: 0,\n      }\n    )\n  }\n\n  const id = useId()\n  const subscribe = useCallback(\n    (cb: Function) => {\n      listenersByParent[parentId] ||= new Set()\n      listenersByParent[parentId].add(id)\n      allListeners.set(id, () => {\n        PendingUpdate.set(id, shouldForce ? 'force' : true)\n        cb()\n      })\n      return () => {\n        allListeners.delete(id)\n        listenersByParent[parentId].delete(id)\n        localStates.delete(id)\n        states.delete(id)\n        PendingUpdate.delete(id)\n      }\n    },\n    [id, parentId]\n  )\n\n  const propsKey = getPropsKey(props)\n\n  const getSnapshot = () => {\n    let local = localStates.get(id)\n\n    const needsUpdate = props.passThrough\n      ? false\n      : isRoot || props.name === 'light' || props.name === 'dark' || props.name === null\n        ? true\n        : !HasRenderedOnce.get(keys)\n          ? true\n          : keys?.current?.size\n            ? true\n            : props.needsUpdate?.()\n\n    // const parentState = states.get(parentId)\n    // const cacheKey = `${cacheVersion}${id}${propsKey}${parentState?.name || ''}${isRoot}`\n    // if (!needsUpdate) {\n    //   if (cache.has(cacheKey)) {\n    //     return cache.get(cacheKey)!\n    //   }\n    // }\n\n    const [rerender, next] = getNextState(\n      local,\n      props,\n      propsKey,\n      isRoot,\n      id,\n      parentId,\n      needsUpdate,\n      PendingUpdate.get(id)\n    )\n\n    PendingUpdate.delete(id)\n\n    // we always create a new localState for every component\n    // that way we can use it to de-opt and avoid renders granularly\n    // we always return the localState object in each component\n    // the global state (states) should always be up to date with the latest\n    if (!local || rerender) {\n      local = { ...next }\n      localStates.set(id, local)\n    }\n\n    if (process.env.NODE_ENV === 'development' && props.debug === 'verbose') {\n      console.groupCollapsed(` ${id} getSnapshot ${rerender}`, local.name, '>', next.name)\n      console.info({ props, propsKey, isRoot, parentId, local, next, needsUpdate })\n      console.groupEnd()\n    }\n\n    Object.assign(local, next)\n    local.id = id\n    states.set(id, next)\n\n    return local\n  }\n\n  if (process.env.NODE_ENV === 'development' && globalThis.time)\n    globalThis.time`theme-prep-uses`\n\n  const state = useSyncExternalStore(subscribe, getSnapshot, getSnapshot)\n\n  useIsomorphicLayoutEffect(() => {\n    if (!HasRenderedOnce.get(keys)) {\n      HasRenderedOnce.set(keys, true)\n      return\n    }\n    if (!propsKey) {\n      if (HadTheme.get(keys)) {\n        // we're removing the last theme, make sure to notify\n        scheduleUpdate(id)\n      }\n      HadTheme.set(keys, false)\n      return\n    }\n    if (process.env.NODE_ENV === 'development' && props.debug === 'verbose') {\n      console.warn(` · useTheme(${id}) scheduleUpdate`, propsKey, states.get(id)?.name)\n    }\n    scheduleUpdate(id)\n    HadTheme.set(keys, true)\n  }, [keys, propsKey])\n\n  return state\n}\n\nconst getNextState = (\n  lastState: ThemeState | undefined,\n  props: UseThemeWithStateProps,\n  propsKey: string,\n  isRoot = false,\n  id: string,\n  parentId: string,\n  needsUpdate: boolean | undefined,\n  pendingUpdate: boolean | 'force' | undefined\n): [boolean, ThemeState] => {\n  const { debug } = props\n  const parentState = states.get(parentId)\n\n  if (props.passThrough) {\n    return [false, lastState || parentState || ({ name: '' } as any)]\n  }\n\n  if (!themes) {\n    themes = getConfig().themes\n  }\n\n  const name =\n    !propsKey && (!lastState || !lastState?.isNew)\n      ? null\n      : getNewThemeName(\n          parentState?.name,\n          props,\n          pendingUpdate === 'force' ? true : !!needsUpdate\n        )\n  const isSameAsParent = parentState && (!name || name === parentState.name)\n  const shouldRerender = Boolean(\n    needsUpdate && (pendingUpdate || lastState?.name !== parentState?.name)\n  )\n\n  if (process.env.NODE_ENV === 'development' && debug === 'verbose') {\n    const message = ` · useTheme(${id}) getNextState => ${name} needsUpdate ${needsUpdate} shouldRerender ${shouldRerender}`\n    if (process.env.TAMAGUI_TARGET === 'native') {\n      console.info(message)\n    } else {\n      console.groupCollapsed(message)\n      console.trace({ name, lastState, parentState, props, propsKey, id, isSameAsParent })\n      console.groupEnd()\n    }\n  }\n\n  if (isSameAsParent) {\n    return [shouldRerender, { ...parentState, isNew: false }]\n  }\n\n  if (!name) {\n    const next = lastState ?? parentState\n\n    if (!next) {\n      throw new Error(MISSING_THEME_MESSAGE)\n    }\n\n    if (shouldRerender) {\n      const updated = { ...(parentState || lastState)! }\n      return [true, updated]\n    }\n\n    return [false, next]\n  }\n\n  const scheme = getScheme(name)\n  const parentInverses = parentState?.inverses ?? 0\n  const isInverse = parentState && scheme !== parentState.scheme\n  const inverses = parentInverses + (isInverse ? 1 : 0)\n\n  const nextState = {\n    id,\n    name,\n    theme: themes[name],\n    scheme,\n    parentId,\n    parentName: parentState?.name,\n    inverses,\n    isInverse,\n    isNew: true,\n  } satisfies ThemeState\n\n  if (isRoot) {\n    rootThemeState = nextState\n  }\n\n  if (pendingUpdate !== 'force' && lastState && lastState.name === name) {\n    return [false, nextState]\n  }\n\n  const shouldAvoidRerender =\n    pendingUpdate !== 'force' &&\n    lastState &&\n    !needsUpdate &&\n    nextState.name === lastState.name\n\n  if (process.env.NODE_ENV === 'development' && debug === 'verbose') {\n    console.groupCollapsed(\n      ` · useTheme(${id}) ⏭️ ${name} shouldAvoidRerender: ${shouldAvoidRerender}`\n    )\n    console.info({ lastState, needsUpdate, nextState, pendingUpdate })\n    console.groupEnd()\n  }\n\n  // we still update the state (not changing identity), that way children can properly resolve the right state\n  // but this one wont trigger an update\n  if (shouldAvoidRerender) {\n    return [false, nextState]\n  }\n\n  return [true, nextState]\n}\n\nconst regexParentScheme = /^(light|dark)_/\n\nfunction scheduleUpdate(id: string) {\n  const queue = [id]\n  const visited = new Set<string>()\n\n  while (queue.length) {\n    const parent = queue.shift()!\n    const children = listenersByParent[parent]\n    if (children) {\n      for (const childId of children) {\n        if (!visited.has(childId)) {\n          visited.add(childId)\n          queue.push(childId)\n        }\n      }\n    }\n  }\n\n  visited.forEach((childId) => {\n    const cb = allListeners.get(childId)\n    cb?.()\n  })\n}\n\nconst validSchemes = {\n  light: 'light',\n  dark: 'dark',\n} as const\n\nfunction getScheme(name: string) {\n  return validSchemes[name.split('_')[0]]\n}\n\nfunction getNewThemeName(\n  parentName = '',\n  { name, reset, componentName, inverse, debug }: UseThemeWithStateProps,\n  forceUpdate = false\n): string | null {\n  if (name && reset) {\n    throw new Error(\n      process.env.NODE_ENV === 'production'\n        ? `❌004`\n        : 'Cannot reset and set a new name at the same time.'\n    )\n  }\n\n  const { themes } = getConfig()\n\n  if (reset) {\n    // For reset, we need to go back to the grandparent theme\n    // If parentName is just a scheme (like \"dark\" or \"light\"),\n    // we should return the opposite scheme or a default\n    const isSchemeOnly = parentName === 'light' || parentName === 'dark'\n    if (isSchemeOnly) {\n      // If parent is just a scheme, go to the opposite scheme\n      return parentName === 'light' ? 'dark' : 'light'\n    }\n\n    // For compound themes like \"dark_blue\", extract the scheme\n    const lastPartIndex = parentName.lastIndexOf('_')\n    // parentName will have format light_{name} or dark_{name}\n    const name = lastPartIndex <= 0 ? parentName : parentName.slice(lastPartIndex)\n    const scheme = parentName.slice(0, lastPartIndex)\n    const result = themes[name] ? name : scheme\n    return result\n  }\n\n  const parentParts = parentName.split('_')\n\n  // always remove component theme if it exists, we never sub a component theme\n  const lastName = parentParts[parentParts.length - 1]\n  if (lastName && lastName[0].toLowerCase() !== lastName[0]) {\n    parentParts.pop()\n  }\n\n  const subNames = [\n    name && componentName ? `${name}_${componentName}` : undefined,\n    name,\n    componentName,\n  ].filter(Boolean) as string[]\n\n  let found: string | null = null\n\n  // If name is provided, try it as a standalone theme first (both with and without scheme)\n  // This allows explicit theme overrides like:\n  // - <Theme name=\"blue\"><Button theme=\"dark_green\"> → finds \"dark_green_Button\"\n  // - <Theme name=\"blue\"><Button theme=\"green\"> → finds \"light_green_Button\"\n  // - <Theme name=\"blue\"><Button theme=\"green_active\"> → finds \"light_green_active_Button\"\n  if (name) {\n    // First try the exact name as-is, but only if it already has a scheme prefix\n    // This prevents \"green\" from matching before we try \"light_green_Button\"\n    const nameHasScheme = getScheme(name)\n\n    if (nameHasScheme) {\n      // Name has scheme (like \"dark_green\"), try as-is with priority to component theme\n      for (const subName of subNames) {\n        if (subName in themes) {\n          found = subName\n          break\n        }\n      }\n    }\n\n    // If not found and name doesn't have a scheme, try adding parent's scheme\n    if (!found && !nameHasScheme) {\n      const parentScheme = getScheme(parentName)\n\n      if (parentScheme) {\n        // Try progressively shorter parent bases to preserve color context\n        // For parent \"light_blue_surface1\" + name \"surface3\":\n        //   Try: light_blue_surface1_surface3, light_blue_surface3, light_surface3\n        // This ensures color context (blue) is preserved before falling back to scheme-only\n\n        // Build list of potential bases from most specific to least specific\n        const potentialBases: string[] = []\n        for (let i = parentParts.length; i >= 1; i--) {\n          potentialBases.push(parentParts.slice(0, i).join('_'))\n        }\n\n        outer: for (const base of potentialBases) {\n          // Try with componentName first, then without\n          const candidates = [\n            componentName ? `${base}_${name}_${componentName}` : undefined,\n            `${base}_${name}`,\n          ].filter(Boolean) as string[]\n\n          for (const potential of candidates) {\n            if (potential in themes) {\n              found = potential\n              break outer\n            }\n          }\n        }\n      }\n    }\n  }\n\n  // If not found, fall back to the original search algorithm combining with parent\n  if (!found) {\n    // If we're only adding componentName (no explicit name prop), don't backtrack through parent parts\n    // This preserves sub-themes like \"light_red_alt1\" when adding Button component\n    if (!name && componentName) {\n      // Just try adding component to full parent\n      const potential = `${parentParts.join('_')}_${componentName}`\n      if (potential in themes) {\n        found = potential\n      }\n      // If not found, don't add component theme - return null to keep parent theme\n    } else {\n      // Original backtracking search for when explicit name is provided\n      const max = parentParts.length\n\n      for (let i = 0; i <= max; i++) {\n        const base = (i === 0 ? parentParts : parentParts.slice(0, -i)).join('_')\n\n        for (const subName of subNames) {\n          const potential = base ? `${base}_${subName}` : subName\n\n          if (potential in themes) {\n            found = potential\n            break\n          }\n        }\n\n        if (found) break\n      }\n    }\n  }\n\n  if (inverse) {\n    found ||= parentName\n    const scheme = found.split('_')[0]\n    found = found.replace(new RegExp(`^${scheme}`), scheme === 'light' ? 'dark' : 'light')\n  }\n\n  if (\n    !forceUpdate &&\n    found === parentName &&\n    // if its a scheme only sub-theme, we always consider it \"new\" because it likely inverses\n    // and we want to avoid reparenting\n    !validSchemes[found]\n  ) {\n    return null\n  }\n\n  return found\n}\n\nconst getPropsKey = ({\n  name,\n  reset,\n  inverse,\n  forceClassName,\n  componentName,\n}: ThemeProps) =>\n  `${name || ''}${inverse || ''}${reset || ''}${forceClassName || ''}${componentName || ''}`\n\nexport const hasThemeUpdatingProps = (props: ThemeProps) =>\n  'inverse' in props || 'name' in props || 'reset' in props || 'forceClassName' in props\n", "// from radix\n// https://raw.githubusercontent.com/radix-ui/primitives/main/packages/react/compose-refs/src/composeRefs.tsx\n\nimport * as React from 'react'\n\ntype PossibleRef<T> =\n  | React.Ref<T>\n  | React.ForwardedRef<T>\n  | React.RefObject<T>\n  | React.Dispatch<React.SetStateAction<T | null>>\n  | undefined\n\n/**\n * Set a given ref to a given value\n * This utility takes care of different types of refs: callback refs and RefObject(s)\n */\nexport function setRef<T>(ref: PossibleRef<T>, value: T) {\n  if (typeof ref === 'function') {\n    ref(value)\n  } else if (ref) {\n    ;(ref as React.MutableRefObject<T>).current = value\n  }\n}\n\n/**\n * A utility to compose multiple refs together\n * Accepts callback refs and RefObject(s)\n */\nexport function composeRefs<T>(...refs: PossibleRef<T>[]) {\n  return (node: T) => refs.forEach((ref) => setRef(ref, node))\n}\n\n/**\n * A custom hook that composes multiple refs\n * Accepts callback refs and RefObject(s)\n */\nexport function useComposedRefs<T>(...refs: PossibleRef<T>[]) {\n  return React.useCallback(composeRefs(...refs), refs)\n}\n", "export const defaultOffset = { height: 0, width: 0 }\n", "import * as normalizeColor from '@react-native/normalize-color'\n\n// vite/webpack compat\nconst norm = normalizeColor.default || normalizeColor\nexport const normalizeCSSColor = norm as (color: string) => number | null\n\nexport function rgba(colorInt: number) {\n  const r = Math.round((colorInt & 0xff000000) >>> 24)\n  const g = Math.round((colorInt & 0x00ff0000) >>> 16)\n  const b = Math.round((colorInt & 0x0000ff00) >>> 8)\n  const a = ((colorInt & 0x000000ff) >>> 0) / 255\n  return {\n    r,\n    g,\n    b,\n    a,\n  }\n}\n\nexport default normalizeCSSColor\n", "import { normalizeCSSColor, rgba } from '@tamagui/normalize-css-color'\n\nexport { rgba } from '@tamagui/normalize-css-color'\n\nexport const normalizeColor = (color?: string | null, opacity?: number) => {\n  if (!color) return\n  // Handle dynamic color objects (from $theme-dark/$theme-light)\n  if (typeof color !== 'string') return color\n  if (color[0] === '$') return color\n  if (color.startsWith('var(')) {\n    if (typeof opacity === 'number' && opacity < 1) {\n      return `color-mix(in srgb, ${color} ${opacity * 100}%, transparent)`\n    }\n  } else {\n    const rgba = getRgba(color)\n    if (rgba) {\n      const colors = `${rgba.r},${rgba.g},${rgba.b}`\n      return opacity === 1\n        ? `rgb(${colors})`\n        : `rgba(${colors},${opacity ?? rgba.a ?? 1})`\n    }\n  }\n  return color\n}\n\nexport const getRgba = (color: string) => {\n  // Handle dynamic color objects (from $theme-dark/$theme-light)\n  if (typeof color !== 'string') return\n  const colorNum = normalizeCSSColor(color)\n  if (colorNum != null) {\n    return rgba(colorNum)\n  }\n}\n", "/**\n * Some parts adapted from react-native-web\n * Copyright (c) Nicolas Gallagher licensed under the MIT license.\n */\n\nimport { isWeb } from '@tamagui/constants'\nimport { stylePropsAll, stylePropsUnitless } from '@tamagui/helpers'\n\n// only doing this on web on native it accepts pixel values\n\nconst stylePropsAllPlusTransforms = {\n  ...stylePropsAll,\n  translateX: true,\n  translateY: true,\n}\n\nexport function normalizeValueWithProperty(value: any, property = ''): any {\n  if (!isWeb) return value\n  if (\n    stylePropsUnitless[property] ||\n    (property && !stylePropsAllPlusTransforms[property]) ||\n    typeof value === 'boolean'\n  ) {\n    return value\n  }\n  let res = value\n  if (value && typeof value === 'object') return value\n  if (typeof value === 'number') {\n    res = `${value}px`\n  } else if (property) {\n    res = `${res}`\n  }\n  return res\n}\n", "import { normalizeValueWithProperty } from './normalizeValueWithProperty'\n\nexport function transformsToString(transforms: Object[]) {\n  return transforms\n    .map(\n      // { scale: 2 } => 'scale(2)'\n      // { translateX: 20 } => 'translateX(20px)'\n      // { matrix: [1,2,3,4,5,6] } => 'matrix(1,2,3,4,5,6)'\n      // { perspective: 1000 } => perspective(1000px)\n      (transform) => {\n        const type = Object.keys(transform)[0]\n        const value = transform[type]\n        if (type === 'matrix' || type === 'matrix3d') {\n          return `${type}(${value.join(',')})`\n        }\n        return `${type}(${normalizeValueWithProperty(value, type)})`\n      }\n    )\n    .join(' ')\n}\n", "/**\n * Some parts adapted from react-native-web\n * Copyright (c) Nicolas Gallagher licensed under the MIT license.\n */\n\nimport type { StyleObject } from '@tamagui/helpers'\nimport { simpleHash } from '@tamagui/helpers'\nimport { getConfigMaybe } from '../config'\nimport { isMediaKey } from '../hooks/useMedia'\nimport type { TamaguiInternalConfig, ViewStyleWithPseudos } from '../types'\nimport { defaultOffset } from './defaultOffset'\nimport { normalizeColor } from './normalizeColor'\nimport { normalizeValueWithProperty } from './normalizeValueWithProperty'\nimport type { PseudoDescriptor } from './pseudoDescriptors'\nimport { pseudoDescriptors } from './pseudoDescriptors'\nimport { transformsToString } from './transformsToString'\n\n// refactor this file away next...\n\nexport function getCSSStylesAtomic(style: ViewStyleWithPseudos) {\n  styleToCSS(style)\n  const out: StyleObject[] = []\n  for (const key in style) {\n    if (key === '$$css') continue\n    const val = style[key]\n    if (key in pseudoDescriptors) {\n      if (val) {\n        out.push(...getStyleAtomic(val, pseudoDescriptors[key]))\n      }\n    } else if (isMediaKey(key)) {\n      for (const subKey in val) {\n        const so = getStyleObject(val, subKey)\n        if (so) {\n          so[0] = key // set the property to be eg $platform-web so we can use it above\n          out.push(so)\n        }\n      }\n    } else {\n      const so = getStyleObject(style, key)\n      if (so) {\n        out.push(so)\n      }\n    }\n  }\n  return out\n}\n\nexport const getStyleAtomic = (\n  style: ViewStyleWithPseudos,\n  pseudo?: PseudoDescriptor\n): StyleObject[] => {\n  styleToCSS(style)\n  const out: StyleObject[] = []\n  for (const key in style) {\n    const so = getStyleObject(style, key, pseudo)\n    if (so) {\n      out.push(so)\n    }\n  }\n  return out\n}\n\nlet conf: TamaguiInternalConfig | null = null\n\n// this could be cached for performance?\nconst getStyleObject = (\n  style: ViewStyleWithPseudos,\n  key: string,\n  pseudo?: PseudoDescriptor\n): StyleObject | undefined => {\n  let val = style[key]\n  if (val == null) return\n  // transform\n  if (key === 'transform' && Array.isArray(style.transform)) {\n    val = transformsToString(val)\n  }\n  const value = normalizeValueWithProperty(val, key)\n  const hash = simpleHash(typeof value === 'string' ? value : `${value}`)\n  const pseudoPrefix = pseudo ? `0${pseudo.name}-` : ''\n  conf ||= getConfigMaybe()\n  const shortProp = conf?.inverseShorthands[key] || key\n  const identifier = `_${shortProp}-${pseudoPrefix}${hash}`\n  const rules = createAtomicRules(identifier, key, value, pseudo)\n  return [\n    // array for performance\n    key,\n    value,\n    identifier,\n    pseudo?.name as any,\n    rules,\n  ]\n}\n\nexport function styleToCSS(style: Record<string, any>) {\n  // box-shadow\n  const { shadowOffset, shadowRadius, shadowColor, shadowOpacity } = style\n  if (\n    shadowRadius != null ||\n    shadowColor ||\n    shadowOffset != null ||\n    shadowOpacity != null\n  ) {\n    const offset = shadowOffset || defaultOffset\n    const width = normalizeValueWithProperty(offset.width)\n    const height = normalizeValueWithProperty(offset.height)\n    const radius = normalizeValueWithProperty(shadowRadius)\n    const color = normalizeColor(shadowColor, shadowOpacity)\n    if (color) {\n      const shadow = `${width} ${height} ${radius} ${color}`\n      style.boxShadow = style.boxShadow ? `${style.boxShadow}, ${shadow}` : shadow\n    }\n    delete style.shadowOffset\n    delete style.shadowRadius\n    delete style.shadowColor\n    delete style.shadowOpacity\n  }\n\n  // text-shadow\n  const { textShadowColor, textShadowOffset, textShadowRadius } = style\n  if (textShadowColor || textShadowOffset || textShadowRadius) {\n    const { height, width } = textShadowOffset || defaultOffset\n    const radius = textShadowRadius || 0\n    const color = normalizeValueWithProperty(textShadowColor, 'textShadowColor')\n    if (color && (height !== 0 || width !== 0 || radius !== 0)) {\n      const blurRadius = normalizeValueWithProperty(radius)\n      const offsetX = normalizeValueWithProperty(width)\n      const offsetY = normalizeValueWithProperty(height)\n      style.textShadow = `${offsetX} ${offsetY} ${blurRadius} ${color}`\n    }\n    delete style.textShadowColor\n    delete style.textShadowOffset\n    delete style.textShadowRadius\n  }\n}\n\nfunction createDeclarationBlock(style: [string, any][], important = false) {\n  let next = ''\n  for (const [key, value] of style) {\n    next += `${hyphenateStyleName(key)}:${value}${important ? ' !important' : ''};`\n  }\n  return `{${next}}`\n}\n\nconst hcache = {}\nconst toHyphenLower = (match: string) => `-${match.toLowerCase()}`\nconst hyphenateStyleName = (key: string) => {\n  if (key in hcache) return hcache[key]\n  const val = key.replace(/[A-Z]/g, toHyphenLower)\n  hcache[key] = val\n  return val\n}\n\n// adding one more :root so we always override react native web styles :/\nconst selectorPriority = (() => {\n  const res: Record<string, string> = {}\n  for (const key in pseudoDescriptors) {\n    const pseudo = pseudoDescriptors[key]\n    res[pseudo.name] = `${[...Array(pseudo.priority)].map(() => ':root').join('')} `\n  }\n  return res\n})()\n\nfunction createAtomicRules(\n  identifier: string,\n  property: string,\n  value: any,\n  pseudo?: PseudoDescriptor\n): string[] {\n  const pseudoIdPostfix = pseudo\n    ? pseudo.name === 'disabled'\n      ? `[aria-disabled]`\n      : `:${pseudo.name}`\n    : ''\n  const pseudoSelector = pseudo?.selector\n\n  let selector = pseudo\n    ? pseudoSelector\n      ? `${pseudoSelector} .${identifier}`\n      : `${selectorPriority[pseudo.name]} .${identifier}${pseudoIdPostfix}`\n    : `:root .${identifier}`\n\n  // enter style on css driver needs both:\n  //   .t_unmounted .selector\n  //   .selector.t_unmounted\n  if (pseudoSelector === pseudoDescriptors.enterStyle.selector) {\n    selector = `${selector}, .${identifier}${pseudoSelector}`\n  }\n\n  const important = !!pseudo\n\n  let rules: string[] = []\n\n  // Handle non-standard properties and object values that require multiple\n  // CSS rules to be created.\n  switch (property) {\n    // Equivalent to using '::placeholder'\n    case 'placeholderTextColor': {\n      const block = createDeclarationBlock(\n        [\n          ['color', value],\n          ['opacity', 1],\n        ],\n        important\n      )\n      rules.push(`${selector}::placeholder${block}`)\n      break\n    }\n\n    // all webkit prefixed rules\n    case 'backgroundClip':\n    case 'userSelect': {\n      const propertyCapitalized = `${property[0].toUpperCase()}${property.slice(1)}`\n      const webkitProperty = `Webkit${propertyCapitalized}`\n      const block = createDeclarationBlock(\n        [\n          [property, value],\n          [webkitProperty, value],\n        ],\n        important\n      )\n      rules.push(`${selector}${block}`)\n      break\n    }\n\n    // Polyfill for additional 'pointer-events' values\n    case 'pointerEvents': {\n      let finalValue = value\n      if (value === 'auto' || value === 'box-only') {\n        finalValue = 'auto'\n        if (value === 'box-only') {\n          rules.push(`${selector}>*${boxOnly}`)\n        }\n      } else if (value === 'none' || value === 'box-none') {\n        finalValue = 'none'\n        if (value === 'box-none') {\n          rules.push(`${selector}>*${boxNone}`)\n        }\n      }\n      const block = createDeclarationBlock([['pointerEvents', finalValue]], true)\n      rules.push(`${selector}${block}`)\n      break\n    }\n\n    default: {\n      const block = createDeclarationBlock([[property, value]], important)\n      rules.push(`${selector}${block}`)\n      break\n    }\n  }\n\n  // hover styles need to be conditional\n  // perhaps this can be generalized but for now lets just shortcut\n  // and hardcode for hover styles, if we need to later we can\n  // WEIRD SYNTAX, SEE:\n  //   https://stackoverflow.com/questions/40532204/media-query-for-devices-supporting-hover\n  if (pseudo?.name === 'hover') {\n    rules = rules.map((r) => `@media (hover) {${r}}`)\n  }\n\n  return rules\n}\n\nconst boxNone = createDeclarationBlock([['pointerEvents', 'auto']], true)\nconst boxOnly = createDeclarationBlock([['pointerEvents', 'none']], true)\n", "import { createContext, useContext } from 'react'\n\nexport const ClientOnlyContext: React.Context<boolean> = createContext(false)\n\nexport const ClientOnly = ({\n  children,\n  enabled,\n}: { children: any; enabled?: boolean }): React.ReactNode => {\n  const existingValue = useContext(ClientOnlyContext)\n  return (\n    <ClientOnlyContext.Provider value={enabled ?? existingValue}>\n      {children}\n    </ClientOnlyContext.Provider>\n  )\n}\n", "import * as React from 'react'\nimport { ClientOnlyContext } from './ClientOnly'\n\nexport { ClientOnly, ClientOnlyContext } from './ClientOnly'\n\nexport const useIsClientOnly = (): boolean => {\n  return React.useContext(ClientOnlyContext)\n}\n\nexport function useDidFinishSSR(): boolean {\n  const clientOnly = React.useContext(ClientOnlyContext)\n\n  if (clientOnly || process.env.TAMAGUI_TARGET === 'native') {\n    return true\n  }\n\n  return React.useSyncExternalStore(\n    subscribe,\n    () => true,\n    () => false\n  )\n}\n\nconst subscribe = () => () => {}\n\ntype FunctionOrValue<Value> = Value extends () => infer X ? X : Value\n\nexport function useClientValue<Value>(value?: Value): FunctionOrValue<Value> | undefined {\n  const done = useDidFinishSSR()\n  // @ts-expect-error this is fine but started to error in ts latest\n  return !done ? undefined : typeof value === 'function' ? value() : value\n}\n", "import { isWeb } from '@tamagui/constants'\nimport type { MutableRefObject } from 'react'\nimport React, { Children, cloneElement, forwardRef, isValidElement, useRef } from 'react'\nimport { getSetting } from '../config'\nimport { variableToString } from '../createVariable'\nimport { useThemeWithState } from '../hooks/useTheme'\nimport {\n  getThemeState,\n  hasThemeUpdatingProps,\n  ThemeStateContext,\n} from '../hooks/useThemeState'\nimport type { ThemeProps, ThemeState } from '../types'\nimport { ThemeDebug } from './ThemeDebug'\n\ntype ThemeComponentPropsOnly = ThemeProps & { passThrough?: boolean; contain?: boolean }\n\nexport const Theme = forwardRef(function Theme(props: ThemeComponentPropsOnly, ref) {\n  // @ts-expect-error only for internal views\n  if (props.disable) {\n    return props.children\n  }\n\n  const { passThrough } = props\n\n  const isRoot = !!props['_isRoot']\n\n  const [_, themeState] = useThemeWithState(props, isRoot)\n\n  const disableDirectChildTheme = props['disable-child-theme']\n\n  let finalChildren = disableDirectChildTheme\n    ? Children.map(props.children, (child) =>\n        passThrough ? child : cloneElement(child, { ['data-disable-theme']: true })\n      )\n    : props.children\n\n  if (ref) {\n    try {\n      React.Children.only(finalChildren)\n      // TODO deprecate react 18 and then avoid clone here and just pass prop\n      finalChildren = cloneElement(finalChildren, { ref })\n    } catch {\n      //ok\n    }\n  }\n\n  const stateRef = useRef({\n    hasEverThemed: false,\n  })\n\n  return getThemedChildren(\n    themeState,\n    finalChildren,\n    props,\n    isRoot,\n    stateRef,\n    passThrough\n  )\n})\n\nTheme['avoidForwardRef'] = true\n\nexport function getThemedChildren(\n  themeState: ThemeState,\n  children: any,\n  props: ThemeComponentPropsOnly,\n  isRoot = false,\n  stateRef: MutableRefObject<{ hasEverThemed?: boolean | 'wrapped' }>,\n  passThrough = false\n) {\n  const { shallow, forceClassName } = props\n\n  // always be true if ever themed so we avoid re-parenting\n  const state = stateRef.current\n  let hasEverThemed = state.hasEverThemed\n\n  let shouldRenderChildrenWithTheme =\n    hasEverThemed || themeState.isNew || isRoot || hasThemeUpdatingProps(props)\n\n  if (process.env.NODE_ENV === 'development' && props.debug === 'visualize') {\n    children = (\n      <ThemeDebug themeState={themeState} themeProps={props}>\n        {children}\n      </ThemeDebug>\n    )\n  }\n\n  if (!shouldRenderChildrenWithTheme) {\n    return children\n  }\n\n  // from here on out we have to be careful not to re-parent\n  children = (\n    <ThemeStateContext.Provider value={themeState.id}>\n      {children}\n    </ThemeStateContext.Provider>\n  )\n\n  const { isInverse, name } = themeState\n  const requiresExtraWrapper = isInverse || forceClassName\n\n  // it only ever progresses from false => true => 'wrapped'\n  if (!state.hasEverThemed) {\n    state.hasEverThemed = true\n  }\n  if (\n    requiresExtraWrapper ||\n    // if the theme is exactly dark or light, its likely to change between dark/light\n    // and that would require wrapping which would re-parent, so to avoid re-parenting do this\n    themeState.name === 'dark' ||\n    themeState.name === 'light'\n  ) {\n    state.hasEverThemed = 'wrapped'\n  }\n\n  // each children of these children wont get the theme\n  if (shallow) {\n    if (!themeState.parentId) {\n      // they are doing shallow but didnt change actually change a theme theme?\n    } else {\n      const parentState = getThemeState(\n        themeState.isNew ? themeState.id : themeState.parentId\n      )\n      if (!parentState) throw new Error(`‼️010`)\n      children = Children.toArray(children).map((child) => {\n        return isValidElement(child)\n          ? passThrough\n            ? child\n            : cloneElement(\n                child,\n                undefined,\n                <Theme name={parentState.name}>{(child as any).props.children}</Theme>\n              )\n          : child\n      })\n    }\n  }\n\n  if (process.env.NODE_ENV === 'development') {\n    if (!passThrough && props.debug) {\n      console.warn(` getThemedChildren`, {\n        requiresExtraWrapper,\n        forceClassName,\n        themeState,\n        state,\n        themeSpanProps: getThemeClassNameAndColor(themeState, props, isRoot),\n      })\n    }\n  }\n\n  if (forceClassName === false) {\n    return children\n  }\n\n  if (isWeb) {\n    const baseStyle = props.contain ? inertContainedStyle : inertStyle\n    const { className = '', color } = passThrough\n      ? {}\n      : getThemeClassNameAndColor(themeState, props, isRoot)\n\n    children = (\n      <span\n        className={`${className} is_Theme`}\n        style={passThrough ? baseStyle : { color, ...baseStyle }}\n      >\n        {children}\n      </span>\n    )\n\n    // to prevent tree structure changes always render this if inverse is true or false\n    if (state.hasEverThemed === 'wrapped') {\n      // but still calculate if we need the classnames\n      const className =\n        !passThrough && requiresExtraWrapper\n          ? `${\n              isInverse\n                ? name.startsWith('light')\n                  ? 't_light is_inversed'\n                  : name.startsWith('dark')\n                    ? 't_dark is_inversed'\n                    : ''\n                : ''\n            } `\n          : ``\n      children = (\n        <span style={baseStyle} className={className}>\n          {children}\n        </span>\n      )\n    }\n\n    return children\n  }\n\n  return children\n}\n\nconst inertStyle = {\n  display: 'contents',\n}\n\nconst inertContainedStyle = {\n  display: 'contents',\n  contain: 'strict',\n}\n\nconst empty = { className: '', color: undefined }\n\nfunction getThemeClassNameAndColor(\n  themeState: ThemeState,\n  props: ThemeProps,\n  isRoot = false\n) {\n  if (!themeState.isNew && !props.forceClassName) {\n    return empty\n  }\n\n  // in order to provide currentColor, set color by default\n  const themeColor =\n    themeState?.theme && themeState.isNew ? variableToString(themeState.theme.color) : ''\n\n  const maxInverses = getSetting('maxDarkLightNesting') || 3\n  const themeClassName =\n    themeState.inverses >= maxInverses\n      ? themeState.name\n      : themeState.name.replace(schemePrefix, '')\n\n  // Build full hierarchy of theme classes for CSS variable inheritance\n  // Examples:\n  // - \"red_alt1\" → \"t_red t_red_alt1\"\n  // - \"green_active_Button\" → \"t_green t_green_active t_green_active_Button\"\n  const themeNameParts = themeClassName.split('_')\n  let themeClasses = `t_${themeClassName}`\n\n  if (themeNameParts.length > 1) {\n    // Build full hierarchy for all multi-part themes (sub-themes, component themes, etc.)\n    // This enables CSS variable inheritance through all levels\n    const hierarchyClasses: string[] = []\n    for (let i = 1; i <= themeNameParts.length; i++) {\n      hierarchyClasses.push(`t_${themeNameParts.slice(0, i).join('_')}`)\n    }\n    themeClasses = hierarchyClasses.join(' ')\n  }\n\n  const className = `${isRoot ? '' : 't_sub_theme'} ${themeClasses}`\n\n  return { color: themeColor, className }\n}\n\nconst schemePrefix = /^(dark|light)_/\n", "import { useDidFinishSSR } from '@tamagui/use-did-finish-ssr'\nimport { useEffect } from 'react'\nimport { createPortal } from 'react-dom'\nimport { getThemeState } from '../hooks/useThemeState'\nimport type { ThemeProps, ThemeState } from '../types'\n\nlet node\n\nexport function ThemeDebug({\n  themeState,\n  themeProps,\n  children,\n}: { themeState: ThemeState; themeProps: ThemeProps; children: any }) {\n  if (process.env.NODE_ENV === 'development') {\n    const isHydrated = useDidFinishSSR()\n\n    if (process.env.NODE_ENV === 'development' && typeof document !== 'undefined') {\n      if (!node) {\n        node = document.createElement('div')\n        node.style.height = '200px'\n        node.style.overflowY = 'scroll'\n        node.style.position = 'fixed'\n        node.style.zIndex = 10000000\n        node.style.bottom = '30px'\n        node.style.left = '30px'\n        node.style.right = '30px'\n        node.style.display = 'flex'\n        node.style.border = '1px solid #888'\n        node.style.flexDirection = 'row'\n        node.style.background = 'var(--background)'\n      }\n    }\n\n    useEffect(() => {\n      document.body.appendChild(node)\n    }, [])\n\n    if (themeProps['disable-child-theme'] || !isHydrated) {\n      return children\n    }\n\n    const parentState = themeState.parentId ? getThemeState(themeState.parentId) : null\n\n    // hsla(0, 0%, 9%, 1)\n\n    return (\n      <>\n        {createPortal(\n          <code\n            style={{\n              whiteSpace: 'pre',\n              maxWidth: 250,\n              overflow: 'auto',\n              padding: 5,\n            }}\n          >\n            &lt;Theme {themeState.id} /&gt;&nbsp;\n            {JSON.stringify(\n              {\n                name: themeState.name,\n                color1: themeState.theme.color1.val,\n                parentId: themeState.parentId,\n                inverses: themeState.inverses,\n                isNew: themeState.isNew,\n                themeProps: {\n                  name: themeProps.name,\n                  componentName: themeProps.componentName,\n                  reset: themeProps.reset,\n                  inverse: themeProps.inverse,\n                },\n                parentState: {\n                  name: parentState?.name,\n                  isNew: parentState?.isNew,\n                },\n              },\n              null,\n              2\n            )}\n          </code>,\n          node\n        )}\n\n        <div style={{ color: 'red' }}>{themeState.id}</div>\n\n        {children}\n      </>\n    )\n  }\n  return children\n}\n\nThemeDebug['displayName'] = 'ThemeDebug'\n", "import React from 'react'\n\nimport type { StaticConfig, ThemeableProps, ThemeProps } from '../types'\nimport { Theme } from '../views/Theme'\n\nexport function themeable<ComponentType extends (props: any) => any>(\n  Component: ComponentType,\n  staticConfig?: Partial<StaticConfig>,\n  optimize = false\n) {\n  const withThemeComponent = React.forwardRef(function WithTheme(\n    props: ThemeableProps,\n    ref\n  ) {\n    const { themeInverse, theme, componentName, themeReset, ...rest } = props\n\n    let overriddenContextProps: Object | undefined\n    const context = staticConfig?.context\n    if (context) {\n      for (const key in context.props) {\n        const val = props[key]\n        if (val !== undefined) {\n          overriddenContextProps ||= {}\n          overriddenContextProps[key] = val\n        }\n      }\n    }\n\n    const element = (\n      // @ts-expect-error its ok\n      <Component ref={ref} {...rest} data-disable-theme />\n    )\n\n    // we filter out the props here, why?\n    // Theme internally avoids wrapping <span /> unless 'theme' in props\n    // reason for this is to avoid wrapping every single component with span\n    // *if* ever it themes once, it leaves the span, to avoid reparenting\n    // its expected if users want to avoid re-parenting, they keep the theme prop\n    // and just set it to null. but we need to \"respect\" that here by filtering\n    // one example of a bug caused by not doing this is in <Select native> on web\n    // where it renders to an <option />, and then Theme would wrap a <span /> in that\n    // which is not allowed in HTML and causes hydration errors / logs\n    let filteredProps: Partial<ThemeProps> | null = null\n\n    const compName = componentName || staticConfig?.componentName\n    if (compName) {\n      filteredProps ||= {}\n      filteredProps.componentName = compName\n    }\n    if ('debug' in props) {\n      filteredProps ||= {}\n      filteredProps.debug = props.debug\n    }\n    if ('theme' in props) {\n      filteredProps ||= {}\n      filteredProps.name = props.theme\n    }\n    if ('themeInverse' in props) {\n      filteredProps ||= {}\n      filteredProps.inverse = props.themeInverse\n    }\n    if ('themeReset' in props) {\n      filteredProps ||= {}\n      filteredProps.reset = themeReset\n    }\n\n    if (optimize && !filteredProps) {\n      // optimize by avoiding theme! this can re-parent but we should just document that to avoid performance\n      // in cases where you remove/add themes, just keep a theme={x ? '' : null} pattern\n      return element\n    }\n\n    let contents = (\n      <Theme disable-child-theme {...filteredProps}>\n        {element}\n      </Theme>\n    )\n\n    if (context) {\n      const Provider = context.Provider\n      const contextValue = React.useContext(context)\n      contents = (\n        <Provider {...contextValue} {...overriddenContextProps}>\n          {contents}\n        </Provider>\n      )\n    }\n\n    return contents\n  })\n\n  const withTheme: any = withThemeComponent\n  withTheme.displayName = `Themed(${\n    (Component as any)?.displayName || (Component as any)?.name || 'Anonymous'\n  })`\n\n  type FinalComponentType = ComponentType extends (props: infer P) => infer R\n    ? (props: Omit<P, 'theme' | 'themeInverse'> & ThemeableProps) => R\n    : unknown\n\n  return withTheme as FinalComponentType\n}\n", "import { useCallback } from 'react'\n\ntype DebugProp = null | undefined | boolean | 'profile' | 'verbose' | 'break'\n\nexport type CallbackSetState<State> = (next: (cb: State) => State) => void\n\nexport function useCreateShallowSetState<State extends Record<string, unknown>>(\n  setter: CallbackSetState<State>,\n  debug?: DebugProp\n): React.Dispatch<React.SetStateAction<Partial<State>>> {\n  // this must be memoized or it ruins performance in components\n  return useCallback(\n    (stateOrGetState) => {\n      setter((prev) => {\n        const next =\n          typeof stateOrGetState === 'function' ? stateOrGetState(prev) : stateOrGetState\n        const update = mergeIfNotShallowEqual(prev, next)\n\n        if (process.env.NODE_ENV === 'development') {\n          if (debug && update !== prev) {\n            console.groupCollapsed(`setStateShallow CHANGE`, '=>', update)\n            console.info(`previously`, prev)\n            console.trace()\n            console.groupEnd()\n            if (debug === 'break') {\n              // biome-ignore lint/suspicious/noDebugger: <explanation>\n              debugger\n            }\n          }\n        }\n        return update\n      })\n    },\n    [setter, debug]\n  )\n}\n\nexport function mergeIfNotShallowEqual<State extends Record<string, unknown>>(\n  prev: State,\n  next: Partial<State>\n): State {\n  if (!prev || !next || isEqualShallow(prev, next)) {\n    if (!prev) return next as State\n    return prev\n  }\n  return { ...prev, ...next }\n}\n\nexport function isEqualShallow(\n  prev: Record<string, unknown>,\n  next: Record<string, unknown>\n): boolean {\n  for (const key in next) {\n    if (prev[key] !== next[key]) {\n      return false\n    }\n  }\n  return true\n}\n", "import { composeRefs } from '@tamagui/compose-refs'\nimport {\n  IS_REACT_19,\n  isAndroid,\n  isClient,\n  isServer,\n  isWeb,\n  useIsomorphicLayoutEffect,\n} from '@tamagui/constants'\nimport { composeEventHandlers, validStyles } from '@tamagui/helpers'\nimport { isEqualShallow } from '@tamagui/is-equal-shallow'\nimport React, { useMemo } from 'react'\nimport { devConfig, onConfiguredOnce } from './config'\nimport { stackDefaultStyles } from './constants/constants'\nimport { isDevTools } from './constants/isDevTools'\nimport { ComponentContext } from './contexts/ComponentContext'\nimport { GroupContext } from './contexts/GroupContext'\nimport { didGetVariableValue, setDidGetVariableValue } from './createVariable'\nimport { defaultComponentStateMounted } from './defaultComponentState'\nimport { getSplitStyles, useSplitStyles } from './helpers/getSplitStyles'\nimport { log } from './helpers/log'\nimport { type GenericProps, mergeComponentProps } from './helpers/mergeProps'\nimport { objectIdentityKey } from './helpers/objectIdentityKey'\nimport { setElementProps } from './helpers/setElementProps'\nimport { subscribeToContextGroup } from './helpers/subscribeToContextGroup'\nimport { themeable } from './helpers/themeable'\nimport { getStyleTags } from './helpers/wrapStyleTags'\nimport { useComponentState } from './hooks/useComponentState'\nimport { setMediaShouldUpdate, useMedia } from './hooks/useMedia'\nimport { useThemeWithState } from './hooks/useTheme'\nimport type { TamaguiComponentEvents } from './interfaces/TamaguiComponentEvents'\nimport { hooks } from './setupHooks'\nimport type {\n  AllGroupContexts,\n  ComponentGroupEmitter,\n  DebugProp,\n  GroupStateListener,\n  LayoutEvent,\n  PseudoGroupState,\n  SingleGroupContext,\n  SizeTokens,\n  SpaceDirection,\n  SpacerProps,\n  SpacerStyleProps,\n  SpaceValue,\n  StackNonStyleProps,\n  StackProps,\n  StaticConfig,\n  StyleableOptions,\n  TamaguiComponent,\n  TamaguiComponentState,\n  TamaguiElement,\n  TamaguiInternalConfig,\n  TextProps,\n  UseAnimationHook,\n  UseAnimationProps,\n  UseStyleEmitter,\n  UseThemeWithStateProps,\n  WebOnlyPressEvents,\n} from './types'\nimport { Slot } from './views/Slot'\nimport { getThemedChildren } from './views/Theme'\n\n/**\n * All things that need one-time setup after createTamagui is called\n */\nlet time: any\n\nlet debugKeyListeners: Set<Function> | undefined\nlet startVisualizer: Function | undefined\n\ntype ComponentSetState = React.Dispatch<React.SetStateAction<TamaguiComponentState>>\n\nexport const componentSetStates = new Set<ComponentSetState>()\nconst avoidReRenderKeys = new Set([\n  'hover',\n  'press',\n  'pressIn',\n  'group',\n  'focus',\n  'focusWithin',\n  'media',\n  'group',\n])\n\nif (process.env.TAMAGUI_TARGET !== 'native' && typeof window !== 'undefined') {\n  const cancelPresses = () => {\n    // clear all press downs\n    componentSetStates.forEach((setState) =>\n      setState((prev) => {\n        if (prev.press || prev.pressIn) {\n          return {\n            ...prev,\n            press: false,\n            pressIn: false,\n          }\n        }\n        return prev\n      })\n    )\n    componentSetStates.clear()\n  }\n  const cancelTouches = () => {\n    // clear press and hover on touch end - hover may have been set\n    // via synthetic mouseenter event triggered by touch\n    componentSetStates.forEach((setState) =>\n      setState((prev) => {\n        if (prev.press || prev.pressIn || prev.hover) {\n          return {\n            ...prev,\n            press: false,\n            pressIn: false,\n            hover: false,\n          }\n        }\n        return prev\n      })\n    )\n    componentSetStates.clear()\n  }\n  addEventListener('mouseup', cancelPresses)\n  addEventListener('touchend', cancelTouches)\n  addEventListener('touchcancel', cancelTouches)\n\n  // hold option to see debug visualization\n  if (process.env.NODE_ENV === 'development') {\n    startVisualizer = () => {\n      const devVisualizerConfig = devConfig?.visualizer\n\n      if (devVisualizerConfig && !globalThis.__tamaguiDevVisualizer) {\n        globalThis.__tamaguiDevVisualizer = true\n\n        debugKeyListeners = new Set()\n        let tm\n        let isShowing = false\n        let resizeListener: (() => void) | null = null\n        const options = {\n          key: 'Alt',\n          delay: 800,\n          ...(typeof devVisualizerConfig === 'object' ? devVisualizerConfig : {}),\n        }\n\n        function show(val: boolean) {\n          clearTimeout(tm)\n          isShowing = val\n          debugKeyListeners?.forEach((l) => l(val))\n\n          // Remove resize listener when hiding\n          if (!val && resizeListener) {\n            window.removeEventListener('resize', resizeListener)\n            resizeListener = null\n          }\n        }\n\n        function cancelShow() {\n          clearTimeout(tm)\n          if (resizeListener) {\n            window.removeEventListener('resize', resizeListener)\n            resizeListener = null\n          }\n        }\n\n        window.addEventListener('blur', () => {\n          show(false)\n        })\n\n        window.addEventListener('keydown', ({ key, metaKey, defaultPrevented }) => {\n          clearTimeout(tm) // always clear so we dont trigger on chords\n          if (defaultPrevented) return\n          if (metaKey) return\n          if (key === options.key) {\n            // Add resize listener immediately when Alt is pressed\n            if (!resizeListener) {\n              resizeListener = () => cancelShow()\n              window.addEventListener('resize', resizeListener)\n            }\n            tm = setTimeout(() => {\n              show(true)\n            }, options.delay)\n          }\n        })\n\n        window.addEventListener('keyup', ({ defaultPrevented }) => {\n          if (defaultPrevented) return\n          cancelShow()\n          // any key can clear it\n          if (isShowing) {\n            show(false)\n          }\n        })\n      }\n    }\n  }\n}\n\n/**\n * Only on native do we need the actual underlying View/Text\n * On the web we avoid react-native dep altogether.\n */\nlet BaseText: any\nlet BaseView: any\nlet hasSetupBaseViews = false\n\nconst lastInteractionWasKeyboard = { value: false }\nconst lastInteractionWasTouch = { value: false }\nif (isWeb && typeof document !== 'undefined') {\n  document.addEventListener('keydown', () => {\n    if (!lastInteractionWasKeyboard.value) {\n      lastInteractionWasKeyboard.value = true\n    }\n  })\n  document.addEventListener('mousedown', () => {\n    if (lastInteractionWasKeyboard.value) {\n      lastInteractionWasKeyboard.value = false\n    }\n  })\n  document.addEventListener('mousemove', () => {\n    if (lastInteractionWasKeyboard.value) {\n      lastInteractionWasKeyboard.value = false\n    }\n    // Real mouse movement clears touch flag\n    lastInteractionWasTouch.value = false\n  })\n  document.addEventListener('touchstart', () => {\n    lastInteractionWasTouch.value = true\n  })\n  // Don't reset on touchend - mouseenter fires after touchend\n  // and we need to still detect it as a touch interaction.\n  // Mouse move will reset it when there's real mouse activity.\n}\n\nexport function createComponent<\n  ComponentPropTypes extends Record<string, any> = {},\n  Ref extends TamaguiElement = TamaguiElement,\n  BaseProps = never,\n  BaseStyles extends Object = never,\n>(staticConfig: StaticConfig) {\n  const { componentName } = staticConfig\n\n  let config: TamaguiInternalConfig | null = null\n\n  let defaultProps = staticConfig.defaultProps\n\n  onConfiguredOnce((conf) => {\n    config = conf\n\n    if (componentName) {\n      // TODO this should be deprecated and removed likely or at least done differently\n      const defaultForComponent = conf.defaultProps?.[componentName]\n      if (defaultForComponent) {\n        defaultProps = { ...defaultForComponent, ...defaultProps }\n      }\n    }\n  })\n\n  const { Component, isText, isZStack, isHOC } = staticConfig\n\n  if (process.env.NODE_ENV === 'development' && staticConfig.defaultProps?.['debug']) {\n    if (process.env.IS_STATIC !== 'is_static') {\n      log(`🐛 [${componentName || 'Component'}]`, {\n        staticConfig,\n        defaultProps,\n        defaultPropsKeyOrder: defaultProps ? Object.keys(defaultProps) : [],\n      })\n    }\n  }\n\n  const component = React.forwardRef<Ref, ComponentPropTypes>((propsIn, forwardedRef) => {\n    const internalID = process.env.NODE_ENV === 'development' ? React.useId() : ''\n\n    if (process.env.NODE_ENV === 'development') {\n      if (startVisualizer) {\n        startVisualizer()\n        startVisualizer = undefined\n      }\n    }\n\n    if (process.env.TAMAGUI_TARGET === 'native') {\n      // todo this could be moved to a cleaner location\n      if (!hasSetupBaseViews) {\n        hasSetupBaseViews = true\n        const baseViews = hooks.getBaseViews?.()\n        if (baseViews) {\n          BaseText = baseViews.Text\n          BaseView = baseViews.View\n        }\n      }\n    }\n\n    // test only\n    if (process.env.NODE_ENV === 'test') {\n      if (propsIn['data-test-renders']) {\n        propsIn['data-test-renders']['current'] ??= 0\n        propsIn['data-test-renders']['current'] += 1\n      }\n    }\n\n    // set variants through context\n    // order is after default props but before props\n    const { context, isReactNative } = staticConfig\n    const debugProp = propsIn['debug'] as DebugProp\n\n    const styledContextValue: GenericProps | undefined = context\n      ? React.useContext(context)\n      : undefined\n    let overriddenContextProps: GenericProps | null = null\n\n    const componentContext = React.useContext(ComponentContext)\n    const hasTextAncestor = !!(isWeb && isText ? componentContext.inText : false)\n\n    if (\n      !process.env.TAMAGUI_IS_CORE_NODE &&\n      process.env.NODE_ENV === 'development' &&\n      debugProp === 'profile' &&\n      !time\n    ) {\n      const timer = require('@tamagui/timer').timer()\n      time = timer.start()\n      globalThis['time'] = time\n    }\n    if (process.env.NODE_ENV === 'development' && time) time`non-tamagui time (ignore)`\n\n    // React inserts default props after your props for some reason...\n    // order important so we do loops, you can't just spread because JS does weird things\n    let props: StackProps | TextProps = propsIn\n\n    // merge both default props and styled context props - ensure order is preserved\n    if (styledContextValue || defaultProps) {\n      // For nested text, override base Text defaults to use CSS inheritance\n      // Only override if using base defaults, not styled component explicit values\n      let effectiveDefaults = defaultProps\n      if (\n        process.env.TAMAGUI_TARGET === 'web' &&\n        isText &&\n        hasTextAncestor &&\n        defaultProps\n      ) {\n        effectiveDefaults = { ...defaultProps }\n        if (effectiveDefaults.fontFamily === 'unset')\n          effectiveDefaults.fontFamily = 'inherit'\n        if (effectiveDefaults.whiteSpace === 'pre-wrap')\n          effectiveDefaults.whiteSpace = 'inherit'\n        if (!effectiveDefaults.color) effectiveDefaults.color = 'inherit'\n        if (!effectiveDefaults.letterSpacing) effectiveDefaults.letterSpacing = 'inherit'\n        if (!effectiveDefaults.textTransform) effectiveDefaults.textTransform = 'inherit'\n      }\n\n      const [nextProps, overrides] = mergeComponentProps(\n        effectiveDefaults,\n        styledContextValue,\n        propsIn\n      )\n      if (nextProps) {\n        props = nextProps as StackProps | TextProps\n      }\n      overriddenContextProps = overrides\n    }\n\n    const componentName = props.componentName || staticConfig.componentName\n\n    if (process.env.NODE_ENV === 'development' && isClient) {\n      React.useEffect(() => {\n        let node: HTMLElement | undefined\n        let overlay: HTMLSpanElement | null = null\n\n        const remove = () => {\n          if (overlay) {\n            try {\n              overlay.parentNode?.removeChild(overlay)\n              overlay = null\n            } catch {\n              // may have unmounted\n            }\n          }\n        }\n\n        const debugVisualizerHandler = (show = false) => {\n          node = stateRef.current.host as HTMLElement | undefined\n          if (!node) return\n\n          if (show) {\n            if (!overlay) {\n              overlay = document.createElement('span')\n              overlay.style.inset = '0px'\n              overlay.style.zIndex = '1000000'\n              overlay.style.position = 'absolute'\n              overlay.style.borderColor = 'red'\n              overlay.style.borderWidth = '1px'\n              overlay.style.borderStyle = 'dotted'\n            }\n\n            const dataAt = node.getAttribute('data-at') || ''\n            const dataIn = node.getAttribute('data-in') || ''\n\n            const tooltip = document.createElement('span')\n            tooltip.style.position = 'absolute'\n            tooltip.style.top = '0px'\n            tooltip.style.left = '0px'\n            tooltip.style.padding = '3px'\n            tooltip.style.background = 'rgba(0,0,0,0.75)'\n            tooltip.style.color = 'rgba(255,255,255,1)'\n            tooltip.style.fontSize = '12px'\n            tooltip.style.lineHeight = '12px'\n            tooltip.style.fontFamily = 'monospace'\n            tooltip.innerText = `${componentName || ''} ${dataAt} ${dataIn}`.trim()\n\n            overlay.appendChild(tooltip)\n            node.appendChild(overlay)\n          } else {\n            remove()\n          }\n        }\n\n        debugKeyListeners ||= new Set()\n        debugKeyListeners.add(debugVisualizerHandler)\n\n        return () => {\n          remove()\n          debugKeyListeners?.delete(debugVisualizerHandler)\n        }\n      }, [componentName])\n    }\n\n    const groupContextParent = React.useContext(GroupContext)\n    const animationDriver = componentContext.animationDriver\n    const useAnimations = animationDriver?.useAnimations as UseAnimationHook | undefined\n\n    const componentState = useComponentState(\n      props,\n      animationDriver?.isStub ? null : animationDriver,\n      staticConfig,\n      config!\n    )\n\n    const {\n      disabled,\n      groupName,\n      hasAnimationProp,\n      hasEnterStyle,\n      isAnimated,\n      isExiting,\n      isHydrated,\n      presence,\n      presenceState,\n      setState,\n      noClass,\n      state,\n      stateRef,\n      supportsCSS,\n      willBeAnimated,\n      willBeAnimatedClient,\n      startedUnhydrated,\n    } = componentState\n\n    if (hasAnimationProp && animationDriver?.avoidReRenders) {\n      useIsomorphicLayoutEffect(() => {\n        const pendingState = stateRef.current.nextState\n        if (pendingState) {\n          stateRef.current.nextState = undefined\n          componentState.setStateShallow(pendingState)\n        }\n      })\n    }\n\n    // create new context with groups, or else sublings will grab the same one\n    const allGroupContexts = useMemo((): AllGroupContexts | null => {\n      if (!groupName || props.passThrough) {\n        return groupContextParent\n      }\n\n      const listeners = new Set<GroupStateListener>()\n      stateRef.current.group?.listeners?.clear()\n      stateRef.current.group = {\n        listeners,\n        emit(state) {\n          listeners.forEach((l) => l(state))\n        },\n        subscribe(cb) {\n          listeners.add(cb)\n          if (listeners.size === 1) {\n            setStateShallow({ hasDynGroupChildren: true })\n          }\n          return () => {\n            listeners.delete(cb)\n            if (listeners.size === 0) {\n              setStateShallow({ hasDynGroupChildren: false })\n            }\n          }\n        },\n      }\n\n      return {\n        ...groupContextParent,\n        [groupName]: {\n          state: {\n            pseudo: defaultComponentStateMounted,\n          },\n          subscribe: (listener) => {\n            const dispose = stateRef.current.group?.subscribe(listener)\n            return () => {\n              dispose?.()\n            }\n          },\n        },\n      }\n    }, [stateRef, groupName, groupContextParent])\n\n    // if our animation driver supports noReRender, we'll replace this below with\n    // a version that essentially uses an internall emitter rather than setting state\n    // but still stores the current state and applies if it it needs to during render\n    let setStateShallow = componentState.setStateShallow\n\n    if (process.env.NODE_ENV === 'development' && time) time`use-state`\n\n    const isTaggable = !Component || typeof Component === 'string'\n    const tagProp = props.tag\n    // default to tag, fallback to component (when both strings)\n    const element = isWeb ? (isTaggable ? tagProp || Component : Component) : Component\n\n    const BaseTextComponent = BaseText || element || 'span'\n    const BaseViewComponent = BaseView || element || (hasTextAncestor ? 'span' : 'div')\n\n    let elementType = isText ? BaseTextComponent : BaseViewComponent\n\n    if (\n      animationDriver &&\n      isAnimated &&\n      // this should really be behind another prop as it's not really related to\n      // \"needsWebStyles\" basically with motion we just animate a plain div, but\n      // we still have animated.View/Text for Sheet which wants to control\n      // things declaratively\n      !animationDriver.needsWebStyles\n    ) {\n      elementType = animationDriver[isText ? 'Text' : 'View'] || elementType\n    }\n\n    // internal use only\n    const disableThemeProp =\n      process.env.TAMAGUI_TARGET === 'native' ? false : props['data-disable-theme']\n\n    const disableTheme = disableThemeProp || isHOC\n\n    if (process.env.NODE_ENV === 'development' && time) time`theme-props`\n\n    if (props.themeShallow) {\n      stateRef.current.themeShallow = true\n    }\n\n    const themeStateProps: UseThemeWithStateProps = {\n      componentName,\n      disable: disableTheme,\n      shallow: stateRef.current.themeShallow,\n      debug: debugProp,\n    }\n\n    // these two are set conditionally if existing in props because we wrap children with\n    // a span if they ever set one of these, so avoid wrapping all children with span\n    if ('themeInverse' in props) {\n      themeStateProps.inverse = props.themeInverse\n    }\n    if ('theme' in props) {\n      themeStateProps.name = props.theme\n    }\n    if (typeof stateRef.current.isListeningToTheme === 'boolean') {\n      themeStateProps.needsUpdate = () => !!stateRef.current.isListeningToTheme\n    }\n    // on native we optimize theme changes if fastSchemeChange is enabled, otherwise deopt\n    if (process.env.TAMAGUI_TARGET === 'native') {\n      themeStateProps.deopt = willBeAnimated\n    }\n\n    if (process.env.NODE_ENV === 'development') {\n      if (debugProp && debugProp !== 'profile') {\n        const name = `${\n          componentName ||\n          Component?.displayName ||\n          Component?.name ||\n          '[Unnamed Component]'\n        }`\n\n        const type =\n          (hasEnterStyle ? '(hasEnter)' : ' ') +\n          (isAnimated ? '(animated)' : ' ') +\n          (isReactNative ? '(rnw)' : ' ') +\n          (noClass ? '(noClass)' : ' ') +\n          (state.press || state.pressIn ? '(PRESSED)' : ' ') +\n          (state.hover ? '(HOVERED)' : ' ') +\n          (state.focus ? '(FOCUSED)' : ' ') +\n          (state.focusWithin ? '(WITHIN FOCUSED)' : ' ') +\n          (presenceState?.isPresent === false ? '(EXIT)' : '')\n\n        const dataIs = propsIn['data-is'] || ''\n        const banner = `<${name} /> ${internalID} ${dataIs ? ` ${dataIs}` : ''} ${type.trim()} (hydrated: ${isHydrated}) (unmounted: ${state.unmounted})`\n\n        const ch = propsIn.children\n        let childLog =\n          typeof ch === 'string' ? (ch.length > 4 ? ch.slice(0, 4) + '...' : ch) : ''\n        if (childLog.length) {\n          childLog = `(children: ${childLog})`\n        }\n\n        if (isWeb) {\n          console.info(`%c ${banner}`, 'background: green; color: white;')\n          if (isServer) {\n            log({ noClass, isAnimated, isWeb, supportsCSS })\n          } else {\n            // if strict mode or something messes with our nesting this fixes:\n            console.groupEnd()\n\n            console.groupCollapsed(`${childLog} [inspect props, state, context 👇]`)\n            log('props in:', propsIn)\n            log('final props:', props, Object.keys(props))\n            log({ state, staticConfig, elementType, themeStateProps })\n            log({\n              context,\n              overriddenContextProps,\n              componentContext,\n            })\n            log({ presence, isAnimated, isHOC, hasAnimationProp, useAnimations })\n            console.groupEnd()\n          }\n        } else {\n          console.info(\n            `\\n\\n------------------------------\\n${banner}\\n------------------------------\\n`\n          )\n          log(`children:`, props.children)\n          log({ overriddenContextProps, styledContextValue })\n          log({ noClass, isAnimated, isWeb, supportsCSS })\n        }\n      }\n    }\n\n    if (process.env.NODE_ENV === 'development' && time) time`pre-theme-media`\n\n    const [theme, themeState] = useThemeWithState(themeStateProps)\n\n    if (process.env.NODE_ENV === 'development' && time) time`theme`\n\n    elementType = Component || elementType\n    const isStringElement = typeof elementType === 'string'\n\n    const mediaState = useMedia(componentContext, debugProp)\n\n    setDidGetVariableValue(false)\n\n    if (process.env.NODE_ENV === 'development' && time) time`media`\n\n    const resolveValues =\n      // if HOC + mounted + has animation prop, resolve as value so it passes non-variable to child\n      (isAnimated && !supportsCSS) ||\n      (isHOC && state.unmounted == false && hasAnimationProp)\n        ? 'value'\n        : 'auto'\n\n    const styleProps = {\n      mediaState,\n      noClass,\n      resolveValues,\n      isExiting,\n      isAnimated,\n      willBeAnimated,\n      styledContext: styledContextValue,\n    } as const\n\n    const themeName = themeState?.name || ''\n\n    if (process.env.NODE_ENV === 'development' && time) time`split-styles-prepare`\n\n    const splitStyles = useSplitStyles(\n      props,\n      staticConfig,\n      theme,\n      themeName,\n      state,\n      styleProps,\n      null,\n      componentContext,\n      allGroupContexts,\n      elementType,\n      startedUnhydrated,\n      debugProp\n    )\n\n    const isPassthrough = !splitStyles\n\n    // splitStyles === null === passThrough\n\n    // Merge style-resolved context overrides (issues #3670, #3676)\n    // When styles set values that are also context keys (from variants, pseudos, media, etc),\n    // we need to add them to overriddenContextProps so they propagate to children\n    // Use either the component's own context or its parent's context (for styled() inheritance)\n    let contextForOverride = staticConfig.context\n    if (splitStyles?.overriddenContextProps) {\n      const contextForProps =\n        staticConfig.context || staticConfig.parentStaticConfig?.context\n      if (contextForProps) {\n        for (const key in splitStyles.overriddenContextProps) {\n          overriddenContextProps ||= {}\n          overriddenContextProps[key] = splitStyles.overriddenContextProps[key]\n        }\n        // Use parent's context if this component doesn't have its own\n        if (!staticConfig.context) {\n          contextForOverride = contextForProps\n        }\n      }\n    }\n\n    const groupContext = groupName ? allGroupContexts?.[groupName] || null : null\n\n    // one tiny mutation 🙏 get width/height optimistically from raw values if possible\n    // if set hardcoded it avoids extra renders\n    if (\n      !isPassthrough &&\n      groupContext &&\n      // avoids onLayout if we don't need it\n      props.containerType !== 'normal'\n    ) {\n      const groupState = groupContext?.state\n      if (groupState && groupState.layout === undefined) {\n        if (splitStyles.style?.width || splitStyles.style?.height) {\n          groupState.layout = {\n            width: fromPx(splitStyles.style.width),\n            height: fromPx(splitStyles.style.height),\n          }\n        }\n      }\n    }\n\n    // avoids re-rendering if animation driver supports it\n    // TODO believe we need to set some sort of \"pendingState\" in case it re-renders\n    if (\n      !isPassthrough &&\n      (hasAnimationProp || groupName) &&\n      animationDriver?.avoidReRenders\n    ) {\n      const ogSetStateShallow = setStateShallow\n\n      stateRef.current.updateStyleListener = () => {\n        const updatedState = stateRef.current.nextState || state\n        const mediaState = stateRef.current.nextMedia\n\n        const nextStyles = getSplitStyles(\n          props,\n          staticConfig,\n          theme,\n          themeName,\n          updatedState,\n          mediaState ? { ...styleProps, mediaState } : styleProps,\n          null,\n          componentContext,\n          allGroupContexts,\n          elementType,\n          startedUnhydrated,\n          debugProp\n        )\n\n        const useStyleListener = stateRef.current.useStyleListener\n\n        useStyleListener?.((nextStyles?.style || {}) as any)\n      }\n\n      function updateGroupListeners() {\n        const updatedState = stateRef.current.nextState!\n        if (groupContext) {\n          const {\n            group,\n            hasDynGroupChildren,\n            unmounted,\n            animation,\n            ...childrenGroupState\n          } = updatedState\n          notifyGroupSubscribers(\n            groupContext,\n            stateRef.current.group || null,\n            childrenGroupState\n          )\n        }\n      }\n\n      // don't change this ever or else you break ComponentContext and cause re-rendering\n      componentContext.mediaEmit ||= (next) => {\n        stateRef.current.nextMedia = next\n        stateRef.current.updateStyleListener?.()\n      }\n\n      stateRef.current.setStateShallow = (nextOrGetNext) => {\n        const prev = stateRef.current.nextState || state\n        const next =\n          typeof nextOrGetNext === 'function' ? nextOrGetNext(prev) : nextOrGetNext\n\n        if (next === prev || isEqualShallow(prev, next)) {\n          return\n        }\n\n        // one thing we have to handle here and where it gets a bit more complex is group styles\n        const canAvoidReRender = Object.keys(next).every((key) =>\n          avoidReRenderKeys.has(key)\n        )\n\n        const updatedState = {\n          ...prev,\n          ...next,\n        }\n        stateRef.current.nextState = updatedState\n\n        if (canAvoidReRender) {\n          if (\n            process.env.NODE_ENV === 'development' &&\n            debugProp &&\n            debugProp !== 'profile'\n          ) {\n            console.groupCollapsed(`[⚡️] avoid setState`, componentName, next, {\n              updatedState,\n              props,\n            })\n            console.info(stateRef.current.host)\n            console.groupEnd()\n          }\n\n          updateGroupListeners()\n          stateRef.current.updateStyleListener?.()\n        } else {\n          if (\n            process.env.NODE_ENV === 'development' &&\n            debugProp &&\n            debugProp !== 'profile'\n          ) {\n            console.info(`[🐌] re-render`, { canAvoidReRender, next })\n          }\n          ogSetStateShallow(next)\n        }\n      }\n\n      // needs to capture latest props (it's called from memoized `events`)\n      setStateShallow = (state) => {\n        stateRef.current.setStateShallow?.(state)\n      }\n    }\n\n    if (process.env.NODE_ENV === 'development' && time) time`split-styles`\n\n    // hide strategy will set this opacity = 0 until measured\n    if (splitStyles) {\n      if (\n        props.group &&\n        props.untilMeasured === 'hide' &&\n        !stateRef.current.hasMeasured\n      ) {\n        splitStyles.style ||= {}\n        splitStyles.style.opacity = 0\n      }\n\n      if (splitStyles.dynamicThemeAccess != null) {\n        stateRef.current.isListeningToTheme = splitStyles.dynamicThemeAccess\n      }\n    }\n\n    // only listen for changes if we are using raw theme values or media space, or dynamic media (native)\n    // array = space media breakpoints\n    const hasRuntimeMediaKeys = splitStyles?.hasMedia && splitStyles.hasMedia !== true\n    const shouldListenForMedia =\n      didGetVariableValue() ||\n      hasRuntimeMediaKeys ||\n      (noClass && splitStyles?.hasMedia === true)\n\n    const mediaListeningKeys = hasRuntimeMediaKeys\n      ? (splitStyles.hasMedia as Set<string>)\n      : null\n    if (process.env.NODE_ENV === 'development' && debugProp === 'verbose') {\n      console.info(`useMedia() createComponent`, shouldListenForMedia, mediaListeningKeys)\n    }\n\n    setMediaShouldUpdate(componentContext, shouldListenForMedia, mediaListeningKeys)\n\n    const {\n      viewProps: viewPropsIn,\n      pseudos,\n      style: splitStylesStyle,\n      classNames,\n      space,\n      pseudoGroups,\n      mediaGroups,\n    } = splitStyles || {}\n\n    const propsWithAnimation = props as UseAnimationProps\n\n    const {\n      asChild,\n      children,\n      themeShallow,\n      spaceDirection: _spaceDirection,\n      onPress,\n      onLongPress,\n      onPressIn,\n      onPressOut,\n      onHoverIn,\n      onHoverOut,\n      onMouseUp,\n      onMouseDown,\n      onMouseEnter,\n      onMouseLeave,\n      onFocus,\n      onBlur,\n      separator,\n      // ignore from here on out\n      passThrough,\n      forceStyle: _forceStyle,\n      // @ts-ignore  for next/link compat etc\n      onClick,\n      theme: _themeProp,\n      ...nonTamaguiProps\n    } = viewPropsIn || {}\n\n    // these can ultimately be for DOM, react-native-web views, or animated views\n    // so the type is pretty loose\n    let viewProps = nonTamaguiProps\n\n    if (!isTaggable && props.forceStyle) {\n      viewProps.forceStyle = props.forceStyle\n    }\n\n    if (isHOC) {\n      if (typeof _themeProp !== 'undefined') {\n        viewProps.theme = _themeProp\n      }\n      if (typeof passThrough !== 'undefined') {\n        viewProps.passThrough = passThrough\n      }\n    }\n\n    if (tagProp && elementType['acceptTagProp']) {\n      viewProps.tag = tagProp\n    }\n\n    // once you set animation prop don't remove it, you can set to undefined/false\n    // reason is animations are heavy - no way around it, and must be run inline here (🙅 loading as a sub-component)\n    let animationStyles: any\n    const shouldUseAnimation =\n      // if it supports css vars we run it on server too to get matching initial style\n      (supportsCSS ? willBeAnimatedClient : willBeAnimated) && useAnimations && !isHOC\n\n    let animatedRef\n\n    if (shouldUseAnimation) {\n      const useStyleEmitter: UseStyleEmitter | undefined = animationDriver?.avoidReRenders\n        ? (listener) => {\n            stateRef.current.useStyleListener = listener\n          }\n        : undefined\n\n      const animations = useAnimations({\n        props: propsWithAnimation,\n        // if hydrating, send empty style\n        style: splitStylesStyle || {},\n        // @ts-ignore\n        styleState: splitStyles,\n        useStyleEmitter,\n        presence,\n        componentState: state,\n        styleProps,\n        theme,\n        pseudos: pseudos || null,\n        staticConfig,\n        stateRef,\n      })\n\n      if (animations) {\n        if (animations.ref) {\n          // @ts-ignore\n          animatedRef = animations.ref\n        }\n\n        if (isHydrated && animations) {\n          animationStyles = animations.style\n          viewProps.style = animationStyles\n          if (animations.className) {\n            viewProps.className = `${state.unmounted === 'should-enter' ? 't_unmounted ' : ''}${viewProps.className || ''} ${animations.className}`\n          }\n        }\n      }\n\n      if (process.env.NODE_ENV === 'development' && time) time`animations`\n    }\n\n    if (process.env.NODE_ENV === 'development' && props.untilMeasured && !props.group) {\n      console.warn(\n        `You set the untilMeasured prop without setting group. This doesn't work, be sure to set untilMeasured on the parent that sets group, not the children that use the $group- prop.\\n\\nIf you meant to do this, you can disable this warning - either change untilMeasured and group at the same time, or do group={conditional ? 'name' : undefined}`\n      )\n    }\n\n    if (process.env.NODE_ENV === 'development' && time) time`destructure`\n\n    if (\n      !isPassthrough &&\n      groupContext && // avoids onLayout if we don't need it\n      props.containerType !== 'normal'\n    ) {\n      nonTamaguiProps.onLayout = composeEventHandlers(\n        nonTamaguiProps.onLayout,\n        (e: LayoutEvent) => {\n          // one off update here\n          const layout = e.nativeEvent.layout\n          groupContext.state.layout = layout\n          stateRef.current.group?.emit({\n            layout,\n          })\n          // force re-render if measure strategy is hide\n          if (!stateRef.current.hasMeasured && props.untilMeasured === 'hide') {\n            setState((prev) => ({ ...prev }))\n          }\n\n          stateRef.current.hasMeasured = true\n        }\n      )\n    }\n\n    viewProps =\n      hooks.usePropsTransform?.(\n        elementType,\n        nonTamaguiProps,\n        stateRef,\n        stateRef.current.willHydrate\n      ) || nonTamaguiProps\n\n    if (!stateRef.current.composedRef) {\n      stateRef.current.composedRef = composeRefs<TamaguiElement>(\n        (x) => (stateRef.current.host = x as TamaguiElement),\n        forwardedRef,\n        setElementProps,\n        animatedRef\n      )\n    }\n\n    viewProps.ref = stateRef.current.composedRef\n\n    if (process.env.NODE_ENV === 'development') {\n      if (!isReactNative && !isText && isWeb && !isHOC) {\n        React.Children.toArray(props.children).forEach((item) => {\n          // allow newlines because why not its annoying with mdx\n          if (typeof item === 'string' && item !== '\\n') {\n            console.error(\n              `Unexpected text node: ${item}. A text node cannot be a child of a <${staticConfig.componentName || propsIn.tag || 'View'}>.`,\n              props\n            )\n          }\n        })\n      }\n    }\n\n    if (process.env.NODE_ENV === 'development' && time) time`events-hooks`\n\n    const unPress = () => {\n      setStateShallow({ press: false, pressIn: false })\n    }\n\n    if (process.env.NODE_ENV === 'development' && isWeb) {\n      useIsomorphicLayoutEffect(() => {\n        if (debugProp === 'verbose') {\n          function cssStyleDeclarationToObject(style: CSSStyleDeclaration) {\n            const styleObject: Record<string, any> = {}\n            for (let i = 0; i < style.length; i++) {\n              let prop = style[i]\n              styleObject[prop] = style.getPropertyValue(prop)\n            }\n            return styleObject\n          }\n          const computed = stateRef.current.host\n            ? cssStyleDeclarationToObject(\n                getComputedStyle(stateRef.current.host as Element)\n              )\n            : {}\n          console.groupCollapsed(`Rendered > (opacity: ${computed.opacity})`)\n          console.warn(stateRef.current.host)\n          console.warn(computed)\n          console.groupEnd()\n        }\n      })\n    }\n\n    // TODO should this be regular effect to allow the render in-between?\n    useIsomorphicLayoutEffect(() => {\n      // Note: We removed the early return on disabled to allow animations to work\n      // This fixes the issue where animations wouldn't work on disabled components\n      if (state.unmounted === true && hasEnterStyle) {\n        setStateShallow({ unmounted: 'should-enter' })\n        return\n      }\n\n      let tm: NodeJS.Timeout\n      if (state.unmounted) {\n        if (animationDriver?.supportsCSS || isAndroid) {\n          // this setTimeout fixes css driver enter animations  - not sure why\n          // this setTimeout fixes the conflict when with the safe area view in android\n          tm = setTimeout(() => {\n            setStateShallow({ unmounted: false })\n          })\n          return () => clearTimeout(tm)\n          // don't clearTimeout! safari gets bugs it just doesn't ever set unmounted: false\n        }\n\n        setStateShallow({ unmounted: false })\n        return\n      }\n\n      // Only subscribe to context group if not disabled\n\n      return () => {\n        componentSetStates.delete(setState)\n      }\n    }, [state.unmounted, disabled])\n\n    useIsomorphicLayoutEffect(() => {\n      if (disabled) return\n\n      if (!pseudoGroups && !mediaGroups) return\n      if (!allGroupContexts) return\n      return subscribeToContextGroup({\n        groupContext: allGroupContexts,\n        setStateShallow,\n        mediaGroups,\n        pseudoGroups,\n      })\n    }, [\n      allGroupContexts,\n      disabled,\n      pseudoGroups ? objectIdentityKey(pseudoGroups) : 0,\n      mediaGroups ? objectIdentityKey(mediaGroups) : 0,\n    ])\n\n    const groupEmitter = stateRef.current.group\n    useIsomorphicLayoutEffect(() => {\n      if (!groupContext || !groupEmitter) return\n\n      notifyGroupSubscribers(groupContext, groupEmitter, state)\n    }, [groupContext, groupEmitter, state])\n\n    // if its a group its gotta listen for pseudos to emit them to children\n\n    const runtimePressStyle = !disabled && noClass && pseudos?.pressStyle\n    const runtimeFocusStyle = !disabled && noClass && pseudos?.focusStyle\n    const runtimeFocusVisibleStyle = !disabled && noClass && pseudos?.focusVisibleStyle\n    const attachFocus = Boolean(\n      runtimePressStyle ||\n        runtimeFocusStyle ||\n        runtimeFocusVisibleStyle ||\n        onFocus ||\n        onBlur ||\n        !!componentContext.setParentFocusState\n    )\n\n    const hasDynamicGroupChildren = Boolean(groupName && state.hasDynGroupChildren)\n\n    const attachPress = Boolean(\n      hasDynamicGroupChildren ||\n        runtimePressStyle ||\n        onPress ||\n        onPressOut ||\n        onPressIn ||\n        onMouseDown ||\n        onMouseUp ||\n        onLongPress ||\n        onClick ||\n        pseudos?.focusVisibleStyle\n    )\n\n    const runtimeHoverStyle = !disabled && noClass && pseudos?.hoverStyle\n    const needsHoverState = Boolean(hasDynamicGroupChildren || runtimeHoverStyle)\n    const attachHover =\n      isWeb &&\n      !!(hasDynamicGroupChildren || needsHoverState || onMouseEnter || onMouseLeave)\n\n    // check presence rather than value to prevent reparenting bugs\n    // allows for onPress={x ? function : undefined} without re-ordering dom\n    const shouldAttach =\n      !disabled &&\n      !props.asChild &&\n      Boolean(\n        attachFocus ||\n          attachPress ||\n          attachHover ||\n          runtimePressStyle ||\n          runtimeHoverStyle ||\n          runtimeFocusStyle\n      )\n\n    const needsPressState = Boolean(hasDynamicGroupChildren || runtimePressStyle)\n\n    if (process.env.NODE_ENV === 'development' && time) time`events-setup`\n\n    if (process.env.NODE_ENV === 'development' && debugProp === 'verbose') {\n      log(`🪩 events()`, {\n        runtimeFocusStyle,\n        runtimePressStyle,\n        runtimeHoverStyle,\n        runtimeFocusVisibleStyle,\n        attachPress,\n        attachFocus,\n        attachHover,\n        shouldAttach,\n        needsHoverState,\n        pseudos,\n      })\n    }\n\n    const events: TamaguiComponentEvents | null = shouldAttach\n      ? {\n          onPressOut: attachPress\n            ? (e) => {\n                unPress()\n                onPressOut?.(e)\n                onMouseUp?.(e)\n              }\n            : undefined,\n          ...((attachHover || attachPress) && {\n            onMouseEnter: (e) => {\n              const next: Partial<typeof state> = {}\n              // Don't set hover on touch devices - touch triggers mouseenter\n              // but there's no corresponding mouseleave on touch end\n              if (needsHoverState && !lastInteractionWasTouch.value) {\n                next.hover = true\n              }\n              if (needsPressState) {\n                if (state.pressIn) {\n                  next.press = true\n                }\n              }\n              setStateShallow(next)\n              onHoverIn?.(e)\n              onMouseEnter?.(e)\n            },\n            onMouseLeave: (e) => {\n              const next: Partial<typeof state> = {}\n              if (needsHoverState) {\n                next.hover = false\n              }\n              if (needsPressState) {\n                next.press = false\n                next.pressIn = false\n              }\n              setStateShallow(next)\n              onHoverOut?.(e)\n              onMouseLeave?.(e)\n            },\n          }),\n          onPressIn: attachPress\n            ? (e) => {\n                if (needsPressState) {\n                  setStateShallow({\n                    press: true,\n                    pressIn: true,\n                  })\n                }\n                onPressIn?.(e)\n                onMouseDown?.(e)\n                if (isWeb) {\n                  componentSetStates.add(setState)\n                }\n              }\n            : undefined,\n          onPress: attachPress\n            ? (e) => {\n                unPress()\n                // @ts-ignore\n                isWeb && onClick?.(e)\n                onPress?.(e)\n                if (process.env.TAMAGUI_TARGET === 'web') {\n                  onLongPress?.(e)\n                }\n              }\n            : undefined,\n          ...(process.env.TAMAGUI_TARGET === 'native' &&\n            attachPress &&\n            onLongPress && {\n              onLongPress: (e) => {\n                unPress()\n                onLongPress?.(e)\n              },\n            }),\n          ...(attachFocus && {\n            onFocus: (e) => {\n              const next: Partial<typeof state> = {}\n              if (componentContext.setParentFocusState) {\n                next.focusWithin = true\n              }\n              if (pseudos?.focusVisibleStyle) {\n                if (lastInteractionWasKeyboard.value) {\n                  next.focusVisible = true\n                } else {\n                  next.focus = true\n                }\n              } else {\n                next.focus = true\n              }\n              setStateShallow(next)\n              onFocus?.(e)\n            },\n            onBlur: (e) => {\n              if (componentContext.setParentFocusState) {\n                componentContext.setParentFocusState({ focusWithin: false })\n              }\n              setStateShallow({\n                focus: false,\n                focusVisible: false,\n                focusWithin: false,\n              })\n              onBlur?.(e)\n            },\n          }),\n        }\n      : null\n\n    if (process.env.TAMAGUI_TARGET === 'native' && events && !asChild) {\n      // replicating TouchableWithoutFeedback\n      Object.assign(events, {\n        cancelable: !viewProps.rejectResponderTermination,\n        disabled: disabled,\n        hitSlop: viewProps.hitSlop,\n        delayLongPress: viewProps.delayLongPress,\n        delayPressIn: viewProps.delayPressIn,\n        delayPressOut: viewProps.delayPressOut,\n        focusable: viewProps.focusable ?? true,\n        minPressDuration: 0,\n      })\n    }\n\n    if (process.env.TAMAGUI_TARGET === 'web' && events && !isReactNative) {\n      Object.assign(viewProps, getWebEvents(events))\n    }\n\n    if (process.env.NODE_ENV === 'development' && time) time`events`\n\n    if (process.env.NODE_ENV === 'development' && debugProp === 'verbose') {\n      log(`events`, { events, attachHover, attachPress })\n    }\n\n    // EVENTS native\n    hooks.useEvents?.(viewProps, events, splitStyles, setStateShallow, staticConfig)\n\n    const direction = props.spaceDirection || 'both'\n\n    if (process.env.NODE_ENV === 'development' && time) time`hooks`\n\n    let content =\n      !children || asChild || !splitStyles\n        ? children\n        : spacedChildren({\n            separator,\n            children,\n            space,\n            direction,\n            isZStack,\n            debug: debugProp,\n          })\n\n    if (asChild) {\n      elementType = Slot\n      // on native this is already merged into viewProps in hooks.useEvents\n      if (process.env.TAMAGUI_TARGET === 'web') {\n        const webStyleEvents = asChild === 'web' || asChild === 'except-style-web'\n        const passEvents = getWebEvents(\n          {\n            onPress,\n            onLongPress,\n            onPressIn,\n            onPressOut,\n            onMouseUp,\n            onMouseDown,\n            onMouseEnter,\n            onMouseLeave,\n          },\n          webStyleEvents\n        )\n        Object.assign(viewProps, passEvents)\n      } else {\n        Object.assign(viewProps, { onPress, onLongPress })\n      }\n    }\n\n    if (process.env.NODE_ENV === 'development' && time) time`spaced-as-child`\n\n    if (isPassthrough) {\n      content = propsIn.children\n      elementType = BaseViewComponent\n      viewProps = {\n        style: {\n          display: 'contents',\n        },\n      }\n    }\n\n    let useChildrenResult: any\n    if (hooks.useChildren) {\n      useChildrenResult = hooks.useChildren(elementType, content, viewProps)\n    }\n\n    if (process.env.NODE_ENV === 'development' && time) time`use-children`\n\n    if (useChildrenResult) {\n      content = useChildrenResult\n    } else {\n      content = React.createElement(elementType, viewProps, content)\n    }\n\n    // needs to reset the presence state for nested children\n    const ResetPresence = config?.animations?.ResetPresence\n    const needsReset = Boolean(\n      // not when passing down to child\n      !asChild &&\n        // not when passThrough\n        splitStyles &&\n        // not when HOC\n        !isHOC &&\n        ResetPresence &&\n        willBeAnimated &&\n        (hasEnterStyle || presenceState)\n    )\n    // avoid re-parenting\n    const hasEverReset = stateRef.current.hasEverResetPresence\n    if (needsReset && !hasEverReset) {\n      stateRef.current.hasEverResetPresence = true\n    }\n    const renderReset = needsReset || hasEverReset\n    if (renderReset && ResetPresence) {\n      content = <ResetPresence disabled={!needsReset}>{content}</ResetPresence>\n    }\n\n    if (process.env.NODE_ENV === 'development' && time) time`create-element`\n\n    if ('focusWithinStyle' in propsIn) {\n      content = (\n        <ComponentContext.Provider\n          {...componentContext}\n          setParentFocusState={setStateShallow}\n        >\n          {content}\n        </ComponentContext.Provider>\n      )\n    }\n\n    if ('group' in props) {\n      content = (\n        <GroupContext.Provider value={allGroupContexts}>{content}</GroupContext.Provider>\n      )\n    }\n\n    // Text components set inText context for children so nested Text can inherit styles\n    if (process.env.TAMAGUI_TARGET === 'web' && isText && !hasTextAncestor) {\n      content = (\n        <ComponentContext.Provider {...componentContext} inText={true}>\n          {content}\n        </ComponentContext.Provider>\n      )\n    }\n\n    if (process.env.NODE_ENV === 'development' && time) time`group-context`\n\n    content =\n      disableTheme || !splitStyles\n        ? content\n        : getThemedChildren(themeState, content, themeStateProps, false, stateRef)\n\n    if (process.env.NODE_ENV === 'development' && time) time`themed-children`\n\n    if (process.env.TAMAGUI_TARGET === 'web') {\n      if (isReactNative && !asChild) {\n        content = (\n          <span\n            className=\"_dsp_contents\"\n            {...(!isPassthrough && isHydrated && events && getWebEvents(events))}\n          >\n            {content}\n          </span>\n        )\n      }\n    }\n\n    if (overriddenContextProps && contextForOverride) {\n      const Provider = contextForOverride.Provider!\n\n      // make sure we re-order styled context keys based on how we pass them here:\n      for (const key in styledContextValue) {\n        if (!(key in overriddenContextProps)) {\n          overriddenContextProps[key] = styledContextValue[key]\n        }\n      }\n\n      if (debugProp) {\n        console.info('overriddenContextProps', overriddenContextProps)\n      }\n\n      content = (\n        <Provider __disableMergeDefaultValues {...overriddenContextProps}>\n          {content}\n        </Provider>\n      )\n    }\n\n    if (process.env.NODE_ENV === 'development' && time) time`context-override`\n\n    // SSR style support - for non compiled styles we render them inline until client takes over\n    // on client we then switch over to our global sheet insert, because rendering inline is expensive\n    if (process.env.TAMAGUI_TARGET === 'web' && startedUnhydrated && splitStyles) {\n      content = (\n        <>\n          {content}\n          {/* we surpress hydration warnings */}\n          {!isHydrated ? getStyleTags(Object.values(splitStyles.rulesToInsert)) : null}\n        </>\n      )\n    }\n\n    if (process.env.NODE_ENV === 'development' && time) time`style-tags`\n\n    if (process.env.NODE_ENV === 'development') {\n      if (debugProp && debugProp !== 'profile') {\n        const element = typeof elementType === 'string' ? elementType : 'Component'\n        const title = `render <${element} /> (${internalID}) with props`\n        if (!isWeb) {\n          log(title)\n          log(`state: `, state)\n          if (isDevTools) {\n            log('viewProps', viewProps)\n          }\n          log(`final styles:`)\n          for (const key in splitStylesStyle) {\n            log(key, splitStylesStyle[key])\n          }\n        } else {\n          console.groupCollapsed(title)\n          try {\n            log('viewProps', viewProps)\n            log('children', content)\n            if (typeof window !== 'undefined') {\n              log({\n                propsIn,\n                props,\n                attachPress,\n                animationStyles,\n                classNames,\n                content,\n                defaultProps,\n                elementType,\n                events,\n                isAnimated,\n                hasRuntimeMediaKeys,\n                isStringElement,\n                mediaListeningKeys,\n                pseudos,\n                shouldAttach,\n                noClass,\n                shouldListenForMedia,\n                splitStyles,\n                splitStylesStyle,\n                state,\n                stateRef,\n                staticConfig,\n                styleProps,\n                themeState,\n                viewProps,\n                willBeAnimated,\n                startedUnhydrated,\n              })\n            }\n          } catch {\n            // RN can run into PayloadTooLargeError: request entity too large\n          } finally {\n            console.groupEnd()\n          }\n        }\n        if (debugProp === 'break') {\n          // biome-ignore lint/suspicious/noDebugger: ok\n          debugger\n        }\n      }\n    }\n\n    if (process.env.NODE_ENV === 'development' && time) {\n      time`rest`\n      if (!globalThis['willPrint']) {\n        globalThis['willPrint'] = true\n        setTimeout(() => {\n          delete globalThis['willPrint']\n          time.print()\n          time = null\n        }, 50)\n      }\n    }\n\n    return content\n  })\n\n  function notifyGroupSubscribers(\n    groupContext: SingleGroupContext | null,\n    groupEmitter: ComponentGroupEmitter | null,\n    pseudo: PseudoGroupState\n  ) {\n    if (!groupContext || !groupEmitter) {\n      return\n    }\n    const nextState = { ...groupContext.state, pseudo }\n    groupEmitter.emit(nextState)\n    groupContext.state = nextState\n  }\n\n  // let hasLogged = false\n\n  if (staticConfig.componentName) {\n    component.displayName = staticConfig.componentName\n  }\n\n  type ComponentType = TamaguiComponent<\n    ComponentPropTypes,\n    Ref,\n    BaseProps,\n    BaseStyles,\n    {}\n  >\n\n  let res: ComponentType = component as any\n\n  if (process.env.TAMAGUI_FORCE_MEMO || staticConfig.memo) {\n    res = React.memo(res) as any\n  }\n\n  res.staticConfig = staticConfig\n\n  function extendStyledConfig(extended?: Partial<StaticConfig>) {\n    return {\n      ...staticConfig,\n      ...extended,\n      neverFlatten: true,\n      isHOC: true,\n      isStyledHOC: false,\n    }\n  }\n\n  function extractable(Component: any, extended?: Partial<StaticConfig>) {\n    Component.staticConfig = extendStyledConfig(extended)\n    Component.styleable = styleable\n    return Component\n  }\n\n  function styleable(Component: any, options?: StyleableOptions) {\n    const skipForwardRef =\n      (IS_REACT_19 && typeof Component === 'function' && Component.length === 1) ||\n      Component.render?.length === 2\n\n    let out = skipForwardRef ? Component : React.forwardRef(Component)\n\n    const extendedConfig = extendStyledConfig(options?.staticConfig)\n\n    out = options?.disableTheme ? out : themeable(out, extendedConfig, true)\n\n    if (extendedConfig.memo || process.env.TAMAGUI_MEMOIZE_STYLEABLE) {\n      out = React.memo(out)\n    }\n\n    out.staticConfig = extendedConfig\n    out.styleable = styleable\n    return out\n  }\n\n  res.extractable = extractable\n  res.styleable = styleable\n\n  return res\n}\n\ntype EventKeys = keyof (TamaguiComponentEvents & WebOnlyPressEvents)\ntype EventLikeObject = { [key in EventKeys]?: any }\n\nfunction getWebEvents<E extends EventLikeObject>(events: E, webStyle = true) {\n  return {\n    onMouseEnter: events.onMouseEnter,\n    onMouseLeave: events.onMouseLeave,\n    [webStyle ? 'onClick' : 'onPress']: events.onPress,\n    onMouseDown: events.onPressIn,\n    onMouseUp: events.onPressOut,\n    onTouchStart: events.onPressIn,\n    onTouchEnd: events.onPressOut,\n    onFocus: events.onFocus,\n    onBlur: events.onBlur,\n  }\n}\n\n// for elements to avoid spacing\nexport function Unspaced(props: { children?: any }) {\n  return props.children\n}\nUnspaced['isUnspaced'] = true\n\nconst getSpacerSize = (size: SizeTokens | number | boolean, { tokens }) => {\n  size = size === false ? 0 : size === true ? '$true' : size\n  const sizePx = tokens.space[size] ?? size\n  return {\n    width: sizePx,\n    height: sizePx,\n    minWidth: sizePx,\n    minHeight: sizePx,\n  }\n}\n\n// dont used styled() here to avoid circular deps\n// keep inline to avoid circular deps\nexport const Spacer = createComponent<\n  SpacerProps,\n  TamaguiElement,\n  StackNonStyleProps,\n  SpacerStyleProps\n>({\n  acceptsClassName: true,\n  memo: true,\n  componentName: 'Spacer',\n  validStyles,\n\n  defaultProps: {\n    ...stackDefaultStyles,\n    // avoid nesting issues\n    tag: 'span',\n    size: true,\n    pointerEvents: 'none',\n  },\n\n  variants: {\n    size: {\n      '...': getSpacerSize,\n    },\n\n    flex: {\n      true: {\n        flexGrow: 1,\n      },\n    },\n\n    direction: {\n      horizontal: {\n        height: 0,\n        minHeight: 0,\n      },\n      vertical: {\n        width: 0,\n        minWidth: 0,\n      },\n      both: {},\n    },\n  } as const,\n})\n\nexport type SpacedChildrenProps = {\n  isZStack?: boolean\n  children?: React.ReactNode\n  space?: SpaceValue\n  spaceFlex?: boolean | number\n  direction?: SpaceDirection | 'unset'\n  separator?: React.ReactNode\n  ensureKeys?: boolean\n  debug?: DebugProp\n}\n\nexport function spacedChildren(props: SpacedChildrenProps) {\n  const { isZStack, children, space, direction, spaceFlex, separator, ensureKeys } = props\n  const hasSpace = !!(space || spaceFlex)\n  const hasSeparator = !(separator === undefined || separator === null)\n  const areChildrenArray = Array.isArray(children)\n\n  if (!ensureKeys && !(hasSpace || hasSeparator || isZStack)) {\n    return children\n  }\n\n  const childrenList = areChildrenArray ? children : React.Children.toArray(children)\n\n  const len = childrenList.length\n  if (len <= 1 && !isZStack && !childrenList[0]?.['type']?.['shouldForwardSpace']) {\n    return children\n  }\n\n  const final: React.ReactNode[] = []\n  for (let [index, child] of childrenList.entries()) {\n    const isEmpty =\n      child === null ||\n      child === undefined ||\n      (Array.isArray(child) && child.length === 0)\n\n    // forward space\n    if (!isEmpty && React.isValidElement(child) && child.type?.['shouldForwardSpace']) {\n      child = React.cloneElement(child, {\n        // @ts-expect-error we explicitly know with shouldForwardSpace\n        space,\n        spaceFlex,\n        separator,\n        key: child.key,\n      })\n    }\n\n    // push them all, but wrap some in Fragment\n    if (isEmpty || !child || (child['key'] && !isZStack)) {\n      final.push(child)\n    } else {\n      final.push(\n        <React.Fragment key={`${index}0t`}>\n          {isZStack ? <AbsoluteFill>{child}</AbsoluteFill> : child}\n        </React.Fragment>\n      )\n    }\n\n    // first child unspaced avoid insert space\n    if (isUnspaced(child) && index === 0) continue\n    // no spacing on ZStack\n    if (isZStack) continue\n\n    const next = childrenList[index + 1]\n\n    if (next && !isEmpty && !isUnspaced(next)) {\n      if (separator) {\n        if (hasSpace) {\n          final.push(\n            createSpacer({\n              key: `_${index}_00t`,\n              direction,\n              space,\n              spaceFlex,\n            })\n          )\n        }\n        final.push(<React.Fragment key={`${index}03t`}>{separator}</React.Fragment>)\n        if (hasSpace) {\n          final.push(\n            createSpacer({\n              key: `_${index}01t`,\n              direction,\n              space,\n              spaceFlex,\n            })\n          )\n        }\n      } else {\n        final.push(\n          createSpacer({\n            key: `_${index}02t`,\n            direction,\n            space,\n            spaceFlex,\n          })\n        )\n      }\n    }\n  }\n\n  if (process.env.NODE_ENV === 'development') {\n    if (props.debug) {\n      log(`  Spaced children`, final, props)\n    }\n  }\n\n  return final\n}\n\ntype CreateSpacerProps = SpacedChildrenProps & { key: string }\n\nfunction createSpacer({ key, direction, space, spaceFlex }: CreateSpacerProps) {\n  return (\n    <Spacer\n      key={key}\n      size={space}\n      direction={direction}\n      {...(typeof spaceFlex !== 'undefined' && {\n        flex: spaceFlex === true ? 1 : spaceFlex === false ? 0 : spaceFlex,\n      })}\n    />\n  )\n}\n\nfunction isUnspaced(child: React.ReactNode) {\n  const t = child?.['type']\n  return t?.['isVisuallyHidden'] || t?.['isUnspaced']\n}\n\nconst AbsoluteFill: any = createComponent({\n  defaultProps: {\n    ...stackDefaultStyles,\n    flexDirection: 'column',\n    position: 'absolute',\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    pointerEvents: 'box-none',\n  },\n})\n\nconst fromPx = (val?: any): number => {\n  if (typeof val === 'number') return val\n  if (typeof val === 'string') return +val.replace('px', '')\n  return 0\n}\n", "// for verbose logging outside node/cli\n\nexport const isDevTools = (() => {\n  if (process.env.NODE_ENV === 'development') {\n    try {\n      return new Function('try {return this===window;}catch(e){ return false;}')()\n    } catch {\n      //\n    }\n  }\n  return false\n})()\n", "import type { TamaguiComponentState } from './types'\n\nexport const defaultComponentState: TamaguiComponentState = {\n  hover: false,\n  press: false,\n  pressIn: false,\n  focus: false,\n  focusVisible: false,\n  focusWithin: false,\n  unmounted: true,\n  disabled: false,\n}\n\nexport const defaultComponentStateMounted: TamaguiComponentState = {\n  ...defaultComponentState,\n  unmounted: false,\n}\n\nexport const defaultComponentStateShouldEnter: TamaguiComponentState = {\n  ...defaultComponentState,\n  unmounted: 'should-enter',\n}\n", "import {\n  isAndroid,\n  isClient,\n  isIos,\n  isWeb,\n  useIsomorphicLayoutEffect,\n} from '@tamagui/constants'\nimport {\n  StyleObjectIdentifier,\n  StyleObjectProperty,\n  StyleObjectPseudo,\n  StyleObjectRules,\n  stylePropsText,\n  stylePropsTransform,\n  tokenCategories,\n  validPseudoKeys,\n  validStyles as validStylesView,\n} from '@tamagui/helpers'\nimport React from 'react'\nimport {\n  extractValueFromDynamic,\n  getDynamicVal,\n  getOppositeScheme,\n  isColorStyleKey,\n} from './getDynamicVal'\n\nimport { getConfig, getFont, getSetting } from '../config'\nimport { accessibilityDirectMap } from '../constants/accessibilityDirectMap'\nimport { webViewFlexCompatStyles } from '../constants/constants'\nimport { isDevTools } from '../constants/isDevTools'\nimport {\n  getMediaImportanceIfMoreImportant,\n  getMediaKey,\n  mediaState as globalMediaState,\n  mediaKeyMatch,\n  mediaQueryConfig,\n} from '../hooks/useMedia'\nimport type {\n  AllGroupContexts,\n  ClassNamesObject,\n  ComponentContextI,\n  DebugProp,\n  GetStyleResult,\n  GetStyleState,\n  PseudoStyles,\n  RulesToInsert,\n  SpaceTokens,\n  SplitStyleProps,\n  StaticConfig,\n  StyleObject,\n  TamaguiComponentState,\n  TamaguiInternalConfig,\n  TextStyle,\n  ThemeParsed,\n  ViewStyleWithPseudos,\n} from '../types'\nimport { createMediaStyle } from './createMediaStyle'\nimport { fixStyles } from './expandStyles'\nimport { getCSSStylesAtomic, getStyleAtomic, styleToCSS } from './getCSSStylesAtomic'\nimport { getGroupPropParts } from './getGroupPropParts'\nimport { insertStyleRules, shouldInsertStyleRules, updateRules } from './insertStyleRule'\nimport { isActivePlatform } from './isActivePlatform'\nimport { isActiveTheme } from './isActiveTheme'\nimport { log } from './log'\nimport { normalizeValueWithProperty } from './normalizeValueWithProperty'\nimport { propMapper } from './propMapper'\nimport {\n  type PseudoDescriptorKey,\n  pseudoDescriptors,\n  pseudoPriorities,\n} from './pseudoDescriptors'\nimport { skipProps } from './skipProps'\nimport { sortString } from './sortString'\nimport { transformsToString } from './transformsToString'\n\nexport type SplitStyles = ReturnType<typeof getSplitStyles>\n\nexport type SplitStyleResult = ReturnType<typeof getSplitStyles>\n\nlet conf: TamaguiInternalConfig\n\n// WeakMap to track original token values for style objects\n// Used to preserve '$8' style tokens instead of resolved 'var(--t-space-8)'\n// for context prop propagation to children (issues #3670, #3676)\nexport const styleOriginalValues = new WeakMap<object, Record<string, any>>()\n\ntype StyleSplitter = (\n  props: { [key: string]: any },\n  staticConfig: StaticConfig,\n  theme: ThemeParsed,\n  themeName: string,\n  componentState: TamaguiComponentState,\n  styleProps: SplitStyleProps,\n  parentSplitStyles?: GetStyleResult | null,\n  context?: ComponentContextI,\n  groupContext?: AllGroupContexts | null,\n  // web-only\n  elementType?: string,\n  startedUnhydrated?: boolean,\n  debug?: DebugProp\n) => null | GetStyleResult\n\nexport const PROP_SPLIT = '-'\n\n// Normalize group keys like $group-press to $group-true-press when the group name\n// doesn't exist in context (defaults to the unnamed 'true' group)\nfunction normalizeGroupKey(\n  key: string,\n  groupContext: AllGroupContexts | null | undefined\n): string {\n  const parts = key.split('-')\n  const plen = parts.length\n  if (\n    // check if its actually a simple group selector to avoid breaking selectors\n    plen === 2 ||\n    (plen === 3 && pseudoPriorities[parts[parts.length - 1]])\n  ) {\n    const name = parts[1]\n    if (groupContext && !groupContext[name]) {\n      return key.replace('$group-', '$group-true-')\n    }\n  }\n  return key\n}\n\n// if you need and easier way to test performance, you can do something like this\n// add this early return somewhere in this file and you can see roughly where it slows down:\n\n// return {\n//   space,\n//   hasMedia,\n//   fontFamily: styleState.fontFamily,\n//   viewProps: {\n//     children: props.children,\n//   },\n//   style: {\n//     borderColor: props.borderColor,\n//     borderWidth: props.borderWidth,\n//     padding: props.padding,\n//   },\n//   pseudos,\n//   classNames,\n//   rulesToInsert,\n//   dynamicThemeAccess,\n// }\n\nfunction isValidStyleKey(\n  key: string,\n  validStyles: Record<string, boolean>,\n  accept?: Record<string, any>\n) {\n  return key in validStyles ? true : accept && key in accept\n}\n\nexport const getSplitStyles: StyleSplitter = (\n  props,\n  staticConfig,\n  theme,\n  themeName,\n  componentState,\n  styleProps,\n  parentSplitStyles,\n  componentContext,\n  groupContext,\n  elementType,\n  startedUnhydrated,\n  debug\n) => {\n  conf = conf || getConfig()\n  const animationDriver = componentContext?.animationDriver || conf.animations\n\n  if (props.passThrough) {\n    return null\n  }\n\n  // a bit icky, we need no normalize but not fully\n  if (\n    isWeb &&\n    styleProps.isAnimated &&\n    animationDriver.isReactNative &&\n    !styleProps.noNormalize\n  ) {\n    styleProps.noNormalize = 'values'\n  }\n\n  const { shorthands } = conf\n  const {\n    isHOC,\n    isText,\n    isInput,\n    variants,\n    isReactNative,\n    inlineProps,\n    inlineWhenUnflattened,\n    parentStaticConfig,\n    acceptsClassName,\n  } = staticConfig\n\n  const viewProps: GetStyleResult['viewProps'] = {}\n  const mediaState = styleProps.mediaState || globalMediaState\n\n  const shouldDoClasses = acceptsClassName && isWeb && !styleProps.noClass\n\n  const rulesToInsert: RulesToInsert =\n    process.env.TAMAGUI_TARGET === 'native' ? (undefined as any) : {}\n  const classNames: ClassNamesObject = {}\n\n  let space: SpaceTokens | null = props.space\n  let pseudos: PseudoStyles | null = null\n  let hasMedia: boolean | Set<string> = false\n  let dynamicThemeAccess: boolean | undefined\n  let pseudoGroups: Set<string> | undefined\n  let mediaGroups: Set<string> | undefined\n  let className = (props.className as string) || '' // existing classNames\n  let mediaStylesSeen = 0\n\n  const validStyles =\n    staticConfig.validStyles ||\n    (staticConfig.isText || staticConfig.isInput ? stylePropsText : validStylesView)\n\n  if (process.env.NODE_ENV === 'development' && debug === 'profile') {\n    // @ts-expect-error\n    time`split-styles-setup`\n  }\n\n  /**\n   * Not the biggest fan of creating an object but it is a nice API\n   */\n  const styleState: GetStyleState = {\n    classNames,\n    conf,\n    props,\n    styleProps,\n    componentState,\n    staticConfig,\n    style: null,\n    theme,\n    usedKeys: {},\n    viewProps,\n    context: componentContext,\n    debug,\n  }\n\n  // only used by compiler\n  if (process.env.IS_STATIC === 'is_static') {\n    const { fallbackProps } = styleProps\n    if (fallbackProps) {\n      styleState.props = new Proxy(props, {\n        get(_, key, val) {\n          if (!Reflect.has(props, key)) {\n            return Reflect.get(fallbackProps, key)\n          }\n          return Reflect.get(props, key)\n        },\n      })\n    }\n  }\n\n  if (process.env.NODE_ENV === 'development' && debug === 'profile') {\n    // @ts-expect-error\n    time`style-state`\n  }\n\n  if (process.env.NODE_ENV === 'development' && debug === 'verbose' && isClient) {\n    if (isDevTools) {\n      console.groupCollapsed('🔹 getSplitStyles 👇')\n      log({\n        props,\n        staticConfig,\n        shouldDoClasses,\n        styleProps,\n        rulesToInsert,\n        componentState,\n        styleState,\n        theme: { ...theme },\n      })\n    }\n  }\n\n  const { asChild } = props\n  const { accept } = staticConfig\n  const { noSkip, disableExpandShorthands, noExpand, styledContext } = styleProps\n  const { webContainerType } = conf.settings\n  const parentVariants = parentStaticConfig?.variants\n  for (const keyOg in props) {\n    let keyInit = keyOg\n    let valInit = props[keyInit]\n\n    if (keyInit === 'children') {\n      viewProps[keyInit] = valInit\n      continue\n    }\n\n    if (process.env.NODE_ENV === 'development' && debug === 'profile') {\n      // @ts-expect-error\n      time`before-prop-${keyInit}`\n    }\n\n    if (process.env.NODE_ENV === 'test' && keyInit === 'jestAnimatedStyle') {\n      continue\n    }\n\n    // for custom accept sub-styles\n    if (accept) {\n      const accepted = accept[keyInit]\n      if (\n        (accepted === 'style' || accepted === 'textStyle') &&\n        valInit &&\n        typeof valInit === 'object'\n      ) {\n        viewProps[keyInit] = getSubStyle(styleState, keyInit, valInit, styleProps.noClass)\n        continue\n      }\n    }\n\n    if (process.env.NODE_ENV === 'development' && debug === 'verbose') {\n      // otherwise things just keep nesting - careful don't leave these around\n      // they cause big performance dips in Chrome, only use them when debug prop set\n      // console.groupEnd()\n    }\n\n    // normalize shorthands up front\n    if (!disableExpandShorthands) {\n      if (keyInit in shorthands) {\n        keyInit = shorthands[keyInit]\n      }\n    }\n\n    if (keyInit === 'className') continue // handled above first\n\n    if (process.env.TAMAGUI_TARGET === 'web') {\n      // skip the webViewFlexCompatStyles when asChild on web\n      if (asChild && webViewFlexCompatStyles[keyInit] === valInit) {\n        continue\n      }\n    }\n\n    // keyInit === 'style' is handled in skipProps\n    if (keyInit in skipProps && !noSkip && !isHOC) {\n      if (keyInit === 'group') {\n        if (process.env.TAMAGUI_TARGET === 'web') {\n          // add container style\n          const identifier = `t_group_${valInit}`\n          const containerType = webContainerType || 'inline-size'\n          const containerCSS = [\n            'continer',\n            undefined,\n            identifier,\n            undefined,\n            [\n              `.${identifier} { container-name: ${valInit}; container-type: ${containerType}; }`,\n            ],\n          ] satisfies StyleObject\n          addStyleToInsertRules(rulesToInsert, containerCSS)\n        }\n      }\n      continue\n    }\n\n    let isValidStyleKeyInit = isValidStyleKey(keyInit, validStyles, accept)\n\n    // this is all for partially optimized (not flattened)... maybe worth removing?\n    if (process.env.TAMAGUI_TARGET === 'web') {\n      // react-native-web ignores data-* attributes, fixes passing them to animated views\n      if (staticConfig.isReactNative && keyInit.startsWith('data-')) {\n        keyInit = keyInit.replace('data-', '')\n        viewProps['dataSet'] ||= {}\n        viewProps['dataSet'][keyInit] = valInit\n        continue\n      }\n    }\n\n    if (process.env.TAMAGUI_TARGET === 'native') {\n      if (!isValidStyleKeyInit) {\n        if (!isAndroid) {\n          // only works in android\n          if (keyInit === 'elevationAndroid') continue\n        }\n\n        // map userSelect to native prop\n        if (keyInit === 'userSelect') {\n          keyInit = 'selectable'\n          valInit = valInit !== 'none'\n        } else if (keyInit.startsWith('data-')) {\n          continue\n        }\n      }\n    }\n\n    // TODO deprecate dataSet be sure we map on native from data-\n    if (keyInit === 'dataSet') {\n      for (const keyInit in valInit) {\n        viewProps[`data-${hyphenate(keyInit)}`] = valInit[keyInit]\n      }\n      continue\n    }\n\n    if (process.env.TAMAGUI_TARGET === 'web') {\n      if (!noExpand) {\n        /**\n         * Copying in the accessibility/prop handling from react-native-web here\n         * Keeps it in a single loop, avoids dup de-structuring to avoid bundle size\n         */\n\n        if (keyInit === 'disabled' && valInit === true) {\n          viewProps['aria-disabled'] = true\n          // Enhance with native semantics\n          if (\n            elementType === 'button' ||\n            elementType === 'form' ||\n            elementType === 'input' ||\n            elementType === 'select' ||\n            elementType === 'textarea'\n          ) {\n            viewProps.disabled = true\n          }\n          if (!variants?.disabled) {\n            continue\n          }\n        }\n\n        if (keyInit === 'testID') {\n          viewProps[isReactNative ? keyInit : 'data-testid'] = valInit\n          continue\n        }\n\n        if (keyInit === 'id' || keyInit === 'nativeID') {\n          // nativeId now deprecated for RN\n          viewProps.id = valInit\n          continue\n        }\n\n        let didUseKeyInit = false\n\n        if (isReactNative) {\n          // pass along to react-native-web\n          if (keyInit in accessibilityDirectMap || keyInit.startsWith('accessibility')) {\n            viewProps[keyInit] = valInit\n            continue\n          }\n        } else {\n          didUseKeyInit = true\n\n          if (keyInit in accessibilityDirectMap) {\n            viewProps[accessibilityDirectMap[keyInit]] = valInit\n            continue\n          }\n          // TODO: remove this in the future when react native a11y API is removed\n          switch (keyInit) {\n            case 'accessibilityRole': {\n              if (valInit === 'none') {\n                viewProps.role = 'presentation'\n              } else {\n                viewProps.role = accessibilityRoleToWebRole[valInit] || valInit\n              }\n              continue\n            }\n            case 'accessibilityLabelledBy':\n            case 'accessibilityFlowTo':\n            case 'accessibilityControls':\n            case 'accessibilityDescribedBy': {\n              viewProps[`aria-${keyInit.replace('accessibility', '').toLowerCase()}`] =\n                processIDRefList(valInit)\n              continue\n            }\n            case 'accessibilityKeyShortcuts': {\n              if (Array.isArray(valInit)) {\n                viewProps['aria-keyshortcuts'] = valInit.join(' ')\n              }\n              continue\n            }\n            case 'accessibilityLiveRegion': {\n              viewProps['aria-live'] = valInit === 'none' ? 'off' : valInit\n              continue\n            }\n            case 'accessibilityReadOnly': {\n              viewProps['aria-readonly'] = valInit\n              // Enhance with native semantics\n              if (\n                elementType === 'input' ||\n                elementType === 'select' ||\n                elementType === 'textarea'\n              ) {\n                viewProps.readOnly = true\n              }\n              continue\n            }\n            case 'accessibilityRequired': {\n              viewProps['aria-required'] = valInit\n              // Enhance with native semantics\n              if (\n                elementType === 'input' ||\n                elementType === 'select' ||\n                elementType === 'textarea'\n              ) {\n                viewProps.required = valInit\n              }\n              continue\n            }\n            default: {\n              didUseKeyInit = false\n            }\n          }\n        }\n\n        if (didUseKeyInit) {\n          continue\n        }\n      }\n    }\n\n    /**\n     * There's (some) reason to this madness: we want to allow returning media/pseudo from variants\n     * Say you have a variant hoverable: { true: { hoverStyle: {} } }\n     * We run propMapper first to expand variant, then we run the inner loop and look again\n     * for if there's a pseudo/media returned from it.\n     */\n\n    let isVariant = !isValidStyleKeyInit && variants && keyInit in variants\n\n    const isStyleLikeKey = isValidStyleKeyInit || isVariant\n\n    let isPseudo = keyInit in validPseudoKeys\n    let isMedia = !isStyleLikeKey && !isPseudo ? getMediaKey(keyInit) : false\n    let isMediaOrPseudo = Boolean(isMedia || isPseudo)\n\n    if (isMediaOrPseudo && isMedia === 'group') {\n      keyInit = normalizeGroupKey(keyInit, groupContext)\n    }\n\n    const isStyleProp = isValidStyleKeyInit || isMediaOrPseudo || (isVariant && !noExpand)\n\n    if (isStyleProp && (asChild === 'except-style' || asChild === 'except-style-web')) {\n      continue\n    }\n\n    const shouldPassProp =\n      (!isStyleProp && isHOC) ||\n      // is in parent variants\n      (isHOC && parentVariants && keyInit in parentVariants) ||\n      inlineProps?.has(keyInit)\n\n    const parentVariant = parentVariants?.[keyInit]\n    const isHOCShouldPassThrough = Boolean(\n      isHOC &&\n        (isValidStyleKeyInit || isMediaOrPseudo || parentVariant || keyInit in skipProps)\n    )\n\n    const shouldPassThrough = shouldPassProp || isHOCShouldPassThrough\n\n    if (process.env.NODE_ENV === 'development' && debug === 'verbose') {\n      // console.groupEnd() // react native was not nesting right\n      console.groupCollapsed(\n        `  🔑 ${keyOg}${\n          keyInit !== keyOg ? ` (shorthand for ${keyInit})` : ''\n        } ${shouldPassThrough ? '(pass)' : ''}`\n      )\n      log({ isVariant, valInit, shouldPassProp })\n      if (isClient) {\n        log({\n          variants,\n          variant: variants?.[keyInit],\n          isVariant,\n          isHOCShouldPassThrough,\n          usedKeys: { ...styleState.usedKeys },\n          parentStaticConfig,\n        })\n      }\n    }\n\n    if (shouldPassThrough) {\n      // // TODO bring this back but probably improve it?\n      // if (isPseudo) {\n      //   // this is a lot... but we need to track sub-keys so we don't override them in future things that aren't passed down\n      //   // like our own variants that aren't in parent\n      //   const pseudoStyleObject = getSubStyle(\n      //     styleState,\n      //     keyInit,\n      //     valInit,\n      //     fontFamily,\n      //     true,\n      //     state.noClass\n      //   )\n      //   const descriptor = pseudoDescriptors[keyInit]\n      //   for (const key in pseudoStyleObject) {\n      //     debugger\n      //   }\n      // }\n\n      passDownProp(viewProps, keyInit, valInit, isMediaOrPseudo)\n\n      if (process.env.NODE_ENV === 'development' && debug === 'verbose') {\n        console.groupEnd()\n      }\n\n      // if it's a variant here, we have a two layer variant...\n      // aka styled(Input, { unstyled: true, variants: { unstyled: {} } })\n      // which now has it's own unstyled + the child unstyled...\n      // so *don't* skip applying the styles if its different from the parent one\n      if (!isVariant) {\n        continue\n      }\n    }\n\n    // after shouldPassThrough\n    if (!noSkip) {\n      if (keyInit in skipProps) {\n        if (process.env.NODE_ENV === 'development' && debug === 'verbose') {\n          console.groupEnd()\n        }\n        continue\n      }\n    }\n\n    // we sort of have to update fontFamily all the time: before variants run, after each variant\n    if (isText || isInput) {\n      if (\n        valInit &&\n        (keyInit === 'fontFamily' || keyInit === shorthands['fontFamily']) &&\n        valInit in conf.fontsParsed\n      ) {\n        styleState.fontFamily = valInit\n      }\n    }\n\n    const disablePropMap = isMediaOrPseudo || !isStyleLikeKey\n\n    propMapper(keyInit, valInit, styleState, disablePropMap, (key, val, originalVal) => {\n      const isStyledContextProp = styledContext && key in styledContext\n\n      if (!isHOC && disablePropMap && !isStyledContextProp && !isMediaOrPseudo) {\n        viewProps[key] = val\n        return\n      }\n\n      if (process.env.NODE_ENV === 'development' && debug === 'verbose') {\n        console.groupCollapsed('  💠 expanded', keyInit, '=>', key)\n        log(val)\n        console.groupEnd()\n      }\n\n      if (val == null) return\n\n      if (process.env.TAMAGUI_TARGET === 'native') {\n        if (key === 'pointerEvents') {\n          viewProps[key] = val\n          return\n        }\n      }\n\n      if (\n        (!isHOC && isValidStyleKey(key, validStyles, accept)) ||\n        (process.env.TAMAGUI_TARGET === 'native' && isAndroid && key === 'elevation')\n      ) {\n        mergeStyle(styleState, key, val, 1, false, originalVal)\n        return\n      }\n\n      // re-run with expanded key\n      isPseudo = key in validPseudoKeys\n      isMedia = isPseudo ? false : getMediaKey(key)\n      isMediaOrPseudo = Boolean(isMedia || isPseudo)\n      isVariant = variants && key in variants\n\n      // handle group key transformation for variant-expanded keys (issue #3613)\n      if (isMedia === 'group') {\n        key = normalizeGroupKey(key, groupContext)\n      }\n\n      if (\n        inlineProps?.has(key) ||\n        (process.env.IS_STATIC === 'is_static' && inlineWhenUnflattened?.has(key))\n      ) {\n        viewProps[key] = props[key] ?? val\n      }\n\n      // have to run this logic again here because expansions may need to be passed down\n      // see StyledButtonVariantPseudoMerge test\n      const shouldPassThrough =\n        (styleProps.noExpand && isPseudo) ||\n        (isHOC && (isMediaOrPseudo || parentStaticConfig?.variants?.[keyInit]))\n\n      if (shouldPassThrough) {\n        passDownProp(viewProps, key, val, isMediaOrPseudo)\n        if (process.env.NODE_ENV === 'development' && debug === 'verbose') {\n          console.groupCollapsed(` - passing down prop ${key}`)\n          log({ val, after: { ...viewProps[key] } })\n          console.groupEnd()\n        }\n        return\n      }\n\n      if (isPseudo) {\n        if (!val) return\n\n        // TODO can avoid processing this if !shouldDoClasses + state is off\n        // (note: can't because we need to set defaults on enter/exit or else enforce that they should)\n        const pseudoStyleObject = getSubStyle(\n          styleState,\n          key,\n          val,\n          styleProps.noClass && !(process.env.IS_STATIC === 'is_static')\n        )\n\n        if (!shouldDoClasses || process.env.IS_STATIC === 'is_static') {\n          pseudos ||= {}\n          pseudos[key] ||= {}\n\n          // if compiler we can just set this and continue on our way\n          if (process.env.IS_STATIC === 'is_static') {\n            Object.assign(pseudos[key], pseudoStyleObject)\n            return\n          }\n        }\n\n        const descriptor = pseudoDescriptors[key as keyof typeof pseudoDescriptors]\n        const isEnter = key === 'enterStyle'\n        const isExit = key === 'exitStyle'\n\n        // don't continue here on isEnter && !state.unmounted because we need to merge defaults\n        if (!descriptor) {\n          return\n        }\n\n        // on server only generate classes for enterStyle\n        if (shouldDoClasses && !isExit) {\n          const pseudoStyles = getStyleAtomic(pseudoStyleObject, descriptor)\n\n          if (process.env.NODE_ENV === 'development' && debug === 'verbose') {\n            console.info('pseudo:', key, pseudoStyleObject, pseudoStyles)\n          }\n\n          for (const psuedoStyle of pseudoStyles) {\n            const fullKey = `${psuedoStyle[StyleObjectProperty]}${PROP_SPLIT}${descriptor.name}`\n            addStyleToInsertRules(rulesToInsert, psuedoStyle)\n            classNames[fullKey] = psuedoStyle[StyleObjectIdentifier]\n          }\n        }\n\n        if (!shouldDoClasses || isExit || isEnter) {\n          // we don't skip this if disabled because we need to animate to default states that aren't even set:\n          // so if we have <Stack enterStyle={{ opacity: 0 }} />\n          // we need to animate from 0 => 1 once enter is finished\n          // see the if (isDisabled) block below which loops through animatableDefaults\n\n          const descriptorKey = descriptor.stateKey || descriptor.name\n\n          let isDisabled = componentState[descriptorKey] === false\n          if (isExit) {\n            isDisabled = !styleProps.isExiting\n          }\n          if (isEnter && componentState.unmounted === false) {\n            isDisabled = true\n          }\n\n          if (process.env.NODE_ENV === 'development' && debug === 'verbose') {\n            console.groupCollapsed('pseudo', key, { isDisabled })\n            log({ pseudoStyleObject, isDisabled, descriptor, componentState })\n            console.groupEnd()\n          }\n\n          const importance = descriptor.priority\n\n          const pseudoOriginalValues = styleOriginalValues.get(pseudoStyleObject)\n          for (const pkey in pseudoStyleObject) {\n            const val = pseudoStyleObject[pkey]\n            // when disabled ensure the default value is set for future animations to align\n\n            if (isDisabled) {\n              applyDefaultStyle(pkey, styleState)\n            } else {\n              const curImportance = styleState.usedKeys[pkey] || 0\n              const shouldMerge = importance >= curImportance\n\n              if (shouldMerge) {\n                if (process.env.IS_STATIC === 'is_static') {\n                  pseudos ||= {}\n                  pseudos[key] ||= {}\n                  pseudos[key][pkey] = val\n                }\n                mergeStyle(\n                  styleState,\n                  pkey,\n                  val,\n                  importance,\n                  false,\n                  pseudoOriginalValues?.[pkey]\n                )\n              }\n\n              if (process.env.NODE_ENV === 'development' && debug === 'verbose') {\n                log('    subKey', pkey, shouldMerge, {\n                  importance,\n                  curImportance,\n                  pkey,\n                  val,\n                })\n              }\n            }\n          }\n\n          // set this after the loop over pseudoStyleObject so it applies before setting usedKeys\n          if (!isDisabled) {\n            // mark usedKeys based on pseudoStyleObject\n            for (const key in val) {\n              const k = shorthands[key] || key\n              styleState.usedKeys[k] = Math.max(importance, styleState.usedKeys[k] || 0)\n            }\n          }\n        }\n\n        return\n      }\n\n      // media\n      if (isMedia) {\n        if (!val) return\n\n        // for some reason 'space' in val upsetting next ssr during prod build\n        // technically i guess this also will not apply if 0 space which makes sense?\n        const hasSpace = val['space']\n        const mediaKeyShort = key.slice(isMedia == 'theme' ? 7 : 1)\n\n        hasMedia ||= true\n\n        if (hasSpace || !shouldDoClasses || styleProps.willBeAnimated) {\n          if (!hasMedia || typeof hasMedia === 'boolean') {\n            hasMedia = new Set()\n          }\n          hasMedia.add(mediaKeyShort)\n        }\n\n        // can bail early\n        if (isMedia === 'platform') {\n          if (!isActivePlatform(key)) {\n            return\n          }\n        }\n\n        if (process.env.NODE_ENV === 'development' && debug === 'verbose') {\n          log(`  📺 ${key}`, {\n            key,\n            val,\n            props,\n            shouldDoClasses,\n            acceptsClassName,\n            componentState,\n            mediaState,\n          })\n        }\n\n        const priority = mediaStylesSeen\n        mediaStylesSeen += 1\n\n        if (shouldDoClasses) {\n          const mediaStyle = getSubStyle(styleState, key, val, false)\n\n          if (hasSpace) {\n            delete mediaStyle['space']\n            // TODO group/theme/platform + space support (or just make it official not supported in favor of gap)\n            if (mediaState[mediaKeyShort]) {\n              const importance = getMediaImportanceIfMoreImportant(\n                mediaKeyShort,\n                'space',\n                styleState,\n                true\n              )\n              if (importance) {\n                space = val['space']\n                styleState.usedKeys['space'] = importance\n                if (process.env.NODE_ENV === 'development' && debug === 'verbose') {\n                  log(\n                    `Found more important space for current media ${mediaKeyShort}: ${val} (importance: ${importance})`\n                  )\n                }\n              }\n            }\n          }\n\n          const mediaStyles = getCSSStylesAtomic(mediaStyle)\n\n          for (const style of mediaStyles) {\n            // handle nested media:\n            // for now we're doing weird stuff, getCSSStylesAtomic will put the\n            // $platform-web into property so we can check it here\n            const property = style[StyleObjectProperty]\n            const isSubStyle = property[0] === '$'\n            if (isSubStyle && !isActivePlatform(property)) {\n              continue\n            }\n\n            const out = createMediaStyle(\n              style,\n              mediaKeyShort,\n              mediaQueryConfig,\n              isMedia,\n              false,\n              priority\n            )\n\n            if (process.env.NODE_ENV === 'development' && debug === 'verbose') {\n              log(`📺 media style:`, out)\n            }\n\n            // this is imperfect it should be fixed further down, we mess up property when dealing with\n            // media-sub-style, like $sm={{ $platform-web: {} }}\n            // property is just $platform-web, it should br $platform-web-bg, so we add extra info from style\n            // but that info includes the value too\n            const subKey = isSubStyle ? style[2] : ''\n            const fullKey = `${\n              style[StyleObjectProperty]\n            }${subKey}${PROP_SPLIT}${mediaKeyShort}${style[StyleObjectPseudo] || ''}`\n\n            addStyleToInsertRules(rulesToInsert, out as any)\n            classNames[fullKey] = out[StyleObjectIdentifier]\n          }\n        } else {\n          const isThemeMedia = isMedia === 'theme'\n          const isGroupMedia = isMedia === 'group'\n          const isPlatformMedia = isMedia === 'platform'\n\n          if (!isThemeMedia && !isPlatformMedia && !isGroupMedia) {\n            if (!mediaState[mediaKeyShort]) {\n              if (process.env.NODE_ENV === 'development' && debug === 'verbose') {\n                log(`  📺 ❌ DISABLED ${mediaKeyShort}`)\n              }\n              return\n            }\n            if (process.env.NODE_ENV === 'development' && debug === 'verbose') {\n              log(`  📺 ✅ ENABLED ${mediaKeyShort}`)\n            }\n          }\n\n          const mediaStyle = getSubStyle(styleState, key, val, true)\n\n          let importanceBump = 0\n\n          if (isThemeMedia) {\n            if (\n              process.env.TAMAGUI_TARGET === 'native' &&\n              isIos &&\n              getSetting('fastSchemeChange')\n            ) {\n              // iOS will use https://reactnative.dev/docs/dynamiccolorios\n              // so need to predefine the dynamic color before merging the styles\n              // for example: <StyledYStack $theme-dark={{borderColor: '$red10'}} $theme-light={{borderColor: '$green10'}}> => {borderColor: {dynamic: {dark: '$red10', light: '$green10'}}}\n\n              styleState.style ||= {}\n              const scheme = mediaKeyShort\n              const oppositeScheme = getOppositeScheme(mediaKeyShort)\n              const themeOriginalValues = styleOriginalValues.get(mediaStyle)\n              const isCurrentScheme = themeName === scheme || themeName.startsWith(scheme)\n\n              for (const subKey in mediaStyle) {\n                const val = extractValueFromDynamic(mediaStyle[subKey], scheme)\n                const existing = styleState.style[subKey]\n\n                // Only color properties support DynamicColorIOS - non-color properties\n                // like opacity, dimensions, etc. will crash if wrapped with {dynamic: {...}}\n                // See: https://github.com/tamagui/tamagui/issues/3096\n                // See: https://github.com/tamagui/tamagui/issues/2980\n                if (!isColorStyleKey(subKey)) {\n                  // non-color properties require re-render to update\n                  dynamicThemeAccess = true\n                  // only apply if this is the current theme\n                  if (isCurrentScheme) {\n                    // update mediaStyle so the later merge loop uses correct value\n                    mediaStyle[subKey] = val\n                  } else {\n                    // remove from mediaStyle so it doesn't get merged with wrong theme's value\n                    delete mediaStyle[subKey]\n                  }\n                  continue\n                }\n\n                // if there's already a dynamic object from the other theme pseudo prop,\n                // merge directly to avoid importance conflicts between $theme-dark and $theme-light\n                if (existing?.dynamic) {\n                  existing.dynamic[scheme] = val\n                  mediaStyle[subKey] = existing\n                } else {\n                  const oppositeVal = extractValueFromDynamic(existing, oppositeScheme)\n                  mediaStyle[subKey] = getDynamicVal({\n                    scheme,\n                    val,\n                    oppositeVal,\n                  })\n                  mergeStyle(\n                    styleState,\n                    subKey,\n                    mediaStyle[subKey],\n                    priority,\n                    false,\n                    themeOriginalValues?.[subKey]\n                  )\n                }\n              }\n            } else {\n              // non-ios or no fastschemechange - need re-renders for theme changes\n              dynamicThemeAccess = true\n              if (!(themeName === mediaKeyShort || themeName.startsWith(mediaKeyShort))) {\n                return\n              }\n            }\n          } else if (isGroupMedia) {\n            const groupInfo = getGroupPropParts(mediaKeyShort)\n            const groupName = groupInfo.name\n\n            // $group-x\n            const groupState = groupContext?.[groupName]?.state\n            const groupPseudoKey = groupInfo.pseudo\n            const groupMediaKey = groupInfo.media\n\n            if (!groupState) {\n              if (process.env.NODE_ENV === 'development' && debug) {\n                log(`No parent with group prop, skipping styles: ${groupName}`)\n              }\n              // we still want to indicate we should listen! this is how subscribeToGroupContext knows to run\n              pseudoGroups ||= new Set()\n              return\n            }\n\n            const componentGroupState = componentState.group?.[groupName]\n\n            if (groupMediaKey) {\n              mediaGroups ||= new Set()\n              mediaGroups.add(groupMediaKey)\n              const mediaState = componentGroupState?.media\n              let isActive = mediaState?.[groupMediaKey]\n\n              // use parent styles if width and height hardcoded we can do an inline media match and avoid double render\n              if (!mediaState && groupState.layout) {\n                isActive = mediaKeyMatch(groupMediaKey, groupState.layout)\n              }\n\n              if (process.env.NODE_ENV === 'development' && debug === 'verbose') {\n                log(` 🏘️ GROUP media ${groupMediaKey} active? ${isActive}`, {\n                  ...mediaState,\n                  usedKeys: { ...styleState.usedKeys },\n                })\n              }\n              if (!isActive) {\n                // ensure we set the defaults so animations work\n                for (const pkey in mediaStyle) {\n                  applyDefaultStyle(pkey, styleState)\n                }\n\n                return\n              }\n              importanceBump = 2\n            }\n\n            if (groupPseudoKey) {\n              pseudoGroups ||= new Set()\n              pseudoGroups.add(groupName)\n              const componentGroupPseudoState = (\n                componentGroupState ||\n                // fallback to context initially\n                groupContext?.[groupName].state\n              )?.pseudo\n\n              const isActive = componentGroupPseudoState?.[groupPseudoKey]\n              const priority = pseudoPriorities[groupPseudoKey]\n\n              if (process.env.NODE_ENV === 'development' && debug === 'verbose') {\n                log(\n                  ` 🏘️ GROUP pseudo ${groupMediaKey} active? ${isActive}, priority ${priority}`,\n                  {\n                    componentGroupPseudoState: { ...componentGroupPseudoState },\n                    usedKeys: { ...styleState.usedKeys },\n                  }\n                )\n              }\n              if (!isActive) {\n                // ensure we set the defaults so animations work\n                for (const pkey in mediaStyle) {\n                  applyDefaultStyle(pkey, styleState)\n                }\n\n                return\n              }\n              importanceBump = priority\n            }\n          }\n\n          const mediaOriginalValues = styleOriginalValues.get(mediaStyle)\n\n          function mergeMediaStyle(key: string, val: any, originalVal?: any) {\n            styleState.style ||= {}\n            const didMerge = mergeMediaByImportance(\n              styleState,\n              mediaKeyShort,\n              key,\n              val,\n              mediaState[mediaKeyShort],\n              importanceBump,\n              debug,\n              originalVal\n            )\n            if (didMerge && key === 'fontFamily') {\n              styleState.fontFamily = mediaStyle.fontFamily as string\n            }\n          }\n\n          for (const subKey in mediaStyle) {\n            if (subKey === 'space') {\n              space = valInit.space\n              continue\n            }\n            if (subKey[0] === '$') {\n              if (!isActivePlatform(subKey)) continue\n              if (!isActiveTheme(subKey, themeName)) continue\n              const subOriginalValues = styleOriginalValues.get(\n                mediaStyle[subKey] as object\n              )\n              for (const subSubKey in mediaStyle[subKey]) {\n                mergeMediaStyle(\n                  subSubKey,\n                  mediaStyle[subKey][subSubKey],\n                  subOriginalValues?.[subSubKey]\n                )\n              }\n            } else {\n              mergeMediaStyle(subKey, mediaStyle[subKey], mediaOriginalValues?.[subKey])\n            }\n          }\n        }\n\n        return // end media\n      }\n\n      // pass to view props\n      if (!isVariant) {\n        if (isStyledContextProp) {\n          return\n        }\n\n        viewProps[key] = val\n      }\n    })\n\n    if (process.env.NODE_ENV === 'development' && debug === 'verbose') {\n      try {\n        log(` ✔️ expand complete`, keyInit)\n        log('style', { ...styleState.style })\n        log('viewProps', { ...viewProps })\n        log('transforms', { ...styleState.flatTransforms })\n      } catch {\n        // RN can run into PayloadTooLargeError: request entity too large\n      }\n      console.groupEnd()\n    }\n  } // end prop loop\n\n  if (process.env.NODE_ENV === 'development' && debug === 'profile') {\n    // @ts-expect-error\n    time`split-styles-propsend`\n  }\n\n  // style prop after:\n\n  const avoidNormalize = styleProps.noNormalize === false\n\n  if (!avoidNormalize) {\n    if (styleState.style) {\n      fixStyles(styleState.style)\n\n      if (!styleProps.noExpand && !styleProps.noMergeStyle) {\n        // shouldn't this be better? but breaks some tests weirdly, need to check\n        if (isWeb && (isReactNative ? !animationDriver.supportsCSS : true)) {\n          styleToCSS(styleState.style)\n        }\n      }\n    }\n\n    // these are only the flat transforms\n    // always do this at the very end to preserve the order strictly (animations, origin)\n    // and allow proper merging of all pseudos before applying\n    if (styleState.flatTransforms) {\n      // we need to match the order for animations to work because it needs consistent order\n      // was thinking of having something like `state.prevTransformsOrder = ['y', 'x', ...]\n      // but if we just handle it here its not a big cost and avoids having stateful things\n      // so the strategy is: always sort by a consistent order, until you run into a \"duplicate\"\n      // because you can have something like:\n      //   [{ translateX: 0 }, { scale: 1 }, { translateX: 10 }]\n      // so basically we sort until we get to a duplicate... we could sort even smarter but\n      // this should work for most (all?) of our cases since the order preservation really only needs to apply\n      // to the \"flat\" transform props\n      styleState.style ||= {}\n      mergeFlatTransforms(styleState.style, styleState.flatTransforms)\n    }\n\n    // add in defaults if not set:\n    if (parentSplitStyles) {\n      if (process.env.TAMAGUI_TARGET === 'web') {\n        if (shouldDoClasses) {\n          for (const key in parentSplitStyles.classNames) {\n            const val = parentSplitStyles.classNames[key]\n            if ((styleState.style && key in styleState.style) || key in classNames)\n              continue\n            classNames[key] = val\n          }\n        }\n      }\n      if (!shouldDoClasses) {\n        for (const key in parentSplitStyles.style) {\n          if (key in classNames || (styleState.style && key in styleState.style)) continue\n          styleState.style ||= {}\n          styleState.style[key] = parentSplitStyles.style[key]\n        }\n      }\n    }\n  }\n\n  // Button for example uses disableClassName: true but renders to a 'button' element, so needs this\n  if (process.env.TAMAGUI_TARGET === 'web') {\n    const shouldStringifyTransforms =\n      !styleProps.noNormalize &&\n      !staticConfig.isReactNative &&\n      !staticConfig.isHOC &&\n      (!styleProps.isAnimated || animationDriver.supportsCSS)\n\n    if (shouldStringifyTransforms && Array.isArray(styleState.style?.transform)) {\n      styleState.style.transform = transformsToString(styleState.style!.transform) as any\n    }\n  }\n\n  if (process.env.TAMAGUI_TARGET === 'web') {\n    if (!styleProps.noMergeStyle && styleState.style && shouldDoClasses) {\n      let retainedStyles: ViewStyleWithPseudos | undefined\n      let shouldRetain = false\n\n      if (styleState.style['$$css']) {\n        // avoid re-processing for rnw\n      } else {\n        const atomic = getCSSStylesAtomic(styleState.style)\n\n        for (const atomicStyle of atomic) {\n          const [key, value, identifier] = atomicStyle\n          const isAnimatedAndAnimateOnly =\n            styleProps.isAnimated &&\n            styleProps.noClass &&\n            props.animateOnly?.includes(key)\n\n          // or not animated but you have animateOnly\n          // (moves it to style={}, nice to avoid generating lots of classnames)\n          const nonAnimatedAnimateOnly =\n            !isAnimatedAndAnimateOnly &&\n            !styleProps.isAnimated &&\n            props.animateOnly?.includes(key)\n\n          if (isAnimatedAndAnimateOnly) {\n            retainedStyles ||= {}\n            retainedStyles[key] = styleState.style[key]\n          } else if (nonAnimatedAnimateOnly) {\n            retainedStyles ||= {}\n            retainedStyles[key] = value\n            shouldRetain = true\n          } else {\n            addStyleToInsertRules(rulesToInsert, atomicStyle)\n            classNames[key] = identifier\n          }\n        }\n\n        if (process.env.NODE_ENV === 'development' && props.debug === 'verbose') {\n          // console.groupEnd() // ensure group ended from loop above\n          console.groupCollapsed(`🔹 getSplitStyles final style object`)\n          console.info(styleState.style)\n          console.info(`retainedStyles`, retainedStyles)\n          console.groupEnd()\n        }\n\n        if (shouldRetain || !(process.env.IS_STATIC === 'is_static')) {\n          styleState.style = retainedStyles || {}\n        }\n      }\n    }\n\n    if (isReactNative) {\n      if (viewProps.tabIndex === 0) {\n        viewProps.accessible ??= true\n      }\n    } else {\n      if (viewProps.tabIndex == null) {\n        const isFocusable = viewProps.focusable ?? viewProps.accessible\n\n        if (viewProps.focusable) {\n          delete viewProps.focusable\n        }\n\n        const role = viewProps.role\n        if (isFocusable === false) {\n          viewProps.tabIndex = '-1'\n        }\n        if (\n          // These native elements are focusable by default\n          elementType === 'a' ||\n          elementType === 'button' ||\n          elementType === 'input' ||\n          elementType === 'select' ||\n          elementType === 'textarea'\n        ) {\n          if (isFocusable === false || props.accessibilityDisabled === true) {\n            viewProps.tabIndex = '-1'\n          }\n        } else if (\n          // These roles are made focusable by default\n          role === 'button' ||\n          role === 'checkbox' ||\n          role === 'link' ||\n          role === 'radio' ||\n          // @ts-expect-error (consistent with RNW)\n          role === 'textbox' ||\n          role === 'switch'\n        ) {\n          if (isFocusable !== false) {\n            viewProps.tabIndex = '0'\n          }\n        }\n        // Everything else must explicitly set the prop\n        if (isFocusable) {\n          viewProps.tabIndex = '0'\n          delete viewProps.focusable\n        }\n      }\n    }\n  }\n\n  // merge after the prop loop - and always keep it on style dont turn into className except if RN gives us\n  const styleProp = props.style\n\n  if (!styleProps.noMergeStyle && styleProp) {\n    if (isHOC) {\n      viewProps.style = normalizeStyle(styleProp)\n    } else {\n      const isArray = Array.isArray(styleProp)\n      const len = isArray ? styleProp.length : 1\n      for (let i = 0; i < len; i++) {\n        const style = isArray ? styleProp[i] : styleProp\n        if (style) {\n          if (style['$$css']) {\n            Object.assign(styleState.classNames, style)\n          } else {\n            styleState.style ||= {}\n            Object.assign(styleState.style, normalizeStyle(style))\n          }\n        }\n      }\n    }\n  }\n\n  // native: swap out the right family based on weight/style\n  if (process.env.TAMAGUI_TARGET === 'native') {\n    // set accessible when tabIndex is 0 (issue #3350)\n    if (viewProps.tabIndex === 0) {\n      viewProps.accessible ??= true\n    }\n\n    const style = styleState.style\n    if (style?.fontFamily) {\n      const faceInfo = getFont(style.fontFamily as string)?.face\n      if (faceInfo) {\n        const overrideFace =\n          faceInfo[style.fontWeight as string]?.[style.fontStyle || 'normal']?.val\n        if (overrideFace) {\n          style.fontFamily = overrideFace\n          styleState.fontFamily = overrideFace\n          // If we pass both font family (e.g. InterBold) and a font weight (e.g. 900), android gets confused and just shows the default font, so we remove these:\n          delete style.fontWeight\n          delete style.fontStyle\n        }\n      }\n      if (process.env.NODE_ENV === 'development' && debug && debug !== 'profile') {\n        log(`Found fontFamily native: ${style.fontFamily}`, faceInfo)\n      }\n    }\n  }\n\n  if (process.env.NODE_ENV === 'development' && debug === 'profile') {\n    // @ts-expect-error\n    time`split-styles-pre-result`\n  }\n\n  const result: GetStyleResult = {\n    space,\n    hasMedia,\n    fontFamily: styleState.fontFamily,\n    viewProps,\n    style: styleState.style as any,\n    pseudos,\n    classNames,\n    rulesToInsert,\n    dynamicThemeAccess,\n    pseudoGroups,\n    mediaGroups,\n    overriddenContextProps: styleState.overriddenContextProps,\n  }\n\n  const asChildExceptStyleLike =\n    asChild === 'except-style' || asChild === 'except-style-web'\n\n  if (!styleProps.noMergeStyle) {\n    if (!asChildExceptStyleLike) {\n      const style = styleState.style\n\n      if (process.env.TAMAGUI_TARGET === 'web') {\n        // merge className and style back into viewProps:\n        let fontFamily =\n          isText || isInput\n            ? styleState.fontFamily || staticConfig.defaultProps?.fontFamily\n            : null\n        if (fontFamily && fontFamily[0] === '$') {\n          fontFamily = fontFamily.slice(1)\n        }\n        const fontFamilyClassName = fontFamily ? `font_${fontFamily}` : ''\n        const groupClassName = props.group ? `t_group_${props.group}` : ''\n        const componentNameFinal = props.componentName || staticConfig.componentName\n        const componentClassName =\n          props.asChild || !componentNameFinal ? '' : `is_${componentNameFinal}`\n\n        let classList: string[] = []\n        if (componentClassName) classList.push(componentClassName)\n        if (fontFamilyClassName) classList.push(fontFamilyClassName)\n        if (classNames) classList.push(Object.values(classNames).join(' '))\n        if (groupClassName) classList.push(groupClassName)\n        if (props.className) classList.push(props.className)\n        const finalClassName = classList.join(' ')\n\n        if (styleProps.isAnimated && isReactNative) {\n          if (style) {\n            viewProps.style = style as any\n          }\n          if (animationDriver?.supportsCSS) {\n            viewProps.className = finalClassName\n          }\n        } else if (isReactNative) {\n          let cnStyles: Record<string, unknown> | undefined\n          for (const name of finalClassName.split(' ')) {\n            cnStyles ||= { $$css: true }\n            cnStyles[name] = name\n          }\n          viewProps.style = cnStyles\n            ? [...(Array.isArray(style) ? style : [style]), cnStyles]\n            : [style]\n        } else {\n          if (finalClassName) {\n            viewProps.className = finalClassName\n          }\n          if (style) {\n            viewProps.style = style as any\n          }\n        }\n      } else {\n        if (style) {\n          // native assign styles\n          viewProps.style = style as any\n        }\n      }\n    }\n  }\n\n  if (process.env.NODE_ENV === 'development' && debug === 'verbose') {\n    if (isClient && isDevTools) {\n      // end collapsed log above\n      console.groupEnd()\n\n      console.groupCollapsed('🔹 getSplitStyles ===>')\n      try {\n        // prettier-ignore\n        const logs = {\n          ...result,\n          className,\n          componentState,\n          viewProps,\n          rulesToInsert,\n          parentSplitStyles,\n        }\n        for (const key in logs) {\n          log(key, logs[key])\n        }\n      } catch {\n        // RN can run into PayloadTooLargeError: request entity too large\n      }\n      console.groupEnd()\n    }\n  }\n\n  if (process.env.NODE_ENV === 'development' && debug === 'profile') {\n    // @ts-expect-error\n    time`split-styles-done`\n  }\n\n  return result\n}\n\nfunction mergeFlatTransforms(target: TextStyle, flatTransforms: Record<string, any>) {\n  Object.entries(flatTransforms)\n    .sort(([a], [b]) => sortString(a, b))\n    .forEach(([key, val]) => {\n      mergeTransform(target, key, val, true)\n    })\n}\n\nfunction mergeStyle(\n  styleState: GetStyleState,\n  key: string,\n  val: any,\n  importance: number,\n  disableNormalize = false,\n  originalVal?: any\n) {\n  const { viewProps, styleProps, staticConfig, usedKeys } = styleState\n\n  const existingImportance = usedKeys[key] || 0\n  if (existingImportance > importance) {\n    return\n  }\n\n  // Track context overrides for pseudo/media styles (issues #3670, #3676)\n  // When a style sets a key that's in context props, update overriddenContextProps\n  // so it propagates to children. Use the original token value (like '$8')\n  // instead of the resolved CSS variable (like 'var(--t-space-8)')\n  // so children's functional variants can look up token values.\n  const contextProps =\n    staticConfig.context?.props || staticConfig.parentStaticConfig?.context?.props\n  if (contextProps && key in contextProps) {\n    styleState.overriddenContextProps ||= {}\n    // Priority: 1) originalVal from propMapper, 2) tracked original from variant resolution, 3) val\n    const originalFromState = styleState.originalContextPropValues?.[key]\n    styleState.overriddenContextProps[key] = originalVal ?? originalFromState ?? val\n  }\n\n  if (key in stylePropsTransform) {\n    styleState.flatTransforms ||= {}\n    usedKeys[key] = importance\n    styleState.flatTransforms[key] = val\n  } else {\n    const shouldNormalize = isWeb && !disableNormalize && !styleProps.noNormalize\n    const out = shouldNormalize ? normalizeValueWithProperty(val, key) : val\n    if (\n      // accept is for props not styles\n      staticConfig.accept &&\n      key in staticConfig.accept\n    ) {\n      viewProps[key] = out\n    } else {\n      styleState.style ||= {}\n      usedKeys[key] = importance\n      styleState.style[key] =\n        // if you dont do this you'll be passing props.transform arrays directly here and then mutating them\n        // if theres any flatTransforms later, causing issues (mutating props is bad, in strict mode styles get borked)\n        key === 'transform' && Array.isArray(out) ? [...out] : out\n    }\n  }\n}\n\nexport const getSubStyle = (\n  styleState: GetStyleState,\n  subKey: string,\n  styleIn: Object,\n  avoidMergeTransform?: boolean\n): TextStyle => {\n  const { staticConfig, conf, styleProps } = styleState\n  const styleOut: TextStyle = {}\n  let originalValues: Record<string, any> | undefined\n\n  for (let key in styleIn) {\n    const val = styleIn[key]\n    key = conf.shorthands[key] || key\n\n    const shouldSkip = !staticConfig.isHOC && key in skipProps && !styleProps.noSkip\n    if (shouldSkip) {\n      continue\n    }\n\n    propMapper(key, val, styleState, false, (skey, sval, originalVal) => {\n      // Track original values for context prop propagation\n      if (originalVal !== undefined) {\n        originalValues ||= {}\n        originalValues[skey] = originalVal\n      }\n      // pseudo inside media\n      if (skey in validPseudoKeys) {\n        sval = getSubStyle(styleState, skey, sval, avoidMergeTransform)\n      }\n      if (!avoidMergeTransform && skey in stylePropsTransform) {\n        mergeTransform(styleOut, skey, sval)\n      } else {\n        styleOut[skey] = styleProps.noNormalize\n          ? sval\n          : normalizeValueWithProperty(sval, key)\n      }\n    })\n  }\n\n  if (!avoidMergeTransform) {\n    if (Array.isArray(styleOut.transform)) {\n      const parentTransform = styleState.style?.transform\n      if (parentTransform) {\n        styleOut.transform = [...parentTransform, ...styleOut.transform]\n      }\n    }\n    if (styleState.flatTransforms) {\n      mergeFlatTransforms(styleOut, styleState.flatTransforms)\n    }\n  }\n\n  if (!styleProps.noNormalize) {\n    fixStyles(styleOut)\n  }\n\n  // Store original values in WeakMap instead of on the object itself\n  if (originalValues) {\n    styleOriginalValues.set(styleOut, originalValues)\n  }\n\n  return styleOut\n}\n\n// on native no need to insert any css\nconst useInsertEffectCompat = isWeb\n  ? React.useInsertionEffect || useIsomorphicLayoutEffect\n  : () => {}\n\n// perf: ...args a bit expensive on native\nexport const useSplitStyles: StyleSplitter = (a, b, c, d, e, f, g, h, i, j, k, l) => {\n  const res = getSplitStyles(a, b, c, d, e, f, g, h, i, j, k, l)\n\n  if (process.env.TAMAGUI_TARGET !== 'native') {\n    useInsertEffectCompat(() => {\n      if (res) {\n        insertStyleRules(res.rulesToInsert)\n      }\n    }, [res?.rulesToInsert])\n  }\n\n  return res\n}\n\nfunction addStyleToInsertRules(rulesToInsert: RulesToInsert, styleObject: StyleObject) {\n  if (process.env.TAMAGUI_TARGET === 'web') {\n    const identifier = styleObject[StyleObjectIdentifier]\n    if (shouldInsertStyleRules(identifier)) {\n      updateRules(identifier, styleObject[StyleObjectRules])\n      rulesToInsert[identifier] = styleObject\n    }\n  }\n}\n\nfunction processIDRefList(idRefList: string | Array<string>): string {\n  return Array.isArray(idRefList) ? idRefList.join(' ') : idRefList\n}\n\nconst defaultColor = process.env.TAMAGUI_DEFAULT_COLOR || 'rgba(0,0,0,0)'\nconst animatableDefaults = {\n  ...Object.fromEntries(\n    Object.entries(tokenCategories.color).map(([k, v]) => [k, defaultColor])\n  ),\n  opacity: 1,\n  scale: 1,\n  rotate: '0deg',\n  rotateY: '0deg',\n  rotateX: '0deg',\n  x: 0,\n  y: 0,\n  borderRadius: 0,\n}\n\nconst lowercaseHyphenate = (match: string) => `-${match.toLowerCase()}`\nconst hyphenate = (str: string) => str.replace(/[A-Z]/g, lowercaseHyphenate)\n\nconst mergeTransform = (obj: TextStyle, key: string, val: any, backwards = false) => {\n  if (typeof obj.transform === 'string') {\n    return\n  }\n  obj.transform ||= []\n  obj.transform[backwards ? 'unshift' : 'push']({\n    [mapTransformKeys[key] || key]: val,\n  } as any)\n}\n\nconst mapTransformKeys = {\n  x: 'translateX',\n  y: 'translateY',\n}\n\nconst accessibilityRoleToWebRole = {\n  adjustable: 'slider',\n  header: 'heading',\n  image: 'img',\n  link: 'link',\n  none: 'presentation',\n  summary: 'region',\n}\n\nfunction passDownProp(\n  viewProps: Object,\n  key: string,\n  val: any,\n  shouldMergeObject = false\n) {\n  if (shouldMergeObject) {\n    const next = {\n      ...viewProps[key],\n      ...val,\n    }\n    // need to re-insert it at current position\n    delete viewProps[key]\n    viewProps[key] = next\n  } else {\n    viewProps[key] = val\n  }\n}\n\nfunction mergeMediaByImportance(\n  styleState: GetStyleState,\n  mediaKey: string,\n  key: string,\n  value: any,\n  isSizeMedia: boolean,\n  importanceBump?: number,\n  debugProp?: DebugProp,\n  originalVal?: any\n) {\n  const usedKeys = styleState.usedKeys\n  let importance = getMediaImportanceIfMoreImportant(\n    mediaKey,\n    key,\n    styleState,\n    isSizeMedia\n  )\n  if (importanceBump) {\n    importance = (importance || 0) + importanceBump\n  }\n  if (process.env.NODE_ENV === 'development' && debugProp === 'verbose') {\n    log(\n      `mergeMediaByImportance ${key} importance usedKey ${usedKeys[key]} next ${importance}`\n    )\n  }\n  if (importance === null) {\n    return false\n  }\n  if (key in pseudoDescriptors) {\n    const descriptor = pseudoDescriptors[key as PseudoDescriptorKey]\n    const descriptorKey = descriptor.stateKey || descriptor.name\n    const isDisabled = styleState.componentState[descriptorKey] === false\n    if (isDisabled) {\n      return false\n    }\n    // For pseudo inside media, value is an object with subkeys\n    const pseudoOriginalValues = styleOriginalValues.get(value as object)\n    for (const subKey in value) {\n      mergeStyle(\n        styleState,\n        subKey,\n        value[subKey],\n        importance,\n        false,\n        pseudoOriginalValues?.[subKey]\n      )\n    }\n  } else {\n    mergeStyle(styleState, key, value, importance, false, originalVal)\n  }\n\n  return true\n}\n\nfunction normalizeStyle(style: any) {\n  const out: Record<string, any> = {}\n  for (const key in style) {\n    const val = style[key]\n    if (key in stylePropsTransform) {\n      mergeTransform(out, key, val)\n    } else {\n      out[key] = normalizeValueWithProperty(val, key)\n    }\n  }\n  if (isWeb && Array.isArray(out.transform)) {\n    out.transform = transformsToString(out.transform)\n  }\n  fixStyles(out)\n  return out\n}\n\nfunction applyDefaultStyle(pkey: string, styleState: GetStyleState) {\n  const defaultValues = animatableDefaults[pkey]\n  if (\n    defaultValues != null &&\n    !(pkey in styleState.usedKeys) &&\n    (!styleState.style || !(pkey in styleState.style))\n  ) {\n    mergeStyle(styleState, pkey, defaultValues, 1)\n  }\n}\n", "// web only maps accessibility to aria props\nexport const accessibilityDirectMap: Record<string, string> = {}\n\nif (process.env.TAMAGUI_TARGET === 'web') {\n  // bundle size shave\n  const items = {\n    Hidden: true,\n    ActiveDescendant: true,\n    Atomic: true,\n    AutoComplete: true,\n    Busy: true,\n    Checked: true,\n    ColumnCount: 'colcount',\n    ColumnIndex: 'colindex',\n    ColumnSpan: 'colspan',\n    Current: true,\n    Details: true,\n    ErrorMessage: true,\n    Expanded: true,\n    HasPopup: true,\n    Invalid: true,\n    Label: true,\n    Level: true,\n    Modal: true,\n    Multiline: true,\n    MultiSelectable: true,\n    Orientation: true,\n    Owns: true,\n    Placeholder: true,\n    PosInSet: true,\n    Pressed: true,\n    RoleDescription: true,\n    RowCount: true,\n    RowIndex: true,\n    RowSpan: true,\n    Selected: true,\n    SetSize: true,\n    Sort: true,\n    ValueMax: true,\n    ValueMin: true,\n    ValueNow: true,\n    ValueText: true,\n  }\n  for (const key in items) {\n    let val = items[key]\n    if (val === true) {\n      val = key.toLowerCase()\n    }\n    accessibilityDirectMap[`accessibility${key}`] = `aria-${val}`\n  }\n}\n\nexport const webToNativeAccessibilityDirectMap = null as unknown as Record<string, string>\nexport const nativeAccessibilityValue = null as unknown as Record<string, string>\n\nexport const nativeAccessibilityState = null as unknown as Record<string, string>\nexport const accessibilityWebRoleToNativeRole = null as unknown as Record<string, string>\n", "import { getMedia } from '../hooks/useMedia'\n\nexport type GroupParts = { name: string; pseudo?: string; media?: string }\n\nexport function getGroupPropParts(groupProp: string): GroupParts {\n  const mediaQueries = getMedia()\n  const [_, name, part3, part4] = groupProp.split('-')\n  let pseudo:\n    | 'focus'\n    | 'press'\n    | 'hover'\n    | 'focus-visible'\n    | 'focus-within'\n    | 'disabled'\n    | undefined\n  const media = part3 in mediaQueries ? part3 : undefined\n  if (!media) {\n    pseudo = part3 as any\n  } else {\n    pseudo = part4 as any\n  }\n  return { name, pseudo, media }\n}\n", "import { getSetting } from '../config'\nimport { mediaObjectToString } from '../hooks/useMedia'\nimport type { IsMediaType, MediaQueries, MediaStyleObject, StyleObject } from '../types'\nimport { getGroupPropParts, type GroupParts } from './getGroupPropParts'\n\n// TODO have this be used by extractMediaStyle in tamagui static\n// not synced to static/constants for now\nexport const MEDIA_SEP = '_'\n\nlet prefixes: Record<string, string> | null = null\nlet selectors: Record<string, string> | null = null\n\nconst groupPseudoToPseudoCSSMap = {\n  press: 'active',\n  focusVisible: 'focus-visible',\n  focusWithin: 'focus-within',\n}\n\nconst specificities = new Array(5)\n  .fill(0)\n  .map((_, i) => new Array(i).fill(':root').join(''))\n\nfunction getThemeOrGroupSelector(\n  name: string,\n  styleInner: string,\n  isGroup: boolean,\n  groupParts: GroupParts,\n  isTheme = false,\n  precedenceImportancePrefix = ''\n) {\n  const selectorStart = styleInner.lastIndexOf(':root') + 5\n  const selectorEnd = styleInner.lastIndexOf('{')\n  const selector = styleInner.slice(selectorStart, selectorEnd)\n  const precedenceSpace = getSetting('themeClassNameOnRoot') && isTheme ? '' : ' '\n  const pseudoSelectorName = groupParts.pseudo\n    ? groupPseudoToPseudoCSSMap[groupParts.pseudo] || groupParts.pseudo\n    : undefined\n\n  const pseudoSelector = pseudoSelectorName ? `:${pseudoSelectorName}` : ''\n  const presedencePrefix = `:root${precedenceImportancePrefix}${precedenceSpace}`\n  const mediaSelector = `.t_${isGroup ? 'group_' : ''}${name}${pseudoSelector}`\n  return [\n    selector,\n    `${presedencePrefix}${mediaSelector} ${selector.replaceAll(':root', '')}`,\n  ] as const\n}\n\nexport const createMediaStyle = (\n  styleObject: StyleObject,\n  mediaKeyIn: string,\n  mediaQueries: MediaQueries,\n  type: IsMediaType,\n  negate?: boolean,\n  priority?: number\n): MediaStyleObject => {\n  const [propertyIn, , identifier, pseudoIn, rules] = styleObject\n  let property = propertyIn\n  const enableMediaPropOrder = getSetting('mediaPropOrder')\n  const isTheme = type === 'theme'\n  const isPlatform = type === 'platform'\n  const isGroup = type === 'group'\n  const isNonWindowMedia = isTheme || isPlatform || isGroup\n  const negKey = negate ? '0' : ''\n  const ogPrefix = identifier.slice(0, identifier.indexOf('-') + 1)\n  const id = `${ogPrefix}${MEDIA_SEP}${mediaKeyIn.replace('-', '')}${negKey}${MEDIA_SEP}`\n\n  let styleRule = ''\n  let groupPriority = ''\n  let groupMediaKey: string | undefined\n  let containerName: string | undefined\n  let nextIdentifier = identifier.replace(ogPrefix, id)\n  let styleInner = rules.map((rule) => rule.replace(identifier, nextIdentifier)).join(';')\n  let isHover = false\n\n  if (isNonWindowMedia) {\n    let specificity = (priority || 0) + (isGroup || isPlatform ? 1 : 0)\n\n    if (isTheme || isGroup) {\n      const groupParts = getGroupPropParts(isTheme ? 'theme-' + mediaKeyIn : mediaKeyIn)\n      const { name, media, pseudo } = groupParts\n      groupMediaKey = media\n      if (isGroup) {\n        containerName = name\n      }\n      if (pseudo === 'press' || pseudoIn === 'active') {\n        specificity += 2\n      }\n      if (pseudo === 'hover') {\n        isHover = true\n      }\n      const [selector, nextSelector] = getThemeOrGroupSelector(\n        name,\n        styleInner,\n        isGroup,\n        groupParts,\n        isTheme,\n        specificities[specificity]\n      )\n      // const selectors = `${nextSelector}, :root${nextSelector}`\n      // add back in the { we used to split\n      styleRule = styleInner.replace(selector, nextSelector)\n    } else {\n      styleRule = `${specificities[specificity]}${styleInner}`\n    }\n  }\n\n  if (!isNonWindowMedia || groupMediaKey) {\n    // one time cost:\n    // TODO MOVE THIS INTO SETUP AREA AND EXPORT IT\n    if (!selectors) {\n      const mediaKeys = Object.keys(mediaQueries)\n      selectors = Object.fromEntries(\n        mediaKeys.map((key) => [key, mediaObjectToString(mediaQueries[key])])\n      )\n      if (!enableMediaPropOrder) {\n        prefixes = Object.fromEntries(\n          mediaKeys.map((k, index) => [k, new Array(index + 1).fill(':root').join('')])\n        )\n      }\n    }\n\n    const mediaKey = groupMediaKey || mediaKeyIn\n    const mediaSelector = selectors[mediaKey]\n    const screenStr = negate ? 'not all and ' : ''\n    const mediaQuery = `${screenStr}${mediaSelector}`\n    const precedenceImportancePrefix = groupMediaKey\n      ? groupPriority\n      : enableMediaPropOrder && priority\n        ? // this new array should be cached\n          specificities[priority]\n        : // @ts-ignore\n          prefixes[mediaKey]\n    const prefix = groupMediaKey ? `@container ${containerName}` : '@media'\n\n    if (groupMediaKey) {\n      styleInner = styleRule\n    }\n\n    // combines media queries if they already exist\n    if (styleInner.includes(prefix)) {\n      // combine\n      styleRule = styleInner\n        .replace('{', ` and ${mediaQuery} {`)\n        // temp bugfix can be better done\n        .replace(`and screen and`, `and`)\n    } else {\n      styleRule = `${prefix} ${mediaQuery}{${precedenceImportancePrefix}${styleInner}}`\n    }\n\n    // add @supports for legacy browser support to not break container queries\n    if (groupMediaKey) {\n      styleRule = `@supports (contain: ${\n        getSetting('webContainerType') || 'inline-size'\n      }) {${styleRule}}`\n    }\n  }\n\n  if (isHover) {\n    styleRule = `@media (hover:hover){${styleRule}}`\n  }\n\n  return [property, undefined, nextIdentifier, undefined, [styleRule]]\n}\n", "import { defaultOffset } from './defaultOffset'\nimport { getRgba, normalizeColor } from './normalizeColor'\n\nexport function normalizeShadow({\n  shadowColor,\n  shadowOffset,\n  shadowOpacity,\n  shadowRadius,\n}: Record<string, any>) {\n  const { height, width } = shadowOffset || defaultOffset\n  return {\n    shadowOffset: {\n      width: width || 0,\n      height: height || 0,\n    },\n    shadowRadius: shadowRadius || 0,\n    shadowColor: normalizeColor(shadowColor, 1),\n    shadowOpacity: shadowOpacity ?? (shadowColor ? getRgba(shadowColor)?.a : 1),\n  }\n}\n", "import { isWeb } from '@tamagui/constants'\nimport { normalizeShadow } from './normalizeShadow'\n\nexport function fixStyles(style: Record<string, any>) {\n  if (process.env.TAMAGUI_TARGET === 'native') {\n    if ('elevationAndroid' in style) {\n      // @ts-ignore\n      style['elevation'] = style.elevationAndroid\n      // @ts-ignore\n      delete style.elevationAndroid\n    }\n  }\n\n  // TODO deprecate for web-style shadows\n  if (\n    style.shadowRadius != null ||\n    style.shadowColor ||\n    style.shadowOpacity != null ||\n    style.shadowOffset\n  ) {\n    Object.assign(style, normalizeShadow(style))\n  }\n\n  // could be optimized better\n  // ensure border style set by default to solid\n  for (const key in borderDefaults) {\n    if (key in style) {\n      style[borderDefaults[key]] ||= 'solid'\n    }\n  }\n}\n\n// native doesn't support specific border edge style\nconst nativeStyle = isWeb ? null : 'borderStyle'\nconst borderDefaults = {\n  borderWidth: 'borderStyle',\n  borderBottomWidth: nativeStyle || 'borderBottomStyle',\n  borderTopWidth: nativeStyle || 'borderTopStyle',\n  borderLeftWidth: nativeStyle || 'borderLeftStyle',\n  borderRightWidth: nativeStyle || 'borderRightStyle',\n  // TODO: need to add borderBlock and borderInline here, but they are alot and might impact performance\n}\n", "import { isClient } from '@tamagui/constants'\nimport { StyleObjectIdentifier, StyleObjectRules } from '@tamagui/helpers'\nimport { createVariable } from '../createVariable'\nimport type {\n  DedupedTheme,\n  DedupedThemes,\n  RulesToInsert,\n  ThemeParsed,\n  TokensParsed,\n} from '../types'\n\n// only cache tamagui styles\n// TODO merge totalSelectorsInserted and allSelectors?\nconst scannedCache = new WeakMap<CSSStyleSheet, string>()\nconst totalSelectorsInserted = new Map<string, number>()\nconst allSelectors: Record<string, string> = {}\nconst allRules: Record<string, string> = {}\n\nexport const getAllSelectors = () => allSelectors\nexport const getAllRules = () => {\n  // Sort by identifier to ensure deterministic CSS output order\n  const sortedKeys = Object.keys(allRules).sort()\n  return sortedKeys.map((key) => allRules[key])\n}\n\n// once react 19 onyl supported we can remove most of this\n// gets existing ones (client side)\n// takes ~0.1ms for a fairly large page\n// used now for three things:\n//   1. debugging at dev time\n//   2. avoid duplicate insert styles at runtime\n//   3. used now for merging transforms atomically\n\n// multiple sheets could have the same ids so we have to count\n\nlet lastScannedSheets: Set<CSSStyleSheet> | null = null\n\nexport function scanAllSheets(\n  collectThemes = false,\n  tokens?: TokensParsed\n): DedupedThemes | undefined {\n  if (process.env.NODE_ENV === 'test') return\n  if (!isClient) return\n\n  let themes: DedupedThemes | undefined\n\n  const sheets = document.styleSheets || []\n  const prev = lastScannedSheets\n  const current = new Set(sheets as any as CSSStyleSheet[])\n\n  for (const sheet of current) {\n    if (sheet) {\n      const out = updateSheetStyles(sheet, false, collectThemes, tokens)\n      if (out) {\n        themes = out\n      }\n    }\n  }\n\n  lastScannedSheets = current\n\n  if (prev) {\n    for (const sheet of prev) {\n      if (sheet && !current.has(sheet)) {\n        updateSheetStyles(sheet, true)\n      }\n    }\n  }\n\n  return themes\n}\n\nfunction trackInsertedStyle(id: string) {\n  const next = (totalSelectorsInserted.get(id) || 0) + 1\n  totalSelectorsInserted.set(id, next)\n  return next\n}\n\nconst bailAfterEnv = process.env.TAMAGUI_BAIL_AFTER_SCANNING_X_CSS_RULES\nconst bailAfter = bailAfterEnv ? +bailAfterEnv : 400\n\nfunction updateSheetStyles(\n  sheet: CSSStyleSheet,\n  remove = false,\n  collectThemes = false,\n  tokens?: TokensParsed\n): DedupedThemes | undefined {\n  // avoid errors on cross origin sheets\n  // https://stackoverflow.com/questions/49993633/uncaught-domexception-failed-to-read-the-cssrules-property\n  let rules: CSSRuleList\n  try {\n    rules = sheet.cssRules\n    if (!rules) {\n      return\n    }\n  } catch {\n    return\n  }\n\n  const firstSelector = getTamaguiSelector(rules[0], collectThemes)?.[0]\n  const lastSelector = getTamaguiSelector(rules[rules.length - 1], collectThemes)?.[0]\n  const cacheKey = `${rules.length}${firstSelector}${lastSelector}`\n  const lastScanned = scannedCache.get(sheet)\n\n  if (!remove) {\n    // avoid re-scanning\n    if (lastScanned === cacheKey) {\n      return\n    }\n  }\n\n  const len = rules.length\n  let fails = 0\n\n  let dedupedThemes: DedupedThemes | undefined\n\n  // because end-users can add their own css like .t_dark { --something: #000 }\n  // and this actually entirely breaks scanning, we need to ensure we can handle multiple\n  // themes, so track that here. also, css processing utils could cause this too\n  const nameToTheme: Record<string, ThemeParsed> = {}\n\n  for (let i = 0; i < len; i++) {\n    const rule = rules[i]\n    if (!(rule instanceof CSSStyleRule)) continue\n\n    const response = getTamaguiSelector(rule, collectThemes)\n\n    if (response) {\n      // reset to 0 on any success as eg every other theme scan we get empty\n      fails = 0\n    } else {\n      fails++\n      if (fails > bailAfter) {\n        // conservatively bail out of non-tamagui sheets\n        return\n      }\n      continue\n    }\n\n    const [identifier, cssRule, isTheme] = response\n\n    if (isTheme) {\n      const deduped = addThemesFromCSS(cssRule, tokens)\n      if (deduped) {\n        for (const name of deduped.names) {\n          if (nameToTheme[name]) {\n            Object.apply(nameToTheme[name], deduped.theme as any)\n            deduped.names = deduped.names.filter((x) => x !== name)\n          } else {\n            nameToTheme[name] = deduped.theme\n          }\n        }\n        dedupedThemes ||= []\n        dedupedThemes.push(deduped)\n      }\n      continue\n    }\n  }\n\n  scannedCache.set(sheet, cacheKey)\n\n  return dedupedThemes\n}\n\nlet colorVarToVal: Record<string, string>\nlet rootComputedStyle: CSSStyleDeclaration | null = null\n\nfunction addThemesFromCSS(cssStyleRule: CSSStyleRule, tokens?: TokensParsed) {\n  const selectors = cssStyleRule.selectorText.split(',')\n  if (!selectors.length) return\n\n  if (tokens?.color && !colorVarToVal) {\n    colorVarToVal = {}\n    for (const key in tokens.color) {\n      const token = tokens.color[key]\n      colorVarToVal[token.name] = token.val\n    }\n  }\n\n  const rulesWithBraces = (cssStyleRule.cssText || '').slice(\n    cssStyleRule.selectorText.length + 2,\n    -1\n  )\n\n  const rules = rulesWithBraces.split(';')\n\n  // get theme object parsed\n  const values: ThemeParsed = {}\n  // build values first\n  for (const rule of rules) {\n    const sepI = rule.indexOf(':')\n    if (sepI === -1) continue\n    const varIndex = rule.indexOf('--')\n    let key = rule.slice(varIndex === -1 ? 0 : varIndex + 2, sepI)\n    if (process.env.TAMAGUI_CSS_VARIABLE_PREFIX) {\n      key = key.replace(process.env.TAMAGUI_CSS_VARIABLE_PREFIX, '')\n    }\n    const val = rule.slice(sepI + 2)\n    let value: string\n    if (val[0] === 'v' && val.startsWith('var(')) {\n      // var()\n      const varName = val.slice(6, -1)\n      const tokenVal = colorVarToVal[varName]\n      // either hydrate it from tokens directly or from computed style on body if no token\n      if (tokenVal) {\n        value = tokenVal\n      } else {\n        rootComputedStyle ||= getComputedStyle(document.body)\n        value = rootComputedStyle.getPropertyValue('--' + varName)\n      }\n    } else {\n      value = val\n    }\n    values[key] = createVariable(\n      {\n        key,\n        name: key,\n        val: value,\n      },\n      true\n    ) as any\n  }\n\n  const names = new Set<string>()\n\n  // loop selectors and build deduped\n  for (const selector of selectors) {\n    if (selector === ' .tm_xxt') continue\n    const lastThemeSelectorIndex = selector.lastIndexOf('.t_')\n    const name = selector.slice(lastThemeSelectorIndex).slice(3)\n    const [schemeChar] = selector[lastThemeSelectorIndex - 5]\n    const scheme = schemeChar === 'd' ? 'dark' : schemeChar === 'i' ? 'light' : ''\n    const themeName = scheme && scheme !== name ? `${scheme}_${name}` : name\n    if (!themeName || themeName === 'light_dark' || themeName === 'dark_light') {\n      continue\n    }\n    names.add(themeName)\n  }\n\n  return {\n    names: [...names],\n    theme: values,\n  } satisfies DedupedTheme\n}\n\nconst tamaguiSelectorRegex = /\\.tm_xxt/\n\nfunction getTamaguiSelector(\n  rule: CSSRule | null,\n  collectThemes = false\n): readonly [string, CSSStyleRule] | [string, CSSStyleRule, true] | undefined {\n  if (rule instanceof CSSStyleRule) {\n    const text = rule.selectorText\n\n    // only matches t_ starting selector chains\n    if (text[0] === ':' && text[1] === 'r' && tamaguiSelectorRegex.test(text)) {\n      const id = getIdentifierFromTamaguiSelector(\n        // next.js minifies it so its in front\n        text.replace(tamaguiSelectorRegex, '')\n      )\n      return collectThemes ? [id, rule, true] : [id, rule]\n    }\n  } else if (rule instanceof CSSMediaRule) {\n    // tamagui only ever inserts 1 rule per media\n    if (rule.cssRules.length > 1) return\n    return getTamaguiSelector(rule.cssRules[0])\n  }\n}\n\nconst getIdentifierFromTamaguiSelector = (selector: string) => {\n  const dotIndex = selector.indexOf(':')\n  if (dotIndex > -1) {\n    return selector.slice(7, dotIndex)\n  }\n  return selector.slice(7)\n}\n\nlet sheet: CSSStyleSheet | null = null\n\nlet trackAllRules = true\nexport function stopAccumulatingRules() {\n  trackAllRules = false\n}\n\nexport function updateRules(identifier: string, rules: string[]) {\n  if (trackAllRules) {\n    allRules[identifier] = rules.join(' ')\n  }\n  return true\n}\n\nlet nonce = ''\nexport function setNonce(_: string) {\n  nonce = _\n}\n\nexport function insertStyleRules(rulesToInsert: RulesToInsert) {\n  if (!isClient) return\n\n  if (!sheet && document.head) {\n    const styleTag = document.createElement('style')\n    styleTag.id = '_tamagui-styles'\n    if (nonce) {\n      styleTag.nonce = nonce\n    }\n    sheet = document.head.appendChild(styleTag).sheet\n  }\n\n  if (!sheet) return\n\n  for (const key in rulesToInsert) {\n    const styleObject = rulesToInsert[key]\n    const identifier = styleObject[StyleObjectIdentifier]\n\n    if (!shouldInsertStyleRules(identifier)) {\n      continue\n    }\n\n    const rules = styleObject[StyleObjectRules]\n    allSelectors[identifier] = rules.join('\\n')\n    trackInsertedStyle(identifier)\n    updateRules(identifier, rules)\n\n    try {\n      for (const rule of rules) {\n        sheet.insertRule(rule, sheet.cssRules.length)\n        if (identifier === '_dsp-_groupframe-maxMd_none') console.warn('INSERT', rule)\n      }\n    } catch (err) {\n      if (process.env.NODE_ENV === 'production') {\n        console.error(`Error inserting style rule`, rules)\n      }\n      // in dev throw to show error clearly\n    }\n  }\n}\n\n// The way browser or next.js work you end up with CSS being removed *after* the new CSS loads for the upcoming page\n// this causes many bugs. We defaulted to \"2\" here for safety, meaning we sacrificed some performance\n// setting TAMAGUI_INSERT_SELECTOR_TRIES=1 will be faster so long as you are concatting your CSS together\n\nconst maxToInsert = process.env.TAMAGUI_INSERT_SELECTOR_TRIES\n  ? +process.env.TAMAGUI_INSERT_SELECTOR_TRIES\n  : 1\n\nexport function shouldInsertStyleRules(identifier: string) {\n  if (process.env.IS_STATIC === 'is_static') {\n    return true\n  }\n  const total = totalSelectorsInserted.get(identifier) || 0\n  if (process.env.NODE_ENV === 'development') {\n    if (total > +(process.env.TAMAGUI_STYLE_INSERTION_WARNING_LIMIT || 10)) {\n      console.warn(\n        `Warning: inserting many CSS rules, you may be animating something and generating many CSS insertions, which can degrade performance. Instead, try using the \"disableClassName\" property on elements that change styles often. To disable this warning set TAMAGUI_STYLE_INSERTION_WARNING_LIMIT from 50000 to something higher`\n      )\n    }\n  }\n  // note we are being conservative allowing duplicates\n  return total < maxToInsert\n}\n", "import { currentPlatform } from '@tamagui/constants'\n\nexport function isActivePlatform(key: string) {\n  if (!key.startsWith('$platform')) {\n    return true\n  }\n  const platform = key.slice(10)\n  return (\n    // web, ios, android\n    platform === currentPlatform ||\n    // web, native\n    platform === process.env.TAMAGUI_TARGET\n  )\n}\n", "export function isActiveTheme(key: string, activeThemeName: string) {\n  if (!key.startsWith('$theme-')) return\n  return key.slice(7).startsWith(activeThemeName)\n}\n", "import { _disableMediaTouch } from '../hooks/useMedia'\n\nexport function log(...args: any[]) {\n  if (process.env.NODE_ENV === 'production') return\n  _disableMediaTouch(true)\n  try {\n    if (process.env.TAMAGUI_TARGET === 'web') {\n      return console.info(...args)\n    }\n    // react native doesn't log in the cli unless it's log\n    // biome-ignore lint/suspicious/noConsoleLog: <explanation>\n    return console.log(...args)\n  } catch (err) {\n    console.error(err)\n  } finally {\n    _disableMediaTouch(false)\n  }\n}\n", "export const webToNativeDynamicExpansion: Record<string, (val: any) => [string, any][]> =\n  {} as any\nexport const webToNativeExpansion: Record<string, string[]> = {} as any\n", "/**\n * Some parts adapted from react-native-web\n * Copyright (c) Nicolas Gallagher licensed under the MIT license.\n */\n\nimport { isAndroid, isWeb } from '@tamagui/constants'\n\nimport { getSetting } from '../config'\nimport {\n  webToNativeDynamicExpansion,\n  webToNativeExpansion,\n} from '../constants/webToNativeProps'\nimport type { PropMappedValue } from '../types'\n\nconst neg1Flex = [\n  ['flexGrow', 0],\n  ['flexShrink', 1],\n  ['flexBasis', 'auto'],\n] satisfies PropMappedValue\n\nexport function expandStyle(key: string, value: any): PropMappedValue {\n  if (process.env.TAMAGUI_TARGET === 'web') {\n    if (key === 'flex') {\n      if (value === -1) {\n        return neg1Flex\n      }\n      return [\n        ['flexGrow', value],\n        ['flexShrink', 1],\n        ['flexBasis', getSetting('styleCompat') === 'react-native' ? 0 : 'auto'],\n      ]\n    }\n\n    // web only\n    switch (key) {\n      case 'textAlignVertical': {\n        return [['verticalAlign', value === 'center' ? 'middle' : value]]\n      }\n      case 'writingDirection': {\n        return [['direction', value]]\n      }\n      // some safari-based browsers seem not to support without -webkit prefix\n      case 'backdropFilter': {\n        return [\n          ['backdropFilter', value],\n          ['WebkitBackdropFilter', value],\n        ]\n      }\n    }\n  }\n\n  if (\n    process.env.TAMAGUI_TARGET === 'native' &&\n    isAndroid &&\n    key === 'elevationAndroid'\n  ) {\n    return [['elevation', value]]\n  }\n\n  if (key in EXPANSIONS) {\n    return EXPANSIONS[key].map((key) => {\n      return [key, value]\n    })\n  }\n\n  if (key in webToNativeExpansion) {\n    return webToNativeExpansion[key].map((key) => {\n      return [key, value]\n    })\n  }\n\n  if (key in webToNativeDynamicExpansion) {\n    return webToNativeDynamicExpansion[key](value)\n  }\n}\n\nconst all = ['Top', 'Right', 'Bottom', 'Left']\nconst horiz = ['Right', 'Left']\nconst vert = ['Top', 'Bottom']\nconst xy = ['X', 'Y']\n\nconst EXPANSIONS: Record<string, string[]> = {\n  borderColor: ['TopColor', 'RightColor', 'BottomColor', 'LeftColor'],\n  borderRadius: [\n    'TopLeftRadius',\n    'TopRightRadius',\n    'BottomRightRadius',\n    'BottomLeftRadius',\n  ],\n  borderWidth: ['TopWidth', 'RightWidth', 'BottomWidth', 'LeftWidth'],\n  margin: all,\n  marginHorizontal: horiz,\n  marginVertical: vert,\n  overscrollBehavior: xy,\n  padding: all,\n  paddingHorizontal: horiz,\n  paddingVertical: vert,\n  ...(isWeb && {\n    // react-native only supports borderStyle\n    borderStyle: ['TopStyle', 'RightStyle', 'BottomStyle', 'LeftStyle'],\n    // react-native doesn't support X / Y\n    overflow: xy,\n  }),\n}\n\nfor (const parent in EXPANSIONS) {\n  const prefix = parent.slice(0, /[A-Z]/.exec(parent)?.index ?? parent.length)\n  EXPANSIONS[parent] = EXPANSIONS[parent].map((k) => `${prefix}${k}`)\n}\n", "import { getSetting } from '../config'\nimport { getVariableValue } from '../createVariable'\nimport type { GenericFonts, GetStyleState, LanguageContextType } from '../types'\n\nconst cache = new WeakMap()\n\nexport const getVariantExtras = (styleState: GetStyleState) => {\n  if (cache.has(styleState)) {\n    return cache.get(styleState)\n  }\n\n  const { props, conf, context, theme, styleProps } = styleState\n  let fonts = conf.fontsParsed\n  if (context?.language) {\n    fonts = getFontsForLanguage(conf.fontsParsed, context.language)\n  }\n\n  const next = {\n    fonts,\n    tokens: conf.tokensParsed,\n    theme,\n    context: styleProps?.styledContext,\n    get fontFamily() {\n      return (\n        getVariableValue(styleState.fontFamily || styleState.props.fontFamily) ||\n        props.fontFamily ||\n        getVariableValue(getSetting('defaultFont'))\n      )\n    },\n    get font() {\n      return (\n        fonts[this.fontFamily] ||\n        (!props.fontFamily || props.fontFamily[0] === '$'\n          ? fonts[getSetting('defaultFont') || '']\n          : undefined)\n      )\n    },\n    props,\n  }\n\n  cache.set(styleState, next)\n\n  return next as any\n}\n\nconst fontLanguageCache = new WeakMap()\n\nexport function getFontsForLanguage(fonts: GenericFonts, language: LanguageContextType) {\n  if (fontLanguageCache.has(language)) {\n    return fontLanguageCache.get(language)\n  }\n  const next = {\n    ...fonts,\n    ...Object.fromEntries(\n      Object.entries(language).map(([name, lang]) => {\n        if (lang === 'default') {\n          return []\n        }\n        const langKey = `$${name}_${lang}`\n        return [`$${name}`, fonts[langKey]]\n      })\n    ),\n  }\n  fontLanguageCache.set(language, next)\n  return next\n}\n", "export const isObj = (x: any) => x && !Array.isArray(x) && typeof x === 'object'\n", "import { expandStyle } from './expandStyle'\nimport { fixStyles } from './expandStyles'\nimport { isObj } from './isObj'\nimport { normalizeValueWithProperty } from './normalizeValueWithProperty'\nimport { pseudoDescriptors } from './pseudoDescriptors'\n\n/**\n * This is what you want to run before Object.assign() a style onto another.\n * It does the following:\n *   1. Shorthands into longhands, px = paddingHorizontal\n *   2. Expands flex, borderColor and other properties that can expand into sub-parts\n *   3. Normalizes all sub pseudo-media-etc styles\n */\n\nexport function normalizeStyle(style: Record<string, any>, disableNormalize = false) {\n  const res: Record<string, any> = {}\n\n  for (let key in style) {\n    const prop = style[key]\n    if (prop == null) continue\n    if (\n      key in pseudoDescriptors ||\n      // this should capture all parent-based styles like media, group, etc\n      (key[0] === '$' && isObj(prop))\n    ) {\n      res[key] = normalizeStyle(prop, disableNormalize)\n      continue\n    }\n    const value = disableNormalize ? prop : normalizeValueWithProperty(prop, key)\n    // expand react-native shorthands\n    const out = expandStyle(key, value)\n    if (out) {\n      Object.assign(res, Object.fromEntries(out))\n    } else {\n      res[key] = value\n    }\n  }\n\n  fixStyles(res)\n\n  return res\n}\n", "import { webPropsToSkip } from './webPropsToSkip'\n\n/**\n * These are props that dont pass down below Tamagui styled components\n */\nexport const skipProps = {\n  untilMeasured: 1,\n  animation: 1,\n  space: 1,\n  animateOnly: 1,\n  disableClassName: 1,\n  debug: 1,\n  componentName: 1,\n  disableOptimization: 1,\n  tag: 1,\n  style: 1, // handled after loop so pseudos set usedKeys and override it if necessary\n  group: 1,\n  themeInverse: 1,\n  animatePresence: 1,\n}\n\nif (process.env.NODE_ENV === 'test') {\n  skipProps['data-test-renders'] = 1\n}\n\n// native only skips\nif (process.env.TAMAGUI_TARGET === 'native') {\n  Object.assign(skipProps, webPropsToSkip)\n} else {\n  if (process.env.NODE_ENV !== 'production') {\n    // native only, not web props\n    // we only skip them in dev to avoid warnings, in prod they silently drop\n    Object.assign(skipProps, {\n      accessibilityElementsHidden: 1,\n      accessibilityIgnoresInvertColors: 1,\n      accessibilityLanguage: 1,\n      adjustsFontSizeToFit: 1,\n      allowFontScaling: 1,\n      android_hyphenationFrequency: 1,\n      dataDetectorType: 1,\n      dynamicTypeRamp: 1,\n      elevationAndroid: 1,\n      ellipsizeMode: 1,\n      hapticFeedback: 1,\n      hapticStyle: 1,\n      hitSlop: 1,\n      importantForAccessibility: 1,\n      lineBreakStrategyIOS: 1,\n      maxFontSizeMultiplier: 1,\n      minimumFontScale: 1,\n      needsOffscreenAlphaCompositing: 1,\n      nextFocusDown: 1,\n      nextFocusForward: 1,\n      nextFocusLeft: 1,\n      nextFocusRight: 1,\n      nextFocusUp: 1,\n      onAccessibilityAction: 1,\n      onAccessibilityEscape: 1,\n      onAccessibilityTap: 1,\n      onMagicTap: 1,\n      onTextLayout: 1,\n      pressRetentionOffset: 1,\n      selectionColor: 1,\n      shouldRasterizeIOS: 1,\n      suppressHighlighting: 1,\n      textBreakStrategy: 1,\n    })\n  }\n}\n", "import { isAndroid } from '@tamagui/constants'\nimport { tokenCategories } from '@tamagui/helpers'\nimport { getConfig } from '../config'\nimport { getVariableValue, isVariable } from '../createVariable'\nimport type {\n  GetStyleState,\n  PropMapper,\n  ResolveVariableAs,\n  SplitStyleProps,\n  StyleResolver,\n  TamaguiInternalConfig,\n  Variable,\n  VariantSpreadFunction,\n} from '../types'\nimport { expandStyle } from './expandStyle'\nimport { getFontsForLanguage, getVariantExtras } from './getVariantExtras'\nimport { isObj } from './isObj'\nimport { normalizeStyle } from './normalizeStyle'\nimport { pseudoDescriptors } from './pseudoDescriptors'\nimport { skipProps } from './skipProps'\n\nexport const propMapper: PropMapper = (key, value, styleState, disabled, map) => {\n  if (disabled) {\n    return map(key, value)\n  }\n\n  lastFontFamilyToken = null\n\n  if (!(process.env.TAMAGUI_TARGET === 'native' && isAndroid)) {\n    // this shouldnt be necessary and handled in the outer loop\n    if (key === 'elevationAndroid') return\n  }\n\n  const { conf, styleProps, staticConfig } = styleState\n\n  if (value === 'unset') {\n    const unsetVal = conf.unset?.[key]\n    if (unsetVal != null) {\n      value = unsetVal\n    } else {\n      // if no unset found, do nothing\n      return\n    }\n  }\n\n  const { variants } = staticConfig\n\n  if (!styleProps.noExpand) {\n    if (variants && key in variants) {\n      const variantValue = resolveVariants(key, value, styleProps, styleState, '')\n      if (variantValue) {\n        variantValue.forEach(([key, value]) => map(key, value))\n        return\n      }\n    }\n  }\n\n  // handle shorthands\n  if (!styleProps.disableExpandShorthands) {\n    if (key in conf.shorthands) {\n      key = conf.shorthands[key]\n    }\n  }\n\n  // Capture original value before resolution (for context prop tracking)\n  const originalValue = value\n\n  if (value != null) {\n    if (value[0] === '$') {\n      value = getTokenForKey(key, value, styleProps, styleState)\n    } else if (isVariable(value)) {\n      value = resolveVariableValue(key, value, styleProps.resolveValues)\n    }\n  }\n\n  if (value != null) {\n    if (key === 'fontFamily' && lastFontFamilyToken) {\n      styleState.fontFamily = lastFontFamilyToken\n    }\n\n    const expanded = styleProps.noExpand ? null : expandStyle(key, value)\n\n    if (expanded) {\n      const max = expanded.length\n      for (let i = 0; i < max; i++) {\n        const [nkey, nvalue] = expanded[i]\n        map(nkey, nvalue, originalValue)\n      }\n    } else {\n      map(key, value, originalValue)\n    }\n  }\n}\n\nconst resolveVariants: StyleResolver = (\n  key,\n  value,\n  styleProps,\n  styleState,\n  parentVariantKey\n) => {\n  const { staticConfig, conf, debug } = styleState\n  const { variants } = staticConfig\n  if (!variants) return\n\n  let variantValue = getVariantDefinition(variants[key], value, conf)\n\n  if (process.env.NODE_ENV === 'development' && debug === 'verbose') {\n    console.groupCollapsed(`♦️♦️♦️ resolve variant ${key}`)\n    console.info({\n      key,\n      value,\n      variantValue,\n      variants,\n    })\n    console.groupEnd()\n  }\n\n  if (!variantValue) {\n    // variant at key exists, but no matching variant\n    // disabling warnings, its fine to pass through, could re-enable later somehoiw\n    if (process.env.TAMAGUI_WARN_ON_MISSING_VARIANT === '1') {\n      // don't warn on missing booleans\n      if (typeof value !== 'boolean') {\n        const name = staticConfig.componentName || '[UnnamedComponent]'\n        console.warn(\n          `No variant found: ${name} has variant \"${key}\", but no matching value \"${value}\"`\n        )\n      }\n    }\n    return\n  }\n\n  if (typeof variantValue === 'function') {\n    const fn = variantValue as VariantSpreadFunction<any>\n    const extras = getVariantExtras(styleState)\n    variantValue = fn(value, extras)\n\n    if (\n      process.env.NODE_ENV === 'development' &&\n      debug === 'verbose' &&\n      process.env.TAMAGUI_TARGET !== 'native'\n    ) {\n      console.groupCollapsed('   expanded functional variant', key)\n      console.info({ fn, variantValue, extras })\n      console.groupEnd()\n    }\n  }\n\n  let fontFamilyResult: any\n\n  if (isObj(variantValue)) {\n    const fontFamilyUpdate =\n      variantValue.fontFamily || variantValue[conf.inverseShorthands.fontFamily]\n\n    if (fontFamilyUpdate) {\n      fontFamilyResult = getFontFamilyFromNameOrVariable(fontFamilyUpdate, conf)\n      styleState.fontFamily = fontFamilyResult\n\n      if (process.env.NODE_ENV === 'development' && debug === 'verbose') {\n        console.info(`   updating font family`, fontFamilyResult)\n      }\n    }\n\n    variantValue = resolveTokensAndVariants(\n      key,\n      variantValue,\n      styleProps,\n      styleState,\n      parentVariantKey\n    )\n  }\n\n  if (variantValue) {\n    const expanded = normalizeStyle(variantValue, !!styleProps.noNormalize)\n\n    if (process.env.NODE_ENV === 'development' && debug === 'verbose') {\n      console.info(`   expanding styles from `, variantValue, `to`, expanded)\n    }\n    const next = Object.entries(expanded)\n\n    // store any changed font family (only support variables for now)\n    if (fontFamilyResult && fontFamilyResult[0] === '$') {\n      lastFontFamilyToken = getVariableValue(fontFamilyResult)\n    }\n\n    return next\n  }\n}\n\n// handles finding and resolving the fontFamily to the token name\n// this is used as `font_[name]` in className for nice css variable support\nexport function getFontFamilyFromNameOrVariable(input: any, conf: TamaguiInternalConfig) {\n  if (isVariable(input)) {\n    const val = variableToFontNameCache.get(input)\n    if (val) return val\n    for (const key in conf.fontsParsed) {\n      const familyVariable = conf.fontsParsed[key].family\n      if (isVariable(familyVariable)) {\n        variableToFontNameCache.set(familyVariable, key)\n        if (familyVariable === input) {\n          return key\n        }\n      }\n    }\n  } else if (typeof input === 'string') {\n    if (input[0] === '$') {\n      return input\n    }\n  }\n}\n\nconst variableToFontNameCache = new WeakMap<Variable, string>()\n\nconst resolveTokensAndVariants: StyleResolver<Object> = (\n  key, // we dont use key assume value is object instead\n  value,\n  styleProps,\n  styleState,\n  parentVariantKey\n) => {\n  const { conf, staticConfig, debug, theme } = styleState\n  const { variants } = staticConfig\n  const res = {}\n\n  if (process.env.NODE_ENV === 'development' && debug === 'verbose') {\n    console.info(`   - resolveTokensAndVariants`, key, value)\n  }\n\n  for (const _key in value) {\n    const subKey = conf.shorthands[_key] || _key\n    const val = value[_key]\n\n    if (!styleProps.noSkip && subKey in skipProps) {\n      continue\n    }\n\n    // Track context overrides for any key that's in context props (issues #3670, #3676)\n    // Store the ORIGINAL token value (like '$8') before resolution so that\n    // children's functional variants can look up token values\n    if (staticConfig) {\n      const contextProps =\n        staticConfig.context?.props || staticConfig.parentStaticConfig?.context?.props\n      if (contextProps && subKey in contextProps) {\n        styleState.overriddenContextProps ||= {}\n        styleState.overriddenContextProps[subKey] = val\n        // Also track the original token value separately\n        styleState.originalContextPropValues ||= {}\n        styleState.originalContextPropValues[subKey] = val\n      }\n    }\n\n    if (styleProps.noExpand) {\n      res[subKey] = val\n    } else {\n      if (variants && subKey in variants) {\n        // avoids infinite loop if variant is matching a style prop\n        // eg: { variants: { flex: { true: { flex: 2 } } } }\n        if (parentVariantKey && parentVariantKey === key) {\n          res[subKey] =\n            // SYNC WITH *1\n            val[0] === '$' ? getTokenForKey(subKey, val, styleProps, styleState) : val\n        } else {\n          const variantOut = resolveVariants(subKey, val, styleProps, styleState, key)\n\n          // apply, merging sub-styles\n          if (variantOut) {\n            for (const [key, val] of variantOut) {\n              if (val == null) continue\n              if (key in pseudoDescriptors) {\n                res[key] ??= {}\n                Object.assign(res[key], val)\n              } else {\n                res[key] = val\n              }\n            }\n          }\n        }\n        continue\n      }\n    }\n\n    if (isVariable(val)) {\n      res[subKey] = resolveVariableValue(subKey, val, styleProps.resolveValues)\n\n      if (process.env.NODE_ENV === 'development' && debug === 'verbose') {\n        console.info(`variable`, subKey, res[subKey])\n      }\n      continue\n    }\n\n    if (typeof val === 'string') {\n      const fVal =\n        // SYNC WITH *1\n        val[0] === '$' ? getTokenForKey(subKey, val, styleProps, styleState) : val\n\n      res[subKey] = fVal\n      continue\n    }\n\n    if (isObj(val)) {\n      const subObject = resolveTokensAndVariants(subKey, val, styleProps, styleState, key)\n\n      if (process.env.NODE_ENV === 'development' && debug === 'verbose') {\n        console.info(`object`, subKey, subObject)\n      }\n\n      // sub-objects: media queries, pseudos, shadowOffset\n      res[subKey] ??= {}\n      Object.assign(res[subKey], subObject)\n    } else {\n      // nullish values cant be tokens, need no extra parsing\n      res[subKey] = val\n    }\n\n    if (process.env.NODE_ENV === 'development') {\n      if (debug) {\n        if (res[subKey]?.[0] === '$') {\n          console.warn(\n            `⚠️ Missing token in theme ${theme.name}:`,\n            subKey,\n            res[subKey],\n            theme\n          )\n        }\n      }\n    }\n  }\n\n  return res\n}\n\nconst tokenCats = ['size', 'color', 'radius', 'space', 'zIndex'].map((name) => ({\n  name,\n  spreadName: `...${name}`,\n}))\n\n// goes through specificity finding best matching variant function\nfunction getVariantDefinition(variant: any, value: any, conf: TamaguiInternalConfig) {\n  if (!variant) return\n  if (typeof variant === 'function') {\n    return variant\n  }\n  const exact = variant[value]\n  if (exact) {\n    return exact\n  }\n  if (value != null) {\n    const { tokensParsed } = conf\n    for (const { name, spreadName } of tokenCats) {\n      if (spreadName in variant && name in tokensParsed && value in tokensParsed[name]) {\n        return variant[spreadName]\n      }\n    }\n    const fontSizeVariant = variant['...fontSize']\n    if (fontSizeVariant && conf.fontSizeTokens.has(value)) {\n      return fontSizeVariant\n    }\n  }\n  // fallback to catch all | size\n  return variant[`:${typeof value}`] || variant['...']\n}\n\nconst fontShorthand = {\n  fontSize: 'size',\n  fontWeight: 'weight',\n}\n\nlet lastFontFamilyToken: any = null\nlet didLogMissingToken = false\n\nexport const getTokenForKey = (\n  key: string,\n  value: string,\n  styleProps: SplitStyleProps,\n  styleState: Partial<GetStyleState>\n) => {\n  let resolveAs = styleProps.resolveValues || 'none'\n\n  if (resolveAs === 'none') {\n    return value\n  }\n\n  const { theme, conf = getConfig(), context, fontFamily, staticConfig } = styleState\n\n  const themeValue = theme ? theme[value] || theme[value.slice(1)] : undefined\n\n  const tokensParsed = conf.tokensParsed\n  let valOrVar: any\n  let hasSet = false\n\n  const customTokenAccept = staticConfig?.accept?.[key]\n  if (customTokenAccept) {\n    const val = themeValue ?? tokensParsed[customTokenAccept][value]\n    if (val != null) {\n      resolveAs = 'value' // always resolve custom tokens as values\n      valOrVar = val\n      hasSet = true\n    }\n  }\n\n  if (themeValue) {\n    if (resolveAs === 'except-theme') {\n      return value\n    }\n\n    valOrVar = themeValue\n    if (process.env.NODE_ENV === 'development' && styleState.debug === 'verbose') {\n      globalThis.tamaguiAvoidTracking = true\n      console.info(\n        ` - resolving ${key} to theme value ${value} resolveAs ${resolveAs}`,\n        valOrVar\n      )\n      globalThis.tamaguiAvoidTracking = false\n    }\n    hasSet = true\n  } else {\n    if (value in conf.specificTokens) {\n      hasSet = true\n      valOrVar = conf.specificTokens[value]\n    } else {\n      switch (key) {\n        case 'fontFamily': {\n          const fontsParsed = context?.language\n            ? getFontsForLanguage(conf.fontsParsed, context.language)\n            : conf.fontsParsed\n          valOrVar = fontsParsed[value]?.family || value\n          lastFontFamilyToken = value\n          hasSet = true\n          break\n        }\n        case 'fontSize':\n        case 'lineHeight':\n        case 'letterSpacing':\n        case 'fontWeight': {\n          const fam = fontFamily || conf.defaultFontToken\n          if (fam) {\n            const fontsParsed = context?.language\n              ? getFontsForLanguage(conf.fontsParsed, context.language)\n              : conf.fontsParsed\n            const font = fontsParsed[fam] || fontsParsed[conf.defaultFontToken]\n            valOrVar = font?.[fontShorthand[key] || key]?.[value] || value\n            hasSet = true\n          }\n          break\n        }\n      }\n      for (const cat in tokenCategories) {\n        if (key in tokenCategories[cat]) {\n          const res = tokensParsed[cat]?.[value]\n\n          if (res != null) {\n            valOrVar = res\n            hasSet = true\n          } else {\n            if (process.env.NODE_ENV === 'development') {\n              if (process.env.TAMAGUI_DISABLE_MISSING_TOKEN_LOG !== '1') {\n                if (!didLogMissingToken) {\n                  didLogMissingToken = true\n                  console.groupCollapsed(\n                    `[tamagui] Warning: missing token ${key} in category ${cat} - ${value} (open for details)`\n                  )\n                  console.info(\n                    `Note: this could just be due to you not setting all the theme tokens Tamagui expects, which is harmless, but\n                    it also often can be because you have a duplicated Tamagui in your bundle, which can cause tricky bugs.`\n                  )\n                  console.info(\n                    `To see if you have duplicated dependencies, in Chrome DevTools hit CMD+P and type TamaguiProvider.\n                    If you see both a .cjs and a .mjs entry, it's duplicated.`\n                  )\n                  console.info(\n                    `You can debug that issue by opening the .mjs and .cjs files and setting a breakpoint at the top of each.`\n                  )\n                  console.info(\n                    `We only log this warning one time as it's sometimes harmless, to disable this log entirely set process.env.TAMAGUI_DISABLE_MISSING_TOKEN_LOG=1.`\n                  )\n                  console.groupEnd()\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n\n    if (!hasSet) {\n      const spaceVar = tokensParsed.space[value]\n      if (spaceVar != null) {\n        valOrVar = spaceVar\n        hasSet = true\n      }\n    }\n  }\n\n  if (hasSet) {\n    const out = resolveVariableValue(key, valOrVar, resolveAs)\n    if (process.env.NODE_ENV === 'development' && styleState.debug === 'verbose') {\n      globalThis.tamaguiAvoidTracking = true\n      console.info(`resolved`, resolveAs, valOrVar, out)\n      globalThis.tamaguiAvoidTracking = false\n    }\n    return out\n  }\n\n  // they didn't define this token don't return anything, we could warn?\n\n  if (process.env.NODE_ENV === 'development' && styleState.debug === 'verbose') {\n    console.warn(`Warning: no token found for ${key}, omitting`)\n  }\n}\n\nfunction resolveVariableValue(\n  key: string,\n  valOrVar: Variable | any,\n  resolveValues?: ResolveVariableAs\n) {\n  if (resolveValues === 'none') {\n    return valOrVar\n  }\n  if (isVariable(valOrVar)) {\n    if (resolveValues === 'value') {\n      return valOrVar.val\n    }\n\n    // @ts-expect-error this is fine until we can type better\n    const get = valOrVar?.get\n\n    // shadowColor doesn't support dynamic style\n    if (process.env.TAMAGUI_TARGET !== 'native' || key !== 'shadowColor') {\n      if (typeof get === 'function') {\n        const resolveDynamicFor = resolveValues === 'web' ? 'web' : undefined\n        return get(resolveDynamicFor)\n      }\n    }\n\n    return process.env.TAMAGUI_TARGET === 'native' ? valOrVar.val : valOrVar.variable\n  }\n  return valOrVar\n}\n", "export const sortString = (a: string, b: string) => (a < b ? -1 : a > b ? 1 : 0)\n", "import type { TamaguiComponentEvents } from './interfaces/TamaguiComponentEvents'\nimport type {\n  GetStyleResult,\n  StaticConfig,\n  TamaguiComponentState,\n  TamaguiComponentStateRef,\n} from './types'\n\nexport const hooks: InternalHooks = {}\n\n// internal hooks setup\nexport function setupHooks(next: InternalHooks) {\n  Object.assign(hooks, next)\n}\n\ntype InternalHooks = {\n  usePropsTransform?: (\n    elementType: any,\n    props: Record<string, any>,\n    stateRef: { current: TamaguiComponentStateRef },\n    willHydrate?: boolean\n  ) => any\n\n  setElementProps?: (node?: any) => void\n\n  useEvents?: (\n    viewProps: Record<string, any>,\n    events: TamaguiComponentEvents | null,\n    splitStyles: GetStyleResult | null,\n    setStateShallow: (next: Partial<TamaguiComponentState>) => void,\n    staticConfig: StaticConfig\n  ) => any\n\n  useChildren?: (elementType: any, children: any, viewProps: Record<string, any>) => any\n\n  getBaseViews?: () => {\n    View: any\n    Text: any\n    TextAncestor: any\n  }\n}\n", "import { hooks } from '../setupHooks'\n\nexport const setElementProps = (node) => {\n  hooks.setElementProps?.(node)\n}\n", "import { mergeIfNotShallowEqual } from '@tamagui/is-equal-shallow'\nimport { getMediaState } from '../hooks/useMedia'\nimport type { ComponentSetStateShallow, DisposeFn, AllGroupContexts } from '../types'\n\ntype SubscribeToContextGroupProps = {\n  setStateShallow: ComponentSetStateShallow\n  pseudoGroups?: Set<string>\n  mediaGroups?: Set<string>\n  groupContext: AllGroupContexts\n}\n\nexport const subscribeToContextGroup = (props: SubscribeToContextGroupProps) => {\n  const { pseudoGroups, mediaGroups, groupContext } = props\n  if (pseudoGroups || mediaGroups) {\n    if (process.env.NODE_ENV === 'development' && !groupContext) {\n      console.debug(`No context group found`)\n    }\n\n    const disposables = new Set<DisposeFn>()\n\n    if (pseudoGroups) {\n      for (const name of [...pseudoGroups]) {\n        disposables.add(createGroupListener(name, props))\n      }\n    }\n\n    if (mediaGroups) {\n      for (const name of [...mediaGroups]) {\n        disposables.add(createGroupListener(name, props))\n      }\n    }\n\n    return () => {\n      disposables.forEach((d) => d())\n    }\n  }\n}\n\nconst createGroupListener = (\n  name: string,\n  {\n    setStateShallow,\n    pseudoGroups,\n    mediaGroups,\n    groupContext,\n  }: SubscribeToContextGroupProps\n): DisposeFn => {\n  const parent = groupContext?.[name]\n\n  if (!parent) {\n    return () => {}\n  }\n\n  const dispose = parent.subscribe(({ layout, pseudo }) => {\n    setStateShallow((prev) => {\n      let didChange = false\n      const group = prev.group?.[name] || {\n        pseudo: {},\n        media: {},\n      }\n\n      if (pseudo && pseudoGroups?.has(name)) {\n        group.pseudo ||= {}\n        const next = mergeIfNotShallowEqual(group.pseudo, pseudo)\n        if (next !== group.pseudo) {\n          Object.assign(group.pseudo, pseudo)\n          didChange = true\n        }\n      } else if (layout && mediaGroups) {\n        group.media ||= {}\n        const mediaState = getMediaState(mediaGroups, layout)\n        const next = mergeIfNotShallowEqual(group.media, mediaState)\n        if (next !== group.media) {\n          Object.assign(group.media, next)\n          didChange = true\n        }\n      }\n\n      if (didChange) {\n        return {\n          group: {\n            ...prev.group,\n            [name]: group,\n          },\n        }\n      }\n\n      return prev\n    })\n  })\n\n  return () => {\n    dispose()\n    // we no longer have any active group, need to remove state so the style updates\n    setStateShallow({\n      group: {},\n    })\n  }\n}\n", "import { IS_REACT_19 } from '@tamagui/constants'\nimport { StyleObjectIdentifier, StyleObjectRules } from '@tamagui/helpers'\nimport type { StyleObject } from '../types'\n\n// turns out this is pretty slow, creating a bunch of extra tags...\n\nexport function getStyleTags(styles: StyleObject[]) {\n  if (IS_REACT_19 && process.env.TAMAGUI_TARGET !== 'native') {\n    if (styles.length) {\n      return (\n        <>\n          {styles.map((styleObject) => {\n            const identifier = styleObject[StyleObjectIdentifier]\n            return (\n              <style\n                key={identifier}\n                // @ts-ignore\n                href={`t_${identifier}`}\n                // @ts-ignore\n                precedence=\"default\"\n                // we remove after first render in favor of inserting to a global stylesheet (faster)\n                suppressHydrationWarning\n              >\n                {styleObject[StyleObjectRules].join('\\n')}\n              </style>\n            )\n          })}\n        </>\n      )\n    }\n  }\n}\n", "import { isServer, isWeb } from '@tamagui/constants'\nimport { useCreateShallowSetState } from '@tamagui/is-equal-shallow'\nimport { useDidFinishSSR, useIsClientOnly } from '@tamagui/use-did-finish-ssr'\nimport { useRef, useState } from 'react'\nimport {\n  defaultComponentState,\n  defaultComponentStateMounted,\n  defaultComponentStateShouldEnter,\n} from '../defaultComponentState'\nimport { isObj } from '../helpers/isObj'\nimport { log } from '../helpers/log'\nimport type {\n  ComponentContextI,\n  StackProps,\n  StaticConfig,\n  TamaguiComponentState,\n  TamaguiComponentStateRef,\n  TamaguiInternalConfig,\n  TextProps,\n  UseAnimationHook,\n} from '../types'\n\nexport const useComponentState = (\n  props: StackProps | TextProps | Record<string, any>,\n  animationDriver: ComponentContextI['animationDriver'],\n  staticConfig: StaticConfig,\n  config: TamaguiInternalConfig\n) => {\n  const isHydrated = useDidFinishSSR()\n  const needsHydration = !useIsClientOnly()\n\n  const useAnimations = animationDriver?.isStub\n    ? undefined\n    : (animationDriver?.useAnimations as UseAnimationHook | undefined)\n\n  const { isHOC } = staticConfig\n\n  const stateRef = useRef<TamaguiComponentStateRef>(\n    // performance: avoid creating object every render\n    undefined as unknown as TamaguiComponentStateRef\n  )\n\n  if (!stateRef.current) {\n    stateRef.current = {\n      startedUnhydrated: needsHydration && !isHydrated,\n    }\n  }\n\n  // after we get states mount we need to turn off isAnimated for server side\n  const hasAnimationProp = Boolean(\n    (!isHOC && 'animation' in props) ||\n      (props.style && hasAnimatedStyleValue(props.style))\n  )\n\n  const supportsCSS = animationDriver?.supportsCSS\n  const curStateRef = stateRef.current\n\n  if (!needsHydration && hasAnimationProp) {\n    curStateRef.hasAnimated = true\n  }\n\n  const willBeAnimatedClient = (() => {\n    const next = !!(hasAnimationProp && !isHOC && useAnimations)\n    return Boolean(next || curStateRef.hasAnimated)\n  })()\n\n  const willBeAnimated = !isServer && willBeAnimatedClient\n\n  // once animated, always animated to preserve hooks / vdom structure\n  if (willBeAnimated && !curStateRef.hasAnimated) {\n    curStateRef.hasAnimated = true\n  }\n\n  const { disableClassName } = props\n\n  // HOOK\n  const presence =\n    (!isHOC &&\n      willBeAnimated &&\n      props['animatePresence'] !== false &&\n      animationDriver?.usePresence?.()) ||\n    null\n\n  const presenceState = presence?.[2]\n  const isExiting = presenceState?.isPresent === false\n  const isEntering = presenceState?.isPresent === true && presenceState.initial !== false\n\n  const hasEnterStyle = !!props.enterStyle\n\n  const hasAnimationThatNeedsHydrate =\n    hasAnimationProp && !isHydrated && (animationDriver?.isReactNative || !supportsCSS)\n\n  const canImmediatelyEnter = hasEnterStyle || isEntering\n\n  // this can be conditional because its only ever needed with animations\n  const shouldEnter =\n    !isHOC &&\n    (hasEnterStyle ||\n      isEntering ||\n      hasAnimationThatNeedsHydrate ||\n      // disableClassName doesnt work server side, only client, so needs hydrate\n      // this is just for a better ux, supports css variables for light/dark, media queries, etc\n      disableClassName)\n\n  // two stage enter: because we switch from css driver to spring driver\n  //   - first render: render to match server with css driver\n  //   - second render: state.unmounted = should-enter, still rendering the initial,\n  //     non-entered state but now with the spring animation driver\n\n  const initialState = shouldEnter\n    ? // on the very first render we switch all spring animation drivers to css rendering\n      // this is because we need to use css variables, which they don't support to do proper SSR\n      // without flickers of the wrong colors.\n      // but once we do that initial hydration and we are in client side rendering mode,\n      // we can avoid the extra re-render on mount\n      canImmediatelyEnter\n      ? defaultComponentStateShouldEnter\n      : defaultComponentState\n    : defaultComponentStateMounted\n\n  // will be nice to deprecate half of these:\n  const disabled = isDisabled(props)\n\n  if (disabled != null) {\n    initialState.disabled = disabled\n  }\n\n  // HOOK\n  const states = useState<TamaguiComponentState>(initialState)\n\n  const state = props.forceStyle ? { ...states[0], [props.forceStyle]: true } : states[0]\n  const setState = states[1]\n\n  // apply states we never updated from avoiding re-renders in animation driver\n  // unsafe yea yea\n  // if (stateRef.current.nextComponentState) {\n  //   Object.assign(state, stateRef.current.nextComponentState)\n  // }\n\n  // only web server + initial client render run this when not hydrated:\n  let isAnimated = willBeAnimated\n  if (isWeb && hasAnimationThatNeedsHydrate && !staticConfig.isHOC && !isHydrated) {\n    isAnimated = false\n    curStateRef.willHydrate = true\n  }\n\n  // immediately update disabled state and reset component state\n  if (disabled !== state.disabled) {\n    // if disabled remove all press/focus/hover states\n    if (disabled) {\n      Object.assign(state, defaultComponentStateMounted)\n    }\n    state.disabled = disabled\n    setState((_) => ({ ...state }))\n  }\n\n  const groupName = props.group as any as string | undefined\n\n  const setStateShallow = useCreateShallowSetState(setState, props.debug)\n\n  // set enter/exit variants onto our new props object\n  if (presenceState && isAnimated && isHydrated && staticConfig.variants) {\n    if (process.env.NODE_ENV === 'development' && props.debug === 'verbose') {\n      console.warn(`has presenceState ${JSON.stringify(presenceState)}`)\n    }\n    const { enterVariant, exitVariant, enterExitVariant, custom } = presenceState\n    if (isObj(custom)) {\n      Object.assign(props, custom)\n    }\n    const exv = exitVariant ?? enterExitVariant\n    const env = enterVariant ?? enterExitVariant\n    if (state.unmounted && env && staticConfig.variants[env]) {\n      if (process.env.NODE_ENV === 'development' && props.debug === 'verbose') {\n        console.warn(`Animating presence ENTER \"${env}\"`)\n      }\n      props[env] = true\n    } else if (isExiting && exv) {\n      if (process.env.NODE_ENV === 'development' && props.debug === 'verbose') {\n        console.warn(`Animating presence EXIT \"${exv}\"`)\n      }\n      props[exv] = exitVariant !== enterExitVariant\n    }\n  }\n\n  let noClass = !isWeb || !!props.forceStyle\n\n  if (!isHydrated) {\n    noClass = false\n  } else {\n    // on server for SSR and animation compat added the && isHydrated but perhaps we want\n    // disableClassName=\"until-hydrated\" to be more straightforward\n    // see issue if not, Button sets disableClassName to true <Button animation=\"\" /> with\n    // the react-native driver errors because it tries to animate var(--color) to rbga(..)\n    // no matter what if fully unmounted or on the server we use className\n    // only once we hydrate do we switch to spring animation drivers or disableClassName etc\n    if (isWeb && isHydrated) {\n      const isAnimatedAndHydrated = isAnimated && isHydrated\n\n      const isClassNameDisabled =\n        !staticConfig.acceptsClassName && (config.disableSSR || !state.unmounted)\n\n      const isDisabledManually = disableClassName && !state.unmounted\n\n      if (\n        // Only disable className for animation drivers that need inline styles\n        (isAnimatedAndHydrated && !animationDriver?.classNameAnimation) ||\n        isDisabledManually ||\n        isClassNameDisabled\n      ) {\n        noClass = true\n\n        if (process.env.NODE_ENV === 'development' && props.debug === 'verbose') {\n          log(`avoiding className`, {\n            isAnimatedAndHydrated,\n            isDisabledManually,\n            isClassNameDisabled,\n          })\n        }\n      }\n    }\n  }\n\n  return {\n    startedUnhydrated: curStateRef.startedUnhydrated,\n    curStateRef,\n    disabled,\n    groupName,\n    hasAnimationProp,\n    hasEnterStyle,\n    isAnimated,\n    isExiting,\n    isHydrated,\n    presence,\n    presenceState,\n    setState,\n    setStateShallow,\n    noClass,\n    state,\n    stateRef,\n    supportsCSS,\n    willBeAnimated,\n    willBeAnimatedClient,\n  }\n}\n\nfunction hasAnimatedStyleValue(style: Object) {\n  return Object.keys(style).some((k) => {\n    const val = style[k]\n    return val && typeof val === 'object' && '_animation' in val\n  })\n}\n\nconst isDisabled = (props: any) => {\n  return (\n    props.disabled ||\n    props.passThrough ||\n    props.accessibilityState?.disabled ||\n    props['aria-disabled'] ||\n    props.accessibilityDisabled ||\n    false\n  )\n}\n", "// via radix\n\nimport { composeRefs } from '@tamagui/compose-refs'\nimport { isWeb } from '@tamagui/constants'\nimport { composeEventHandlers } from '@tamagui/helpers'\nimport type { ReactNode } from 'react'\nimport { Children, cloneElement, forwardRef, isValidElement, version, memo } from 'react'\n\n/* -------------------------------------------------------------------------------------------------\n * Slot\n * -----------------------------------------------------------------------------------------------*/\n\ninterface SlotProps {\n  children: ReactNode\n}\n\nconst is19 = version.startsWith('19.')\n\nexport const Slot = memo(\n  forwardRef<any, SlotProps>(function Slot(props, forwardedRef) {\n    const { children, ...slotProps } = props\n\n    if (isValidElement(children)) {\n      const mergedProps = mergeSlotProps(children, slotProps)\n      return cloneElement(\n        children,\n        children.type['avoidForwardRef']\n          ? mergedProps\n          : {\n              ...mergedProps,\n              ref: composeRefs(\n                forwardedRef,\n                is19 ? (children as any).props.ref : (children as any).ref\n              ),\n            }\n      )\n    }\n\n    return Children.count(children) > 1 ? Children.only(null) : null\n  })\n)\n\n/* -------------------------------------------------------------------------------------------------\n * Slottable\n * -----------------------------------------------------------------------------------------------*/\n\nexport const Slottable = ({ children }: { children: ReactNode }) => {\n  return <>{children}</>\n}\n\nSlottable['displayName'] = 'Slottable'\n\n/* ---------------------------------------------------------------------------------------------- */\n\nconst pressMap = isWeb\n  ? {\n      onPress: 'onClick',\n      onPressOut: 'onMouseUp',\n      onPressIn: 'onMouseDown',\n    }\n  : {}\n\nfunction mergeSlotProps(child: any, slotProps: Record<string, any>) {\n  const childProps = child.props\n\n  // all child props should override\n  const overrideProps = { ...childProps }\n  const isHTMLChild = typeof child.type === 'string'\n\n  if (isHTMLChild) {\n    for (const key in pressMap) {\n      if (key in slotProps) {\n        slotProps[pressMap[key]] = slotProps[key]\n        delete slotProps[key]\n      }\n    }\n  }\n\n  for (let propName in childProps) {\n    const slotPropValue = slotProps[propName]\n    const childPropValue = childProps[propName]\n\n    if (isHTMLChild && propName in pressMap) {\n      propName = pressMap[propName]\n      delete overrideProps[propName]\n    }\n\n    const isHandler = handleRegex.test(propName)\n    // if it's a handler, modify the override by composing the base handler\n    if (isHandler) {\n      overrideProps[propName] = composeEventHandlers(childPropValue, slotPropValue)\n    }\n    // if it's `style`, we merge them\n    else if (propName === 'style') {\n      overrideProps[propName] = { ...slotPropValue, ...childPropValue }\n    } else if (propName === 'className') {\n      overrideProps[propName] = [slotPropValue, childPropValue].filter(Boolean).join(' ')\n    }\n  }\n\n  return { ...slotProps, ...overrideProps }\n}\n\nconst handleRegex = /^on[A-Z]/\n", "import type { StaticConfig } from '../types'\n\nexport function isTamaguiComponent<A>(\n  comp: A,\n  name?: string\n): comp is A & {\n  staticConfig: StaticConfig\n} {\n  const config = comp?.['staticConfig'] as StaticConfig | undefined\n  return Boolean(config && (name ? name === config.componentName : true))\n}\n", "import React from 'react'\n\nimport type { StaticConfig } from '../types'\nimport { isTamaguiComponent } from './isTamaguiComponent'\n\nexport const isTamaguiElement = (\n  child: any,\n  name?: string\n): child is React.ReactElement<any> & { type: { staticConfig: StaticConfig } } => {\n  return React.isValidElement(child) && isTamaguiComponent(child.type, name)\n}\n", "import type { FontWeightValues, GenericFont } from './types'\n\nconst fontWeights: FontWeightValues[] = [\n  '100',\n  '200',\n  '300',\n  '400',\n  '500',\n  '600',\n  '700',\n  '800',\n  '900',\n]\n\nconst processSection = <T>(\n  section: string | Record<string, T>,\n  keys: string[],\n  defaultValue?: any\n): string | Record<string, T> => {\n  if (typeof section === 'string') return section\n\n  const sectionKeys = Object.keys(section)\n  let fillValue = section[sectionKeys[0]]\n\n  return Object.fromEntries(\n    [...new Set([...keys, ...sectionKeys])].map((key) => {\n      const value = section[key] ?? defaultValue ?? fillValue\n      fillValue = value\n      defaultValue = value\n      return [key, value]\n    })\n  )\n}\n\nexport const createFont = <A extends GenericFont>(font: A): A => {\n  const sizeKeys = Object.keys(font.size || {})\n  const processedFont = Object.fromEntries(\n    Object.entries(font).map(([key, section]) => {\n      return [\n        key,\n        processSection(\n          section as any,\n          key === 'face' ? fontWeights : sizeKeys,\n          key === 'face' ? { normal: font.family } : undefined\n        ),\n      ]\n    })\n  )\n  return Object.freeze(processedFont) as A\n}\n", "import type { CreateShorthands } from './types'\n\n// just a type helper util\n\nexport function createShorthands<A extends CreateShorthands>(shorthands: A): A {\n  return Object.freeze(shorthands) as any\n}\n", "import { isWeb } from '@tamagui/constants'\nimport { simpleHash } from '@tamagui/helpers'\nimport { createVariable, isVariable } from './createVariable'\nimport type { Variable } from './types'\n\ntype DeepTokenObject<Val extends string | number = any> = {\n  [key: string]: Val | DeepTokenObject<Val>\n}\n\nexport type DeepVariableObject<A extends DeepTokenObject> = {\n  [Key in keyof A]: A[Key] extends string | number\n    ? Variable<A[Key]>\n    : A[Key] extends DeepTokenObject\n      ? DeepVariableObject<A[Key]>\n      : never\n}\n\nconst cache = new WeakMap()\n\n// recursive...\n\nexport const createVariables = <A extends DeepTokenObject>(\n  tokens: A,\n  parentPath = '',\n  isFont = false\n): DeepVariableObject<A> => {\n  if (cache.has(tokens)) return tokens\n\n  const res: any = {}\n  let i = 0\n  for (let keyIn in tokens) {\n    i++\n    const val = tokens[keyIn]\n    const isPrefixed = keyIn[0] === '$'\n    const keyWithPrefix = isPrefixed ? keyIn : `$${keyIn}`\n    const key = isPrefixed ? keyWithPrefix.slice(1) : keyIn\n\n    if (isVariable(val)) {\n      res[key] = val\n      continue\n    }\n    const niceKey = simpleHash(key, 1000)\n    const name =\n      parentPath && parentPath !== 't-color' ? `${parentPath}-${niceKey}` : `c-${niceKey}`\n\n    // Handle px() helper objects\n    if (val && typeof val === 'object' && 'needsPx' in val && 'val' in val) {\n      const finalValue = createVariable({\n        val: val.val,\n        name,\n        key: keyWithPrefix,\n      })\n      // Only set needsPx flag on web platform, avoid on native\n      if (isWeb) {\n        finalValue.needsPx = val.needsPx\n      }\n      res[key] = finalValue\n      continue\n    }\n\n    if (val && typeof val === 'object') {\n      // recurse\n      res[key] = createVariables(\n        tokens[key] as any,\n        name,\n        false /* note: don't pass isFont down, we want to avoid it past the first level */\n      )\n      continue\n    }\n    const finalValue = isVariable(val)\n      ? val\n      : createVariable({ val, name, key: keyWithPrefix })\n    res[key] = finalValue\n  }\n\n  cache.set(res, true)\n  return res\n}\n", "import { createCSSVariable, getVariableValue } from '../createVariable'\nimport type { Variable, VariableVal } from '../types'\n\nexport const registerCSSVariable = (v: Variable | VariableVal) => {\n  tokensValueToVariable.set(getVariableValue(v), v)\n}\n\nexport const variableToCSS = (v: Variable, unitless = false) => {\n  return `--${process.env.TAMAGUI_CSS_VARIABLE_PREFIX || ''}${createCSSVariable(\n    v.name,\n    false\n  )}:${!unitless && typeof v.val === 'number' ? `${v.val}px` : v.val}`\n}\n\nexport const tokensValueToVariable = new Map<any, any>()\n", "import { setConfigFont } from './config'\nimport { FONT_DATA_ATTRIBUTE_NAME } from './constants/constants'\nimport { createFont } from './createFont'\nimport type { DeepVariableObject } from './createVariables'\nimport { createVariables } from './createVariables'\nimport { registerCSSVariable, variableToCSS } from './helpers/registerCSSVariable'\nimport type { GenericFont, Variable } from './types'\n\n/**\n * Runtime dynamic insert font\n */\nexport function insertFont<A extends GenericFont>(\n  name: string,\n  fontIn: A\n): DeepVariableObject<A> {\n  const font = createFont(fontIn)\n  const tokened = createVariables(font, name) as GenericFont\n  const parsed = parseFont(tokened) as DeepVariableObject<A>\n  if (process.env.TAMAGUI_TARGET === 'web' && typeof document !== 'undefined') {\n    const fontVars = registerFontVariables(parsed)\n    const styleElement: HTMLStyleElement =\n      document.querySelector(`style[${FONT_DATA_ATTRIBUTE_NAME}=\"${name}\"]`) ||\n      document.createElement('style')\n    styleElement.innerText = `:root .font_${name} {${fontVars.join(';')}}`\n    styleElement.setAttribute(FONT_DATA_ATTRIBUTE_NAME, name)\n    document.head.appendChild(styleElement)\n  }\n  setConfigFont(name, tokened, parsed)\n  return parsed\n}\n\nexport const updateFont = insertFont\n\nexport function parseFont<A extends GenericFont>(definition: A): DeepVariableObject<A> {\n  const parsed: any = {}\n  for (const attrKey in definition) {\n    const attr = definition[attrKey]\n    if (attrKey === 'family' || attrKey === 'face') {\n      parsed[attrKey] = attr\n    } else {\n      parsed[attrKey] = {}\n      for (const key in attr) {\n        let val = attr[key] as any\n        // is a theme reference\n        if (val.val?.[0] === '$') {\n          val = val.val\n        }\n        parsed[attrKey][`$${key}`] = val\n      }\n    }\n  }\n  return parsed\n}\n\nexport function registerFontVariables(parsedFont: any) {\n  const response: string[] = []\n\n  for (const fkey in parsedFont) {\n    if (fkey === 'face') continue\n    if (fkey === 'family') {\n      const val = parsedFont[fkey] as Variable\n      registerCSSVariable(val)\n      response.push(variableToCSS(val))\n    } else {\n      for (const fskey in parsedFont[fkey]) {\n        const fval = parsedFont[fkey][fskey]\n        if (typeof fval === 'string') {\n          // no need to add its a theme reference like \"$borderColor\"\n        } else {\n          const val = parsedFont[fkey][fskey] as Variable\n          registerCSSVariable(val)\n          response.push(variableToCSS(val))\n        }\n      }\n    }\n  }\n  return response\n}\n", "import type { Variable } from './types'\n\ntype GenericTheme = { [key: string]: string | Variable }\n\n/**\n * @deprecated no need to use this anymore, can just remove the call and use plain objects\n */\nexport const createTheme = <Theme extends GenericTheme>(theme: Theme): Theme => {\n  return theme\n}\n", "import { createVariables } from './createVariables'\nimport type { CreateTokens, Variable } from './types'\n\nexport function createTokens<T extends CreateTokens>(tokens: T): MakeTokens<T> {\n  return createVariables(tokens, process.env.TAMAGUI_TOKEN_PREFIX ?? 't') as any\n}\n\ntype NormalizeTokens<A, Type = A[keyof A]> = {\n  [Key in keyof A extends number ? `${keyof A}` : keyof A]: Variable<Type>\n}\n\ntype MakeTokens<T extends CreateTokens> = T extends {\n  color?: infer E\n  space?: infer F\n  size?: infer G\n  radius?: infer H\n  zIndex?: infer J\n}\n  ? {\n      color: NormalizeTokens<E, string>\n      space: NormalizeTokens<F, number>\n      size: NormalizeTokens<G, number>\n      radius: NormalizeTokens<H, number>\n      zIndex: NormalizeTokens<J, number>\n    } & Omit<\n      {\n        [key in keyof T]: NormalizeTokens<T[key]>\n      },\n      'color' | 'space' | 'size' | 'radius' | 'zIndex'\n    >\n  : never\n", "import type { StaticConfig } from './types'\n\nconst ReactNativeStaticConfigs = new WeakMap<any, Partial<StaticConfig> | null>()\n\nexport function getReactNativeConfig(Component: any) {\n  if (!Component) return\n\n  if (process.env.TAMAGUI_TARGET === 'native') {\n    if (Component.propTypes?.onTextInput || Component.propTypes?.onChangeText) {\n      return RNConfigs.TextInput\n    }\n    if (Component.getSizeWithHeaders) {\n      return RNConfigs.Image\n    }\n    if (Component.propTypes?.textBreakStrategy) {\n      return RNConfigs.Text\n    }\n\n    // can optimize plain View or Text to not be react native specific\n\n    // can assume everything else is react native on native\n    return RNConfigs.default\n  }\n  if (Component.getSize && Component.prefetch) {\n    return RNConfigs.Image\n  }\n  if (Component.displayName === 'Text' && Component.render) {\n    return RNConfigs.Text\n  }\n  if (\n    Component.render &&\n    (Component.displayName === 'ScrollView' || Component.displayName === 'View')\n  ) {\n    return RNConfigs.default\n  }\n  if (Component.State?.blurTextInput) {\n    return RNConfigs.TextInput\n  }\n\n  return ReactNativeStaticConfigs.get(Component)\n}\n\nconst RNConfigs = {\n  Image: {\n    isReactNative: true,\n    inlineProps: new Set(['src', 'width', 'height']),\n  },\n  Text: {\n    isReactNative: true,\n    isText: true,\n  },\n  TextInput: {\n    isReactNative: true,\n    isInput: true,\n    isText: true,\n  },\n  default: {\n    isReactNative: true,\n  },\n} satisfies Record<string, Partial<StaticConfig>>\n\n/**\n * @deprecated this is no longer necessary, tamagui auto-detects RN views\n */\nexport function setupReactNative(rnExports: Record<string, any>) {\n  // no-op\n  // for (const key in rnExports) {\n  //   if (key[0].toLowerCase() === key[0]) continue\n  //   const val = rnExports[key]\n  //   if (val && typeof val === 'object') {\n  //     ReactNativeStaticConfigs.set(val, {\n  //       isReactNative: true,\n  //       isText: key === 'Text' || key === 'TextInput',\n  //       isInput: key === 'TextInput' || key === 'TextArea',\n  //       inlineProps: key === 'Image' ? new Set(['src', 'width', 'height']) : undefined,\n  //     })\n  //   }\n  // }\n}\n", "import type { GenericVariantDefinitions } from '../types'\n\n// deep merge variants\n// except for functions which override any parents\n\nexport const mergeVariants = (\n  parentVariants: GenericVariantDefinitions,\n  ourVariants: GenericVariantDefinitions,\n  level = 0\n) => {\n  const variants = {}\n\n  for (const key in ourVariants) {\n    const parentVariant = parentVariants?.[key]\n    const ourVariant = ourVariants[key]\n    if (!parentVariant || typeof ourVariant === 'function') {\n      variants[key] = ourVariant\n    } else if (parentVariant && !ourVariant) {\n      variants[key] = parentVariant[key]\n    } else {\n      if (level === 0) {\n        variants[key] = mergeVariants(\n          parentVariant as Record<string, any>,\n          ourVariant as Record<string, any>,\n          level + 1\n        )\n      } else {\n        variants[key] = {\n          ...parentVariant,\n          ...ourVariant,\n        }\n      }\n    }\n  }\n\n  return {\n    ...parentVariants,\n    ...variants,\n  }\n}\n", "import { createComponent } from './createComponent'\nimport { mergeVariants } from './helpers/mergeVariants'\nimport type { GetRef } from './interfaces/GetRef'\nimport { getReactNativeConfig } from './setupReactNative'\nimport type {\n  GetBaseStyles,\n  GetNonStyledProps,\n  GetStaticConfig,\n  GetStyledVariants,\n  GetVariantValues,\n  InferStyleProps,\n  InferStyledProps,\n  StaticConfig,\n  StaticConfigPublic,\n  StylableComponent,\n  StyledContext,\n  TamaDefer,\n  TamaguiComponent,\n  ThemeValueGet,\n  VariantDefinitions,\n  VariantSpreadFunction,\n} from './types'\nimport type { Text } from './views/Text'\n\ntype AreVariantsUndefined<Variants> =\n  // because we pass in the Generic variants which for some reason has this :)\n  Required<Variants> extends { _isEmpty: 1 } ? true : false\n\ntype GetVariantAcceptedValues<V> = V extends Object\n  ? {\n      [Key in keyof V]?: V[Key] extends VariantSpreadFunction<any, infer Val>\n        ? Val\n        : GetVariantValues<keyof V[Key]>\n    }\n  : undefined\n\nexport function styled<\n  ParentComponent extends StylableComponent,\n  StyledConfig extends StaticConfigPublic,\n  Variants extends VariantDefinitions<ParentComponent, StyledConfig>,\n>(\n  ComponentIn: ParentComponent,\n  // this should be Partial<GetProps<ParentComponent>> but causes excessively deep type issues\n  options?: Partial<InferStyledProps<ParentComponent, StyledConfig>> & {\n    name?: string\n    variants?: Variants | undefined\n    defaultVariants?: GetVariantAcceptedValues<Variants>\n    context?: StyledContext\n    /** @deprecated pass in instead as the third argument to styled() */\n    acceptsClassName?: boolean\n  },\n  config?: StyledConfig\n) {\n  // do type stuff at top for easier readability\n\n  // get parent props without pseudos and medias so we can rebuild both with new variants\n  // get parent props without pseudos and medias so we can rebuild both with new variants\n  type ParentNonStyledProps = GetNonStyledProps<ParentComponent>\n  type ParentStylesBase = GetBaseStyles<ParentComponent, StyledConfig>\n  type ParentVariants = GetStyledVariants<ParentComponent>\n\n  type OurVariantProps = AreVariantsUndefined<Variants> extends true\n    ? {}\n    : GetVariantAcceptedValues<Variants>\n  type MergedVariants = AreVariantsUndefined<Variants> extends true\n    ? ParentVariants\n    : AreVariantsUndefined<ParentVariants> extends true\n      ? Omit<OurVariantProps, '_isEmpty'>\n      : {\n          // exclude _isEmpty as it no longer is empty\n          [Key in Exclude<keyof ParentVariants | keyof OurVariantProps, '_isEmpty'>]?:\n            | (Key extends keyof ParentVariants ? ParentVariants[Key] : undefined)\n            | (Key extends keyof OurVariantProps ? OurVariantProps[Key] : undefined)\n        }\n\n  type Accepted = StyledConfig['accept']\n  type CustomTokenProps = Accepted extends Record<string, any>\n    ? {\n        [Key in keyof Accepted]?:\n          | (Key extends keyof ParentStylesBase ? ParentStylesBase[Key] : never)\n          | (Accepted[Key] extends 'style'\n              ? Partial<InferStyleProps<ParentComponent, StyledConfig>>\n              : Accepted[Key] extends 'textStyle'\n                ? Partial<InferStyleProps<typeof Text, StyledConfig>>\n                : Omit<ThemeValueGet<Accepted[Key]>, 'unset'>)\n      }\n    : {}\n\n  /**\n   * de-opting a bit of type niceness because were hitting depth issues too soon\n   * before we had:\n   *\n   * type OurPropsBase = OurStylesBase & PseudoProps<Partial<OurStylesBase>>\n   * and then below in type Props you would remove the PseudoProps line\n   * that would give you nicely merged pseudo sub-styles but its just too much for TS\n   * so now pseudos wont be nicely typed inside media queries, but at least we can nest\n   */\n\n  type StyledComponent = TamaguiComponent<\n    TamaDefer,\n    GetRef<ParentComponent>,\n    ParentNonStyledProps,\n    Accepted extends Record<string, any>\n      ? ParentStylesBase & CustomTokenProps\n      : ParentStylesBase,\n    MergedVariants,\n    GetStaticConfig<ParentComponent, StyledConfig>\n  >\n\n  // validate not using a variant over an existing valid style\n  if (process.env.NODE_ENV !== 'production') {\n    if (!ComponentIn) {\n      throw new Error(`No component given to styled()`)\n    }\n  }\n\n  const parentStaticConfig = ComponentIn['staticConfig'] as StaticConfig | undefined\n\n  const isPlainStyledComponent =\n    !!parentStaticConfig &&\n    !(parentStaticConfig.isReactNative || parentStaticConfig.isHOC)\n\n  const isNonStyledHOC = parentStaticConfig?.isHOC && !parentStaticConfig?.isStyledHOC\n\n  let Component: any =\n    isNonStyledHOC || isPlainStyledComponent\n      ? ComponentIn\n      : parentStaticConfig?.Component || ComponentIn\n\n  const reactNativeConfig = !parentStaticConfig\n    ? getReactNativeConfig(Component)\n    : undefined\n\n  const isReactNative = Boolean(\n    reactNativeConfig || config?.isReactNative || parentStaticConfig?.isReactNative\n  )\n\n  const staticConfigProps = (() => {\n    let {\n      variants,\n      name,\n      defaultVariants,\n      acceptsClassName: acceptsClassNameProp,\n      context,\n      ...defaultProps\n    } = options || {}\n\n    let parentDefaultVariants\n    let parentDefaultProps\n\n    if (parentStaticConfig) {\n      const avoid = parentStaticConfig.isHOC && !parentStaticConfig.isStyledHOC\n      if (!avoid) {\n        const pdp = parentStaticConfig.defaultProps\n\n        // apply parent props only if not already defined, they are lesser specificity\n        for (const key in pdp) {\n          const val = pdp[key]\n          if (parentStaticConfig.defaultVariants) {\n            if (key in parentStaticConfig.defaultVariants) {\n              // ensure we don't add it if its also in our default variants so we keep the order!\n              if (!defaultVariants || !(key in defaultVariants)) {\n                parentDefaultVariants ||= {}\n                parentDefaultVariants[key] = val\n              }\n            }\n          }\n          if (!(key in defaultProps) && (!defaultVariants || !(key in defaultVariants))) {\n            parentDefaultProps ||= {}\n            parentDefaultProps[key] = pdp[key]\n          }\n        }\n        if (parentStaticConfig.variants) {\n          // @ts-expect-error\n          variants = mergeVariants(parentStaticConfig.variants, variants)\n        }\n      }\n    }\n\n    // applies everything in the right order! order is important\n    if (parentDefaultProps || defaultVariants || parentDefaultVariants) {\n      defaultProps = {\n        ...parentDefaultProps,\n        ...parentDefaultVariants,\n        ...defaultProps,\n        ...defaultVariants,\n      }\n    }\n\n    if (parentStaticConfig?.isHOC) {\n      // if HOC we map name => componentName as we have a difference in how we name prop vs styled() there\n      if (name) {\n        // @ts-ignore\n        defaultProps.componentName = name\n      }\n    }\n\n    const isText = Boolean(config?.isText || parentStaticConfig?.isText)\n\n    const acceptsClassName =\n      config?.acceptsClassName ??\n      acceptsClassNameProp ??\n      (isPlainStyledComponent ||\n        isReactNative ||\n        (parentStaticConfig?.isHOC && parentStaticConfig?.acceptsClassName))\n\n    const conf: Partial<StaticConfig> = {\n      ...parentStaticConfig,\n      ...config,\n      ...(!isPlainStyledComponent && {\n        Component,\n      }),\n      // @ts-expect-error\n      variants,\n      defaultProps,\n      defaultVariants,\n      componentName: name || parentStaticConfig?.componentName,\n      isReactNative,\n      isText,\n      acceptsClassName,\n      context,\n      ...reactNativeConfig,\n      isStyledHOC: Boolean(parentStaticConfig?.isHOC),\n      parentStaticConfig,\n    }\n\n    // bail on non className views as well\n    if (defaultProps['children'] || !acceptsClassName || context) {\n      conf.neverFlatten = true\n    }\n\n    return conf\n  })()\n\n  const component = createComponent(staticConfigProps || {})\n\n  for (const key in ComponentIn) {\n    // dont inherit propTypes\n    if (key === 'propTypes') continue\n    if (key in component) continue\n    // @ts-expect-error assigning static properties over\n    component[key] = ComponentIn[key]\n  }\n\n  return component as any as StyledComponent\n}\n\n// sanity check types:\n\n// type YP = GetProps<typeof InputFrame>\n// type x = YP['onChangeText']\n// type x2 = YP['size']\n// const X = <InputFrame placeholder=\"red\" hoverStyle={{}} />\n\n// import { Stack } from './views/Stack'\n// const X = styled(Stack, {\n//   variants: {\n//     size: {\n//       '...size': (val) => {\n//         return {\n//           pointerEvents: 'auto'\n//         }\n//       }\n//     },\n//     disabled: {\n//       true: {\n//         alignContent: 'center',\n//         opacity: 0.5,\n//         pointerEvents: 'none',\n//       },\n//     },\n//   } as const\n// })\n\n// const TestStyleable = X.styleable<{ abc: 123 }>((props) => {\n//   return null\n// })\n\n// // type variants = GetStyledVariants<typeof X>\n// const y = <X disabled size=\"$10\" />\n\n// sanity check more complex types:\n\n// import { Paragraph } from '../../text/src/Paragraph'\n// import { Text } from './views/Text'\n// import { getFontSized } from '../../get-font-sized/src'\n// import { SizableText } from '../../text/src/SizableText'\n// const Text1 = styled(Text, {\n//   name: 'SizableText',\n//   fontFamily: '$body',\n\n//   variants: {\n//     size: getFontSized,\n//   } as const,\n\n//   defaultVariants: {\n//     size: '$true',\n//   },\n// })\n\n// const Test2 = styled(Text1, {\n//   tag: 'p',\n//   userSelect: 'auto',\n//   color: '$color',\n// })\n\n// const Test3 = styled(Test2, {\n//   tag: 'p',\n//   userSelect: 'auto',\n//   color: '$color',\n\n//   variants: {\n//     ork: {\n//       true: {}\n//     }\n//   }\n// })\n\n// const Test = styled(Paragraph, {\n//   tag: 'p',\n//   userSelect: 'auto',\n//   color: '$color',\n\n//   variants: {\n//     someting: {\n//       true: {},\n//     },\n//   } as const,\n// })\n\n// type X = typeof Paragraph\n// type Props1 = GetProps<typeof Paragraph>\n// type z = typeof Text1\n// type ParentV = GetVariantProps<typeof Text1>\n// type Props = GetProps<typeof Test>\n\n// const y = <Test someting>sadad</Test>\n// const z = <Test3 someting=\"$true\" ork>sadad</Test3>\n\n//\n// merges variant types properly:\n\n// const OneVariant = styled(Stack, {\n//   variants: {\n//     variant: {\n//       test: { backgroundColor: 'gray' },\n//     },\n//   } as const,\n// })\n// const Second = styled(Stack, {\n//   variants: {\n//     variant: {\n//       simple: { backgroundColor: 'gray' },\n//       colorful: { backgroundColor: 'violet' },\n//     },\n//   } as const,\n// })\n// const TwoVariant = styled(OneVariant, {\n//   variants: {\n//     variant: {\n//       simple: { backgroundColor: 'gray' },\n//       colorful: { backgroundColor: 'violet' },\n//     },\n//   } as const,\n// })\n\n// type X = typeof OneVariant extends TamaguiComponent<any, any, any, infer V> ? V : any\n// type V = typeof Second extends TamaguiComponent<any, any, any, infer V> ? V : any\n\n// type V2 = VariantDefinitions<typeof OneVariant>\n\n// type R = typeof TwoVariant extends TamaguiComponent<any, any, any, infer V> ? V : any\n\n// type Keys = keyof X | keyof V\n// type Z = {\n//   [Key in Keys]: V[Key] | X[Key]\n// }\n\n// const a: Z = {\n//   variant: 'colorful',\n// }\n// const b: Z = {\n//   variant: 'simple',\n// }\n// const c: Z = {\n//   variant: 'invalid',\n// }\n\n// const y = <TwoVariant variant=\"colorful\" />\n", "import { isTouchable, isWeb } from '@tamagui/constants'\nimport { useDidFinishSSR } from '@tamagui/use-did-finish-ssr'\n\nexport const useIsTouchDevice = () => {\n  return !isWeb ? true : useDidFinishSSR() ? isTouchable : false\n}\n", "import { useIsomorphicLayoutEffect } from '@tamagui/constants'\nimport React from 'react'\nimport { getConfig } from '../config'\nimport { ComponentContext } from '../contexts/ComponentContext'\nimport { GroupContext } from '../contexts/GroupContext'\nimport { useSplitStyles } from '../helpers/getSplitStyles'\nimport { subscribeToContextGroup } from '../helpers/subscribeToContextGroup'\nimport type { SplitStyleProps, StaticConfig, ThemeParsed, UseMediaState } from '../types'\nimport { Stack } from '../views/Stack'\nimport type { ViewProps, ViewStyle } from '../views/View'\nimport { useComponentState } from './useComponentState'\nimport { mediaState, useMedia } from './useMedia'\nimport { useThemeWithState } from './useTheme'\n\ntype UsePropsOptions = Pick<\n  SplitStyleProps,\n  'noExpand' | 'noNormalize' | 'noClass' | 'resolveValues'\n> & {\n  disableExpandShorthands?: boolean\n  forComponent?: { staticConfig: StaticConfig }\n  noClass?: boolean\n\n  /**\n   * Disable watching for media queries\n   */\n  noMedia?: boolean\n}\n\nexport type PropsWithoutMediaStyles<A> = {\n  // remove all media\n  [Key in keyof A as Key extends `$${string}` ? never : Key]?: A[Key]\n}\n\ntype PropsLikeObject = (ViewProps & Record<string, any>) | Object\ntype StyleLikeObject = (ViewStyle & Record<string, any>) | Object\n\n/**\n * Returns props and style as a single object, expanding and merging shorthands and media queries.\n *\n * Use sparingly, it will loop props and trigger re-render on all media queries you access.\n *\n * */\nexport function useProps<A extends PropsLikeObject>(\n  props: A,\n  opts?: UsePropsOptions\n): PropsWithoutMediaStyles<A> {\n  const [propsOut, styleOut] = usePropsAndStyle(props, {\n    ...opts,\n    noExpand: true,\n    noNormalize: true,\n    resolveValues: 'none',\n  })\n  return {\n    ...propsOut,\n    ...styleOut,\n  }\n}\n\n/**\n * Returns only style values fully resolved and flattened with merged media queries and shorthands with all theme and token values resolved.\n *\n * Use sparingly, it will loop props and trigger re-render on all media queries you access.\n *\n * */\nexport function useStyle<A extends StyleLikeObject>(\n  props: A,\n  opts?: UsePropsOptions\n): PropsWithoutMediaStyles<A> {\n  return usePropsAndStyle(props, opts)[1] || {}\n}\n\n/**\n * Returns [props, styles, theme, media] fully resolved and flattened with merged media queries and shorthands with all theme and token values resolved.\n *\n * Use sparingly, it will loop props and trigger re-render on all media queries you access.\n *\n * */\nexport function usePropsAndStyle<A extends PropsLikeObject>(\n  props: A,\n  opts?: UsePropsOptions\n): [PropsWithoutMediaStyles<A>, PropsWithoutMediaStyles<A>, ThemeParsed, UseMediaState] {\n  const staticConfig = opts?.forComponent?.staticConfig ?? Stack.staticConfig\n  const [theme, themeState] = useThemeWithState({\n    componentName: staticConfig.componentName,\n    name: 'theme' in props ? props.theme : undefined,\n    inverse: 'themeInverse' in props ? props.themeInverse : undefined,\n    needsUpdate() {\n      return true\n    },\n  })\n  const componentContext = React.useContext(ComponentContext)\n  const groupContext = React.useContext(GroupContext)\n  const { state, disabled, setStateShallow } = useComponentState(\n    props,\n    componentContext.animationDriver,\n    staticConfig,\n    getConfig()\n  )\n\n  const mediaStateNow = opts?.noMedia\n    ? // not safe to use mediaState but really marginal to hit this\n      mediaState\n    : useMedia()\n\n  const splitStyles = useSplitStyles(\n    props,\n    staticConfig,\n    theme,\n    themeState?.name || '',\n    state,\n    {\n      isAnimated: false,\n      mediaState: mediaStateNow,\n      noSkip: true,\n      noMergeStyle: true,\n      noClass: true,\n      resolveValues: 'auto',\n      ...opts,\n    },\n    null,\n    componentContext,\n    groupContext\n  )\n\n  const { mediaGroups, pseudoGroups } = splitStyles || {}\n\n  useIsomorphicLayoutEffect(() => {\n    if (disabled) {\n      return\n    }\n\n    if (state.unmounted) {\n      setStateShallow({ unmounted: false })\n      return\n    }\n\n    if (groupContext) {\n      return subscribeToContextGroup({\n        groupContext,\n        setStateShallow,\n        mediaGroups,\n        pseudoGroups,\n      })\n    }\n  }, [\n    disabled,\n    groupContext,\n    pseudoGroups ? Object.keys([...pseudoGroups]).join('') : 0,\n    mediaGroups ? Object.keys([...mediaGroups]).join('') : 0,\n  ])\n\n  return [\n    splitStyles?.viewProps || {},\n    splitStyles?.style || {},\n    theme,\n    mediaState,\n  ] as any\n}\n", "import { validStyles } from '@tamagui/helpers'\n\nimport { stackDefaultStyles } from '../constants/constants'\nimport { createComponent } from '../createComponent'\nimport type {\n  StackNonStyleProps,\n  StackProps,\n  StackStyleBase,\n  TamaguiElement,\n} from '../types'\n\nexport type Stack = TamaguiElement\n\nexport const Stack = createComponent<\n  StackProps,\n  Stack,\n  StackNonStyleProps,\n  StackStyleBase\n>({\n  acceptsClassName: true,\n  defaultProps: stackDefaultStyles,\n  validStyles,\n})\n\nStack['displayName'] = 'Stack'\n\n// test types\n// export const YStack = styled(Stack, {\n//   flexDirection: 'column',\n// })\n// // test types\n// const x00 = <Stack missing={0} /> // should err\n// const x0 = <YStack missing={0} /> // should err\n// const x1 = (props: StackProps) => <YStack {...props} />\n// type ys = typeof YStack\n// type ysv = ys extends StaticComponent<any, infer V> ? V : unknown\n", "import type { ThemeName } from '../types'\nimport { useThemeState } from './useThemeState'\n\n// can probably simplify this way down\nconst forceUpdateState = { forceClassName: true, deopt: true, needsUpdate: () => true }\nconst forceKeys = { current: new Set(['']) }\n\nexport function useThemeName(): ThemeName {\n  return useThemeState(forceUpdateState, false, forceKeys)?.name || ''\n}\n", "import { ClientOnly } from '@tamagui/use-did-finish-ssr'\nimport React from 'react'\nimport { ComponentContext } from '../contexts/ComponentContext'\nimport type { AnimationDriver } from '../types'\n\ninterface ConfigurationProps {\n  animationDriver?: AnimationDriver | null\n  disableSSR?: boolean\n  children: React.ReactNode\n}\n\nexport const Configuration = (props: ConfigurationProps) => {\n  const current = React.useContext(ComponentContext)\n\n  return (\n    <ClientOnly enabled={props.disableSSR ?? current.disableSSR}>\n      <ComponentContext.Provider {...current} {...props} />\n    </ClientOnly>\n  )\n}\n", "import type { FontLanguageProps } from '../types'\n\nexport const FontLanguage = ({ children, ...props }: FontLanguageProps) => {\n  return (\n    <div\n      style={{\n        display: 'contents',\n      }}\n      className={Object.entries(props)\n        .map(([name, language]) => `t_lang-${name}-${language}`)\n        .join(' ')}\n    >\n      {children}\n    </div>\n  )\n}\n\nFontLanguage['displayName'] = 'FontLanguage'\n", "import { useIsomorphicLayoutEffect } from '@tamagui/constants'\nimport * as React from 'react'\n\n// keeps a reference to the current value easily\n\nexport function useGet<A>(\n  currentValue: A,\n  initialValue?: any,\n  forwardToFunction?: boolean\n): () => A {\n  const curRef = React.useRef<any>(initialValue ?? currentValue)\n  useIsomorphicLayoutEffect(() => {\n    curRef.current = currentValue\n  })\n\n  return React.useCallback(\n    forwardToFunction\n      ? (...args) => curRef.current?.apply(null, args)\n      : () => curRef.current,\n    []\n  )\n}\n", "import { useGet } from './useGet'\n\ntype AnyFunction = (...args: any[]) => any\n\nexport function useEvent<T extends AnyFunction>(callback?: T): T {\n  return useGet(callback, defaultValue, true) as T\n}\n\nconst defaultValue = () => {\n  throw new Error('Cannot call an event handler while rendering.')\n}\n", "import React from 'react'\nimport { useMedia } from './hooks/useMedia'\nimport { useTheme } from './hooks/useTheme'\n\n/** internal: this is for tamagui babel plugin usage only */\n\nexport const _withStableStyle = (\n  Component: any,\n  styleProvider: (theme: any, expressions: any[]) => Object\n) =>\n  React.forwardRef((props: any, ref) => {\n    const { _expressions = [], ...rest } = props\n    const theme = useTheme()\n\n    // Only call useMedia if there are string media keys to resolve\n    // This is safe because expressions are compile-time stable\n    const hasMediaKeys = _expressions.some((expr: any) => typeof expr === 'string')\n    const media = hasMediaKeys ? useMedia() : null\n\n    const resolvedExpressions = media\n      ? _expressions.map((expr: any) => (typeof expr === 'string' ? media[expr] : expr))\n      : _expressions\n\n    return (\n      <Component ref={ref} style={styleProvider(theme, resolvedExpressions)} {...rest} />\n    )\n  })\n", "import { getConfig } from '../config'\nimport type { Shorthands } from '../types'\n\n/**\n * @deprecated use useProps instead\n */\nexport function getExpandedShorthands<A extends Object>(\n  props: A\n): Omit<A, keyof Shorthands> {\n  const shorthands = getConfig().shorthands\n  if (!shorthands) return props\n  const res = {} as A\n  for (const key in props) {\n    // @ts-ignore\n    res[shorthands[key] || key] = props[key]\n  }\n  return res\n}\n\nexport function getExpandedShorthand(propKey: string, props: Object) {\n  const shorthands = getConfig().inverseShorthands\n  return props[propKey] ?? props[shorthands[propKey]]\n}\n", "import { getConfig } from '../config'\nimport type { GenericShorthands } from '../types'\n\nlet inverseShorthands: GenericShorthands | null = null\n\nexport const getShorthandValue = (props: Record<string, any>, key: string) => {\n  inverseShorthands ||= getConfig().inverseShorthands\n  return props[key] ?? (inverseShorthands ? props[inverseShorthands[key]] : undefined)\n}\n", "import { simpleHash } from '@tamagui/helpers'\nimport { getSetting } from '../config'\nimport { THEME_CLASSNAME_PREFIX } from '../constants/constants'\nimport { variableToString } from '../createVariable'\nimport type { CreateTamaguiProps, ThemeParsed, Variable } from '../types'\nimport { tokensValueToVariable } from './registerCSSVariable'\nimport { sortString } from './sortString'\n\nconst darkLight = ['dark', 'light']\nconst lightDark = ['light', 'dark']\n\nexport function getThemeCSSRules(props: {\n  config: CreateTamaguiProps\n  themeName: string\n  theme: ThemeParsed\n  names: string[]\n  hasDarkLight?: boolean\n}) {\n  const cssRuleSets: string[] = []\n\n  if (process.env.TAMAGUI_TARGET === 'native') {\n    return cssRuleSets\n  }\n  if (\n    !process.env.TAMAGUI_DOES_SSR_CSS ||\n    process.env.TAMAGUI_DOES_SSR_CSS === 'mutates-themes' ||\n    process.env.TAMAGUI_DOES_SSR_CSS === 'false'\n  ) {\n    const { config, themeName, theme, names } = props\n\n    // special case for SSR\n    const hasDarkLight =\n      props.hasDarkLight ??\n      (config.themes && ('light' in config.themes || 'dark' in config.themes))\n\n    const CNP = `.${THEME_CLASSNAME_PREFIX}`\n    let vars = ''\n\n    // themeToVariableToValueMap.set(theme, {})\n    // const varToValMap = themeToVariableToValueMap.get(theme)\n    for (const themeKey in theme) {\n      const variable = theme[themeKey] as Variable\n      let value: any = null\n\n      if (!tokensValueToVariable.has(variable.val)) {\n        value = variable.val\n      } else {\n        value = tokensValueToVariable.get(variable.val)!.variable\n      }\n      // Hash themeKey in case it has invalid chars too\n      vars += `--${process.env.TAMAGUI_CSS_VARIABLE_PREFIX || ''}${simpleHash(\n        themeKey,\n        40\n      )}:${value};`\n    }\n\n    const isDarkBase = themeName === 'dark'\n    const isLightBase = themeName === 'light'\n    const baseSelectors = names.map((name) => `${CNP}${name}`)\n    const selectorsSet = new Set(isDarkBase || isLightBase ? baseSelectors : [])\n\n    // since we dont specify dark/light in classnames we have to do an awkward specificity war\n    // use config.maxDarkLightNesting to determine how deep you can nest until it breaks\n    if (hasDarkLight) {\n      const maxDepth = getSetting('maxDarkLightNesting') ?? 3\n\n      for (const subName of names) {\n        const isDark = isDarkBase || subName.startsWith('dark_')\n        const isLight = !isDark && (isLightBase || subName.startsWith('light_'))\n\n        if (!(isDark || isLight)) {\n          // neither light nor dark subtheme, just generate one selector with :root:root which\n          // will override all :root light/dark selectors generated below\n          selectorsSet.add(`${CNP}${subName}`)\n          continue\n        }\n\n        const childSelector = `${CNP}${subName.replace(/^(dark|light)_/, '')}`\n        const order = isDark ? darkLight : lightDark\n        const [stronger, weaker] = order\n        const numSelectors = Math.round(maxDepth * 1.5)\n\n        for (let depth = 0; depth < numSelectors; depth++) {\n          const isOdd = depth % 2 === 1\n\n          // wtf is this continue:\n          if (isOdd && depth < 3) {\n            continue\n          }\n\n          const parents = new Array(depth + 1).fill(0).map((_, idx) => {\n            return `${CNP}${idx % 2 === 0 ? stronger : weaker}`\n          })\n\n          let parentSelectors = parents.length > 1 ? parents.slice(1) : parents\n\n          if (isOdd) {\n            const [_first, second, ...rest] = parentSelectors\n            parentSelectors = [second, ...rest, second]\n          }\n\n          const lastParentSelector = parentSelectors[parentSelectors.length - 1]\n          const nextChildSelector =\n            childSelector === lastParentSelector ? '' : childSelector\n\n          // for light/dark/light:\n          const parentSelectorString = parentSelectors.join(' ')\n          selectorsSet.add(`${parentSelectorString} ${nextChildSelector}`)\n          // selectorsSet.add(\n          //   `${parentSelectors.join(' ')} ${nextChildSelector}.is_inversed`.trim()\n          // )\n        }\n      }\n    }\n\n    const selectors = [...selectorsSet].sort(sortString)\n\n    // only do our :root attach if it's not light/dark - not support sub themes on root saves a lot of effort/size\n    // this isBaseTheme logic could probably be done more efficiently above\n    const selectorsString =\n      selectors\n        .map((x) => {\n          const rootSep = isBaseTheme(x) && getSetting('themeClassNameOnRoot') ? '' : ' '\n          return `:root${rootSep}${x}`\n        })\n        .join(', ') + `, .tm_xxt`\n\n    const css = `${selectorsString} {${vars}}`\n    cssRuleSets.push(css)\n\n    if (getSetting('shouldAddPrefersColorThemes')) {\n      const bgString = theme.background\n        ? `background:${variableToString(theme.background)};`\n        : ''\n      const fgString = theme.color ? `color:${variableToString(theme.color)}` : ''\n      const bodyRules = `body{${bgString}${fgString}}`\n      const isDark = themeName.startsWith('dark')\n      const baseName = isDark ? 'dark' : 'light'\n      const lessSpecificSelectors = selectors\n        .map((x) => {\n          if (x == darkSelector || x === lightSelector) return `:root`\n          if (\n            (isDark && x.startsWith(lightSelector)) ||\n            (!isDark && x.startsWith(darkSelector))\n          ) {\n            return\n          }\n          return x.replace(/^\\.t_(dark|light) /, '').trim()\n        })\n        .filter(Boolean)\n        .join(', ')\n\n      const themeRules = `${lessSpecificSelectors} {${vars}}`\n      const prefersMediaSelectors = `@media(prefers-color-scheme:${baseName}){\n    ${bodyRules}\n    ${themeRules}\n  }`\n      cssRuleSets.push(prefersMediaSelectors)\n    }\n\n    const selectionStyles = getSetting('selectionStyles')\n    if (selectionStyles) {\n      const rules = selectionStyles(theme as any)\n      if (rules) {\n        const selectionSelectors = baseSelectors.map((s) => `${s} ::selection`).join(', ')\n        const styles = Object.entries(rules)\n          .flatMap(([k, v]) =>\n            v\n              ? `${k === 'backgroundColor' ? 'background' : k}:${variableToString(v)}`\n              : []\n          )\n          .join(';')\n        if (styles) {\n          const css = `${selectionSelectors}{${styles}}`\n          cssRuleSets.push(css)\n        }\n      }\n    }\n  }\n\n  return cssRuleSets\n}\n\nconst darkSelector = '.t_dark'\nconst lightSelector = '.t_light'\nconst isBaseTheme = (x: string) =>\n  x === darkSelector ||\n  x === lightSelector ||\n  x.startsWith('.t_dark ') ||\n  x.startsWith('.t_light ')\n", "import type { DedupedThemes, ThemeParsed } from '../types'\n\nconst themesRaw: Record<string, ThemeParsed> = {}\n\n// this seems expensive but its necessary to do two loops unless we want to refactor a variety of things again\n// not *too* much work but not a big cost doing the two loops\nexport function proxyThemesToParents(\n  dedupedThemes: DedupedThemes\n): Record<string, ThemeParsed> {\n  // fill it in so we can look it up next\n  for (const { names, theme } of dedupedThemes) {\n    for (const name of names) {\n      themesRaw[name] = theme\n    }\n  }\n\n  const themes: Record<string, ThemeParsed> = {}\n  // now go back and re-fill it in\n  // we do have to call this once per non-duplicated theme!\n  // because they could have different parent chains\n  // despite being the same theme\n\n  for (const { names, theme } of dedupedThemes) {\n    for (const themeName of names) {\n      const proxiedTheme = proxyThemeToParents(themeName, theme)\n      themes[themeName] = proxiedTheme\n    }\n  }\n\n  return themes\n}\n\nexport function proxyThemeToParents(themeName: string, theme: ThemeParsed) {\n  const out = {}\n  const cur: string[] = []\n\n  // if theme is dark_blue_alt1_Button\n  // this will be the parent names in order: ['dark', 'dark_blue', 'dark_blue_alt1\"]\n  const parents = themeName\n    .split('_')\n    .slice(0, -1)\n    .map((part) => {\n      cur.push(part)\n      return cur.join('_')\n    })\n\n  for (const parent of parents) {\n    Object.assign(out, themesRaw[parent])\n  }\n  Object.assign(out, theme)\n  return out\n}\n", "import { createVariable, isVariable } from '../createVariable'\n\n// mutates, freeze after\n// shared by createTamagui so extracted here\nexport function ensureThemeVariable(theme: any, key: string) {\n  const val = theme[key]\n  if (!isVariable(val)) {\n    theme[key] = createVariable({\n      key,\n      name: key,\n      val,\n    })\n  } else {\n    if (val.name !== key) {\n      // rename to theme name\n      theme[key] = createVariable({\n        key: val.name,\n        name: key,\n        val: val.val,\n      })\n    }\n  }\n}\n", "import type { AnimationDriver } from '../types'\n\nconst noAnimationDriver = (method: string): any => {\n  console.warn(\n    `No animation driver configured. To use ${method}, you must pass \\`animations\\` to createTamagui. See: https://tamagui.dev/docs/core/animations`\n  )\n}\n\nconst createEmptyAnimationDriver = (): AnimationDriver => ({\n  isReactNative: false,\n  supportsCSS: true,\n  classNameAnimation: true,\n  isStub: true,\n  animations: {},\n  useAnimations: () => noAnimationDriver('animations'),\n  usePresence: () => noAnimationDriver('usePresence'),\n  ResetPresence: () => noAnimationDriver('ResetPresence'),\n  useAnimatedNumber: () => noAnimationDriver('useAnimatedNumber'),\n  useAnimatedNumberStyle: () => noAnimationDriver('useAnimatedNumberStyle'),\n  useAnimatedNumberReaction: () => noAnimationDriver('useAnimatedNumberReaction'),\n})\n\nexport const defaultAnimationDriver = createEmptyAnimationDriver()\n", "import * as Helpers from '@tamagui/helpers'\n\nimport { getConfig } from './config'\nimport { getAllRules, getAllSelectors } from './helpers/insertStyleRule'\nimport { mediaState } from './hooks/useMedia'\n\n// easy introspection\n// only included in dev mode\n\nexport const Tamagui = (() => {\n  if (process.env.NODE_ENV === 'development') {\n    class TamaguiManager {\n      Helpers = Helpers\n\n      get mediaState() {\n        return { ...mediaState }\n      }\n\n      get config() {\n        return getConfig()\n      }\n\n      get insertedRules() {\n        return getAllRules()\n      }\n\n      get allSelectors() {\n        return getAllSelectors()\n      }\n\n      get identifierToValue() {\n        return identifierToValue\n      }\n    }\n    return new TamaguiManager()\n  }\n})()\n\nconst identifierToValue = new Map<string, any>()\n\nexport const getValueFromIdentifier = (identifier: string) => {\n  return identifierToValue.get(identifier)\n}\n\nexport const setIdentifierValue = (identifier: string, value: any) => {\n  identifierToValue.set(identifier, value)\n}\n", "import { isWeb } from '@tamagui/constants'\nimport { configListeners, getConfigMaybe, setConfig, setTokens } from './config'\nimport type { DeepVariableObject } from './createVariables'\nimport { createVariables } from './createVariables'\nimport { defaultAnimationDriver } from './helpers/defaultAnimationDriver'\nimport { getThemeCSSRules } from './helpers/getThemeCSSRules'\nimport { getAllRules, scanAllSheets } from './helpers/insertStyleRule'\nimport { proxyThemesToParents } from './helpers/proxyThemeToParents'\nimport { registerCSSVariable, variableToCSS } from './helpers/registerCSSVariable'\nimport { ensureThemeVariable } from './helpers/themes'\nimport { configureMedia } from './hooks/useMedia'\nimport { parseFont, registerFontVariables } from './insertFont'\nimport { Tamagui } from './Tamagui'\nimport type {\n  CreateTamaguiProps,\n  DedupedTheme,\n  DedupedThemes,\n  GenericFont,\n  GetCSS,\n  InferTamaguiConfig,\n  TamaguiInternalConfig,\n  ThemeParsed,\n  ThemesLikeObject,\n  TokensMerged,\n  TokensParsed,\n  Variable,\n} from './types'\n\n/**\n * Determines if a token category should have px units added.\n * Following the principle: only add px to predefined categories that need them.\n * Custom categories default to unitless.\n */\nfunction shouldTokenCategoryHaveUnits(category: string): boolean {\n  // From TokenCategories type: 'color' | 'space' | 'size' | 'radius' | 'zIndex'\n  // These are the only predefined categories that should get px units\n  const UNIT_CATEGORIES = new Set(['size', 'space', 'radius'])\n\n  // Only add px to predefined dimensional categories\n  // Custom categories (like 'opacity', 'customWidth') default to unitless\n  return UNIT_CATEGORIES.has(category)\n}\n\nexport function createTamagui<Conf extends CreateTamaguiProps>(\n  configIn: Conf\n): InferTamaguiConfig<Conf> {\n  // if config already exists (e.g., from another copy of tamagui in vite ssr), reuse it\n  const existingConfig = getConfigMaybe()\n\n  if (existingConfig) {\n    // merge it and re-run since this new instance may add config\n    // or maybe a test case\n    configIn = { ...existingConfig, ...configIn }\n  }\n\n  // ensure variables\n  const tokensParsed: TokensParsed = {} as any\n  const tokens = createVariables(configIn.tokens || {})\n\n  if (configIn.tokens) {\n    // faster lookups\n    const tokensMerged: TokensMerged = {} as any\n    for (const cat in tokens) {\n      tokensParsed[cat] = {}\n      tokensMerged[cat] = {}\n      const tokenCat = tokens[cat]\n      for (const key in tokenCat) {\n        const val = tokenCat[key]\n        const prefixedKey = `$${key}`\n        tokensParsed[cat][prefixedKey] = val as any\n        tokensMerged[cat][prefixedKey] = val as any\n        tokensMerged[cat][key] = val as any\n      }\n    }\n    setTokens(tokensMerged)\n  }\n\n  let foundThemes: DedupedThemes | undefined\n  if (configIn.themes) {\n    const noThemes = Object.keys(configIn.themes).length === 0\n    if (noThemes) {\n      foundThemes = scanAllSheets(noThemes, tokensParsed)\n    }\n  }\n\n  let fontSizeTokens: Set<string> | null = null\n  let fontsParsed:\n    | {\n        [k: string]: DeepVariableObject<GenericFont<string>>\n      }\n    | undefined\n\n  if (configIn.fonts) {\n    const fontTokens = Object.fromEntries(\n      Object.entries(configIn.fonts).map(([k, v]) => {\n        return [k, createVariables(v, 'f', true)]\n      })\n    )\n\n    fontsParsed = (() => {\n      const res = {} as typeof fontTokens\n      for (const familyName in fontTokens) {\n        const font = fontTokens[familyName]\n        const fontParsed = parseFont(font)\n        res[`$${familyName}`] = fontParsed\n        if (!fontSizeTokens && fontParsed.size) {\n          fontSizeTokens = new Set(Object.keys(fontParsed.size))\n        }\n      }\n      return res!\n    })()\n  }\n\n  const specificTokens = {}\n\n  const themeConfig = (() => {\n    const cssRuleSets: string[] = []\n\n    const declarations: string[] = []\n    const fontDeclarations: Record<\n      string,\n      { name: string; declarations: string[]; language?: string }\n    > = {}\n\n    // Sort token categories for deterministic CSS output order\n    const sortedTokenKeys = Object.keys(tokens).sort()\n    for (const key of sortedTokenKeys) {\n      // Sort token keys within each category for deterministic order\n      const sortedSubKeys = Object.keys(tokens[key]).sort()\n      for (const skey of sortedSubKeys) {\n        const variable = tokens[key][skey] as any as Variable\n\n        // set specific tokens (like $size.sm)\n        specificTokens[`$${key}.${skey}`] = variable\n\n        if (process.env.NODE_ENV === 'development') {\n          if (typeof variable === 'undefined') {\n            throw new Error(\n              `No value for tokens.${key}.${skey}:\\n${JSON.stringify(variable, null, 2)}`\n            )\n          }\n        }\n\n        if (isWeb) {\n          registerCSSVariable(variable)\n          // Check if this specific variable needs px units\n          const variableNeedsPx = variable.needsPx === true\n          const categoryNeedsPx = shouldTokenCategoryHaveUnits(key)\n          const shouldBeUnitless = !(variableNeedsPx || categoryNeedsPx)\n          declarations.push(variableToCSS(variable, shouldBeUnitless))\n        }\n      }\n    }\n\n    if (process.env.TAMAGUI_TARGET === 'web') {\n      // Sort font keys for deterministic CSS output order\n      const sortedFontKeys = fontsParsed ? Object.keys(fontsParsed).sort() : []\n      for (const key of sortedFontKeys) {\n        const fontParsed = fontsParsed![key]\n        const [name, language] = key.includes('_') ? key.split('_') : [key]\n        const fontVars = registerFontVariables(fontParsed)\n        fontDeclarations[key] = {\n          name: name.slice(1),\n          declarations: fontVars,\n          language,\n        }\n      }\n\n      const sep = configIn.cssStyleSeparator || ''\n      function declarationsToRuleSet(decs: string[], selector = '') {\n        return `:root${selector} {${sep}${[...decs].join(`;${sep}`)}${sep}}`\n      }\n\n      // non-font\n      cssRuleSets.push(declarationsToRuleSet(declarations))\n\n      // fonts - iterate in sorted order for deterministic CSS output\n      if (fontDeclarations) {\n        const sortedFontDeclarationKeys = Object.keys(fontDeclarations).sort()\n        for (const key of sortedFontDeclarationKeys) {\n          const { name, declarations, language = 'default' } = fontDeclarations[key]\n          const fontSelector = `.font_${name}`\n          const langSelector = `:root .t_lang-${name}-${language} ${fontSelector}`\n          const selectors =\n            language === 'default' ? ` ${fontSelector}, ${langSelector}` : langSelector\n          const specificRuleSet = declarationsToRuleSet(declarations, selectors)\n          cssRuleSets.push(specificRuleSet)\n        }\n      }\n    }\n\n    const themesIn = configIn.themes as ThemesLikeObject\n    const dedupedThemes = foundThemes ?? getThemesDeduped(themesIn, tokens.color)\n    const themes = proxyThemesToParents(dedupedThemes)\n\n    return {\n      themes,\n      cssRuleSets,\n      getThemeRulesSets() {\n        // then, generate CSS from de-duped\n        let themeRuleSets: string[] = []\n\n        if (isWeb) {\n          for (const { names, theme } of dedupedThemes) {\n            const nextRules = getThemeCSSRules({\n              config: configIn,\n              themeName: names[0],\n              names,\n              theme,\n            })\n\n            themeRuleSets = [...themeRuleSets, ...nextRules]\n          }\n        }\n\n        return themeRuleSets\n      },\n    }\n  })()\n\n  // Keep track of user-provided shorthands separately\n  const userShorthands = configIn.shorthands || {}\n\n  // Merge built-in shorthands with user shorthands (user takes precedence)\n  const shorthands = { ...builtinShorthands, ...userShorthands }\n\n  let lastCSSInsertedRulesIndex = -1\n\n  const getCSS: GetCSS = (opts = {}) => {\n    if (process.env.TAMAGUI_TARGET === 'web') {\n      const { separator = '\\n', sinceLastCall, exclude } = opts\n      if (sinceLastCall && lastCSSInsertedRulesIndex >= 0) {\n        // after first run with sinceLastCall\n        const rules = getAllRules()\n        lastCSSInsertedRulesIndex = rules.length\n        return rules.slice(lastCSSInsertedRulesIndex).join(separator)\n      }\n\n      // set so next time getNewCSS will trigger only new rules\n      lastCSSInsertedRulesIndex = 0\n\n      const runtimeStyles = getAllRules().join(separator)\n\n      if (exclude === 'design-system') {\n        return runtimeStyles\n      }\n\n      const designSystem = `._ovs-contain {overscroll-behavior:contain;}\n  .is_Text .is_Text {display:inline-flex;}\n  ._dsp_contents {display:contents;}\n  ._no_backdrop::backdrop {display: none;}\n  ${themeConfig.cssRuleSets.join(separator)}`\n\n      return `${designSystem}\n  ${exclude ? '' : themeConfig.getThemeRulesSets().join(separator)}\n  ${runtimeStyles}`\n    } else {\n      return ''\n    }\n  }\n\n  const getNewCSS: GetCSS = (opts) => getCSS({ ...opts, sinceLastCall: true })\n\n  const defaultFontSetting = configIn.settings?.defaultFont ?? configIn.defaultFont\n\n  const defaultFont = (() => {\n    let val = defaultFontSetting\n    if (val?.[0] === '$') {\n      val = val.slice(1)\n    }\n    return val\n  })()\n\n  // ensure prefixed with $\n  const defaultFontToken = defaultFont ? `$${defaultFont}` : ''\n\n  const unset = { ...configIn.unset }\n  if (!unset.fontFamily && defaultFont) {\n    unset.fontFamily = defaultFontToken\n  }\n\n  const config: TamaguiInternalConfig = {\n    fonts: {},\n    onlyAllowShorthands: false,\n    fontLanguages: [],\n    animations: defaultAnimationDriver,\n    media: {},\n    ...configIn,\n    unset,\n    settings: {\n      // move deprecated settings here so we can reference them all using `getSetting`\n      // TODO remove this on v2\n      disableSSR: configIn.disableSSR,\n      defaultFont: configIn.defaultFont,\n      disableRootThemeClass: configIn.disableRootThemeClass,\n      onlyAllowShorthands: configIn.onlyAllowShorthands,\n      mediaQueryDefaultActive: configIn.mediaQueryDefaultActive,\n      themeClassNameOnRoot: configIn.themeClassNameOnRoot,\n      cssStyleSeparator: configIn.cssStyleSeparator,\n\n      webContainerType: 'inline-size',\n      ...configIn.settings,\n    },\n    tokens: tokens as any,\n    // vite made this into a function if it wasn't set\n    shorthands,\n    userShorthands,\n    inverseShorthands: shorthands\n      ? Object.fromEntries(Object.entries(shorthands).map(([k, v]) => [v, k]))\n      : {},\n    themes: themeConfig.themes as any,\n    fontsParsed: fontsParsed || {},\n    themeConfig,\n    tokensParsed: tokensParsed as any,\n    parsed: true,\n    getNewCSS,\n    getCSS,\n    defaultFont,\n    fontSizeTokens: fontSizeTokens || new Set(),\n    specificTokens,\n    defaultFontToken,\n    // const tokens = [...getToken(tokens.size[0])]\n    // .spacer-sm + ._dsp_contents._dsp-sm-hidden { margin-left: -var(--${}) }\n  }\n\n  setConfig(config)\n  configureMedia(config)\n\n  if (configListeners.size) {\n    configListeners.forEach((cb) => cb(config))\n    configListeners.clear()\n  }\n\n  if (process.env.NODE_ENV === 'development') {\n    if (process.env.DEBUG?.startsWith('tamagui')) {\n      console.info('Tamagui config:', config)\n    }\n    if (!globalThis['Tamagui']) {\n      globalThis['Tamagui'] = Tamagui\n    }\n  }\n\n  return config as any\n}\n\n// dedupes the themes if given them via JS config\nfunction getThemesDeduped(\n  themes: ThemesLikeObject,\n  colorTokens?: Record<string, any>\n): DedupedThemes {\n  const dedupedThemes: DedupedThemes = []\n  const existing = new Map<string, DedupedTheme>()\n\n  // Sort theme names for deterministic CSS output order\n  const sortedThemeNames = Object.keys(themes).sort()\n\n  // first, de-dupe and parse them\n  for (const themeName of sortedThemeNames) {\n    // forces us to separate the dark/light themes (otherwise we generate bad t_light prefix selectors)\n    const darkOrLightSpecificPrefix = themeName.startsWith('dark')\n      ? 'dark'\n      : themeName.startsWith('light')\n        ? 'light'\n        : ''\n\n    const rawTheme = themes[themeName]\n\n    // dont force referential equality but may need something more consistent than JSON.stringify\n    // separate between dark/light\n    const key = darkOrLightSpecificPrefix + JSON.stringify(rawTheme)\n\n    // if existing, avoid\n    if (existing.has(key)) {\n      const e = existing.get(key)!\n      e.names.push(themeName)\n      continue\n    }\n\n    // ensure each theme object unique for dedupe\n    // is ThemeParsed because we call ensureThemeVariable\n    // color tokens are spread first as fallbacks, theme values take precedence\n    const theme = { ...colorTokens, ...rawTheme } as any as ThemeParsed\n\n    // parse into variables\n    for (const key in theme) {\n      // make sure properly names theme variables\n      ensureThemeVariable(theme, key)\n    }\n\n    // set deduped\n    const deduped: DedupedTheme = {\n      names: [themeName],\n      theme,\n    }\n    dedupedThemes.push(deduped)\n    existing.set(key, deduped)\n  }\n\n  return dedupedThemes\n}\n\n// Built-in shorthands used internally for short classname generation\nconst builtinShorthands = {\n  fd: 'flexDirection',\n  fb: 'flexBasis',\n  bblr: 'borderBottomLeftRadius',\n  bbrr: 'borderBottomRightRadius',\n  fwr: 'flexWrap',\n  col: 'color',\n  ff: 'fontFamily',\n  fst: 'fontStyle',\n  tr: 'transform',\n  tt: 'textTransform',\n  td: 'textDecorationLine',\n  va: 'verticalAlign',\n  ws: 'whiteSpace',\n  wb: 'wordBreak',\n  ww: 'wordWrap',\n  brc: 'borderRightColor',\n  brw: 'borderRightWidth',\n  bs: 'borderStyle',\n  btc: 'borderTopColor',\n  btlr: 'borderTopLeftRadius',\n  btrr: 'borderTopRightRadius',\n  btw: 'borderTopWidth',\n  bw: 'borderWidth',\n  o: 'opacity',\n  cur: 'cursor',\n  pe: 'pointerEvents',\n  ov: 'overflow',\n  pos: 'position',\n  dsp: 'display',\n  fw: 'fontWeight',\n  fs: 'fontSize',\n  ls: 'letterSpacing',\n  lh: 'lineHeight',\n  bxs: 'boxSizing',\n  bxsh: 'boxShadow',\n  ox: 'overflowX',\n  oy: 'overflowY',\n} as const\n", "import {\n  IS_REACT_19,\n  isClient,\n  isWeb,\n  useIsomorphicLayoutEffect,\n} from '@tamagui/constants'\nimport { ClientOnly } from '@tamagui/use-did-finish-ssr'\nimport React from 'react'\nimport { getSetting } from '../config'\nimport { ComponentContext } from '../contexts/ComponentContext'\nimport { stopAccumulatingRules } from '../helpers/insertStyleRule'\nimport { updateMediaListeners } from '../hooks/useMedia'\nimport type { TamaguiProviderProps } from '../types'\nimport { ThemeProvider } from './ThemeProvider'\n\nexport function TamaguiProvider({\n  children,\n  disableInjectCSS,\n  config,\n  className,\n  defaultTheme,\n  disableRootThemeClass,\n  reset,\n  themeClassNameOnRoot,\n}: TamaguiProviderProps) {\n  if (!IS_REACT_19) {\n    if (isClient) {\n      // inject CSS if asked to (not SSR compliant)\n      useIsomorphicLayoutEffect(() => {\n        if (!config) return\n        if (!disableInjectCSS) {\n          const style = document.createElement('style')\n          style.appendChild(document.createTextNode(config.getCSS()))\n          document.head.appendChild(style)\n          return () => {\n            document.head.removeChild(style)\n          }\n        }\n      }, [config, disableInjectCSS])\n    }\n  }\n\n  useIsomorphicLayoutEffect(() => {\n    stopAccumulatingRules()\n    updateMediaListeners()\n  }, [])\n\n  let contents = (\n    <UnmountedClassName>\n      <ComponentContext.Provider animationDriver={config?.animations}>\n        <ThemeProvider\n          themeClassNameOnRoot={\n            themeClassNameOnRoot ?? getSetting('themeClassNameOnRoot')\n          }\n          disableRootThemeClass={\n            disableRootThemeClass ?? getSetting('disableRootThemeClass')\n          }\n          defaultTheme={defaultTheme ?? (config ? Object.keys(config.themes)[0] : '')}\n          reset={reset}\n          className={className}\n        >\n          {children}\n        </ThemeProvider>\n      </ComponentContext.Provider>\n    </UnmountedClassName>\n  )\n\n  if (getSetting('disableSSR')) {\n    // never changes so conditional render fine, no re-parenting risk\n    contents = <ClientOnly enabled>{contents}</ClientOnly>\n  }\n\n  return (\n    <>\n      {contents}\n\n      {process.env.TAMAGUI_TARGET !== 'native' &&\n        IS_REACT_19 &&\n        config &&\n        !disableInjectCSS && (\n          <style\n            // react 19 feature to hoist style tags to header:\n            // https://react.dev/reference/react-dom/components/style\n            // @ts-ignore\n            precedence=\"default\"\n            href=\"tamagui-css\"\n            key=\"tamagui-css\"\n          >\n            {config.getCSS()}\n          </style>\n        )}\n    </>\n  )\n}\n\n// for CSS animations\nfunction UnmountedClassName(props: { children: React.ReactNode }) {\n  const [mounted, setMounted] = React.useState(false)\n\n  React.useEffect(() => {\n    setMounted(true)\n  }, [])\n\n  if (!isWeb) {\n    return props.children\n  }\n\n  return (\n    <span style={{ display: 'contents' }} className={mounted ? '' : 't_unmounted'}>\n      {props.children}\n    </span>\n  )\n}\n\nTamaguiProvider['displayName'] = 'TamaguiProvider'\n", "import { isClient, useIsomorphicLayoutEffect } from '@tamagui/constants'\nimport { useId } from 'react'\nimport { getSetting } from '../config'\nimport { THEME_CLASSNAME_PREFIX } from '../constants/constants'\nimport type { ThemeProviderProps } from '../types'\nimport { Theme } from './Theme'\n\nexport const ThemeProvider = (props: ThemeProviderProps) => {\n  const disableRootThemeClass =\n    props.disableRootThemeClass ?? getSetting('disableRootThemeClass')\n  const themeClassNameOnRoot =\n    props.themeClassNameOnRoot ?? getSetting('themeClassNameOnRoot')\n\n  // ensure theme is attached to root body node as well to work with modals by default\n  if (isClient) {\n    useIsomorphicLayoutEffect(() => {\n      if (disableRootThemeClass) return\n      const cn = `${THEME_CLASSNAME_PREFIX}${props.defaultTheme}`\n      const target = themeClassNameOnRoot ? document.documentElement : document.body\n      target.classList.add(cn)\n      return () => {\n        target.classList.remove(cn)\n      }\n    }, [props.defaultTheme, disableRootThemeClass, themeClassNameOnRoot])\n  }\n\n  return (\n    <Theme\n      className={props.className}\n      name={props.defaultTheme}\n      // if root class disabled, force class here\n      forceClassName={!disableRootThemeClass && !themeClassNameOnRoot}\n      // @ts-expect-error\n      _isRoot={useId}\n    >\n      {props.children}\n    </Theme>\n  )\n}\n", "import { stylePropsTextOnly, validStyles } from '@tamagui/helpers'\n\nimport { createComponent } from '../createComponent'\nimport type {\n  TamaguiTextElement,\n  TextNonStyleProps,\n  TextProps,\n  TextStylePropsBase,\n} from '../types'\n\nconst ellipseStyle = {\n  maxWidth: '100%',\n  overflow: 'hidden',\n  textOverflow: 'ellipsis',\n  whiteSpace: 'nowrap',\n}\n\nexport type Text = TamaguiTextElement\n\nconst defaultWebStyle = {\n  display: 'inline', // display: inline breaks css transform styles\n  boxSizing: 'border-box',\n  wordWrap: 'break-word',\n  whiteSpace: 'pre-wrap',\n  margin: 0,\n}\n\nconst ellipsisStyle =\n  process.env.TAMAGUI_TARGET === 'web'\n    ? ellipseStyle\n    : {\n        numberOfLines: 1,\n        lineBreakMode: 'clip',\n      }\n\nexport const Text = createComponent<\n  TextProps,\n  Text,\n  TextNonStyleProps,\n  TextStylePropsBase\n>({\n  acceptsClassName: true,\n  isText: true,\n\n  defaultProps: {\n    fontFamily: 'unset',\n    ...(process.env.TAMAGUI_TARGET === 'web'\n      ? defaultWebStyle\n      : {\n          suppressHighlighting: true,\n        }),\n  },\n\n  inlineWhenUnflattened: new Set(['fontFamily']),\n\n  variants: {\n    ...(process.env.TAMAGUI_TARGET === 'web' && {\n      numberOfLines: {\n        1: ellipseStyle,\n\n        ':number': (numberOfLines) =>\n          numberOfLines >= 1\n            ? {\n                WebkitLineClamp: numberOfLines,\n                WebkitBoxOrient: 'vertical',\n                display: '-webkit-box',\n                overflow: 'hidden',\n              }\n            : null,\n      },\n    }),\n\n    ...(process.env.TAMAGUI_TARGET === 'web' && {\n      selectable: {\n        true: {\n          userSelect: 'text',\n          cursor: 'text',\n        },\n        false: {\n          userSelect: 'none',\n          cursor: 'default',\n        },\n      },\n    }),\n\n    /**\n     * @deprecated Use ellipsis instead\n     */\n    ellipse: {\n      true: ellipsisStyle,\n    },\n\n    ellipsis: {\n      true: ellipsisStyle,\n    },\n  },\n\n  validStyles: {\n    ...validStyles,\n    ...stylePropsTextOnly,\n  },\n})\n\nText['displayName'] = 'Text'\n", "import { validStyles } from '@tamagui/helpers'\n\nimport { stackDefaultStyles } from '../constants/constants'\nimport { createComponent } from '../createComponent'\nimport type {\n  StackNonStyleProps,\n  StackProps,\n  StackStyle,\n  StackStyleBase,\n  TamaguiElement,\n} from '../types'\n\nexport type View = TamaguiElement\nexport type ViewProps = StackProps\nexport type ViewNonStyleProps = StackNonStyleProps\nexport type ViewStylePropsBase = StackStyleBase\nexport type ViewStyle = StackStyle\n\nexport const View = createComponent<\n  StackProps,\n  View,\n  ViewNonStyleProps,\n  ViewStylePropsBase\n>({\n  acceptsClassName: true,\n  defaultProps: stackDefaultStyles,\n  validStyles,\n})\n", "import type { PresenceContextProps } from '@tamagui/web'\nimport * as React from 'react'\n\nexport const PresenceContext: React.Context<PresenceContextProps | null> =\n  React.createContext<PresenceContextProps | null>(null)\n\nexport const ResetPresence = (props: {\n  children?: React.ReactNode\n  disable?: boolean\n}): React.ReactNode => {\n  const parent = React.useContext(PresenceContext)\n  return (\n    <PresenceContext.Provider value={props.disable ? parent : null}>\n      {props.children}\n    </PresenceContext.Provider>\n  )\n}\n", "import type { PresenceContextProps, UsePresenceResult } from '@tamagui/web'\nimport * as React from 'react'\n\nimport { PresenceContext } from './PresenceContext'\n\nexport function usePresence(): UsePresenceResult {\n  const context = React.useContext(PresenceContext)\n\n  if (!context) {\n    return [true, null, context]\n  }\n\n  const { id, isPresent, onExitComplete, register } = context\n\n  React.useEffect(() => register(id), [])\n\n  const safeToRemove = () => onExitComplete?.(id)\n\n  return !isPresent && onExitComplete\n    ? [false, safeToRemove, context]\n    : [true, undefined, context]\n}\n\n/**\n * Similar to `usePresence`, except `useIsPresent` simply returns whether or not the component is present.\n * There is no `safeToRemove` function.\n */\nexport function useIsPresent(): boolean {\n  return isPresent(React.useContext(PresenceContext))\n}\n\nexport function isPresent(context: PresenceContextProps | null): boolean {\n  return context === null ? true : context.isPresent\n}\n", "// web-only use platform:\n\nimport type { MatchMedia } from '@tamagui/web'\n\nexport const matchMedia: MatchMedia = globalThis['matchMedia']\n", "import type { MediaQueryObject } from '@tamagui/web'\nimport { setupMatchMedia } from '@tamagui/web'\n\nimport { matchMedia } from './matchMedia'\n\n/**\n * @deprecated you no longer need to call createMedia or import @tamagui/react-native-media-driver at all.\n * Tamagui now automatically handles setting this up, you can just pass a plain object to createTamagui.\n */\nexport function createMedia<\n  A extends {\n    [key: string]: MediaQueryObject\n  },\n>(media: A): A {\n  // this should ideally return a diff object that is then passed to createTamagui\n  // but works for now we dont really support swapping out media drivers\n  setupMatchMedia(matchMedia)\n  return media\n}\n", "import { isClient, useIsomorphicLayoutEffect } from '@tamagui/constants'\nimport { isEqualShallow } from '@tamagui/is-equal-shallow'\nimport { createContext, useContext, useId, type ReactNode, type RefObject } from 'react'\n\nconst LayoutHandlers = new WeakMap<HTMLElement, Function>()\nconst LayoutDisableKey = new WeakMap<HTMLElement, string>()\nconst Nodes = new Set<HTMLElement>()\nconst IntersectionState = new WeakMap<HTMLElement, boolean>()\n\n// separating to avoid all re-rendering\nconst DisableLayoutContextValues: Record<string, boolean> = {}\nconst DisableLayoutContextKey = createContext<string>('')\n\nconst ENABLE = isClient && typeof IntersectionObserver !== 'undefined'\n\n// internal testing - advanced helper to turn off layout measurement for extra performance\n// TODO document!\n// TODO could add frame skip control here\nexport const LayoutMeasurementController = ({\n  disable,\n  children,\n}: {\n  disable: boolean\n  children: ReactNode\n}): ReactNode => {\n  const id = useId()\n\n  useIsomorphicLayoutEffect(() => {\n    DisableLayoutContextValues[id] = disable\n  }, [disable, id])\n\n  return (\n    <DisableLayoutContextKey.Provider value={id}>\n      {children}\n    </DisableLayoutContextKey.Provider>\n  )\n}\n\n// Single persistent IntersectionObserver for all nodes\nlet globalIntersectionObserver: IntersectionObserver | null = null\n\ntype TamaguiComponentStatePartial = {\n  host?: any\n}\n\ntype LayoutMeasurementStrategy = 'off' | 'sync' | 'async'\n\nlet strategy: LayoutMeasurementStrategy = 'async'\n\nexport function setOnLayoutStrategy(state: LayoutMeasurementStrategy): void {\n  strategy = state\n}\n\nexport type LayoutValue = {\n  x: number\n  y: number\n  width: number\n  height: number\n  pageX: number\n  pageY: number\n}\n\nexport type LayoutEvent = {\n  nativeEvent: {\n    layout: LayoutValue\n    target: any\n  }\n  timeStamp: number\n}\n\nconst NodeRectCache = new WeakMap<HTMLElement, DOMRect>()\nconst LastChangeTime = new WeakMap<HTMLElement, number>()\n\n// prevent thrashing during first hydration (somewhat, streaming gets trickier)\nlet avoidUpdates = true\nconst queuedUpdates = new Map<HTMLElement, Function>()\n\nexport function enable(): void {\n  if (avoidUpdates) {\n    avoidUpdates = false\n    if (queuedUpdates) {\n      queuedUpdates.forEach((cb) => cb())\n      queuedUpdates.clear()\n    }\n  }\n}\n\nfunction startGlobalObservers() {\n  if (!ENABLE || globalIntersectionObserver) return\n\n  globalIntersectionObserver = new IntersectionObserver(\n    (entries) => {\n      entries.forEach((entry) => {\n        const node = entry.target as HTMLElement\n        if (IntersectionState.get(node) !== entry.isIntersecting) {\n          IntersectionState.set(node, entry.isIntersecting)\n        }\n      })\n    },\n    {\n      threshold: 0,\n    }\n  )\n}\n\nif (ENABLE) {\n  const BoundingRects = new WeakMap<any, DOMRectReadOnly | undefined>()\n\n  async function updateLayoutIfChanged(node: HTMLElement) {\n    const onLayout = LayoutHandlers.get(node)\n    if (typeof onLayout !== 'function') return\n\n    const parentNode = node.parentElement\n    if (!parentNode) return\n\n    let nodeRect: DOMRectReadOnly\n    let parentRect: DOMRectReadOnly\n\n    if (strategy === 'async') {\n      const [nr, pr] = await Promise.all([\n        BoundingRects.get(node),\n        BoundingRects.get(parentNode),\n      ])\n\n      if (!nr || !pr) {\n        return\n      }\n\n      nodeRect = nr\n      parentRect = pr\n    } else {\n      nodeRect = node.getBoundingClientRect()\n      parentRect = parentNode.getBoundingClientRect()\n    }\n\n    if (!nodeRect || !parentRect) {\n      return\n    }\n\n    const cachedRect = NodeRectCache.get(node)\n    const cachedParentRect = NodeRectCache.get(parentNode)\n\n    if (\n      !cachedRect ||\n      !cachedParentRect ||\n      // has changed one rect\n      // @ts-expect-error DOMRectReadOnly can go into object\n      !isEqualShallow(cachedRect, nodeRect) ||\n      // @ts-expect-error DOMRectReadOnly can go into object\n      !isEqualShallow(cachedParentRect, parentRect)\n    ) {\n      NodeRectCache.set(node, nodeRect)\n      NodeRectCache.set(parentNode, parentRect)\n\n      const event = getElementLayoutEvent(nodeRect, parentRect)\n\n      if (avoidUpdates) {\n        queuedUpdates.set(node, () => onLayout(event))\n      } else {\n        onLayout(event)\n      }\n    }\n  }\n\n  // note that getBoundingClientRect() does not thrash layout if its after an animation frame\n  // ok new note: *if* it needed recalc then yea, but browsers often skip that, so it does\n  // which is why we use async strategy in general\n\n  const userSkipVal = process.env.TAMAGUI_LAYOUT_FRAME_SKIP\n  const RUN_EVERY_X_FRAMES = userSkipVal ? +userSkipVal : 14\n\n  async function layoutOnAnimationFrame() {\n    if (strategy !== 'off') {\n      const visibleNodes: HTMLElement[] = []\n\n      // do a 1 rather than N IntersectionObservers for performance\n      const didRun = await new Promise<boolean>((res) => {\n        const io = new IntersectionObserver(\n          (entries) => {\n            io.disconnect()\n            for (const entry of entries) {\n              BoundingRects.set(entry.target, entry.boundingClientRect)\n            }\n            res(true)\n          },\n          {\n            threshold: 0,\n          }\n        )\n\n        let didObserve = false\n\n        for (const node of Nodes) {\n          if (!(node.parentElement instanceof HTMLElement)) continue\n          const disableKey = LayoutDisableKey.get(node)\n          if (disableKey && DisableLayoutContextValues[disableKey] === true) continue\n          if (IntersectionState.get(node) === false) continue\n          didObserve = true\n          io.observe(node)\n          io.observe(node.parentElement)\n          visibleNodes.push(node)\n        }\n\n        if (!didObserve) {\n          res(false)\n        }\n      })\n\n      if (didRun) {\n        visibleNodes.forEach((node) => {\n          updateLayoutIfChanged(node)\n        })\n      }\n    }\n\n    setTimeout(layoutOnAnimationFrame, 16.6667 * RUN_EVERY_X_FRAMES)\n  }\n\n  layoutOnAnimationFrame()\n}\n\nexport const getElementLayoutEvent = (\n  nodeRect: DOMRectReadOnly,\n  parentRect: DOMRectReadOnly\n): LayoutEvent => {\n  return {\n    nativeEvent: {\n      layout: getRelativeDimensions(nodeRect, parentRect),\n      target: nodeRect,\n    },\n    timeStamp: Date.now(),\n  }\n}\n\nconst getRelativeDimensions = (a: DOMRectReadOnly, b: DOMRectReadOnly) => {\n  const { height, left, top, width } = a\n  const x = left - b.left\n  const y = top - b.top\n  return { x, y, width, height, pageX: a.left, pageY: a.top }\n}\n\nexport function useElementLayout(\n  ref: RefObject<TamaguiComponentStatePartial>,\n  onLayout?: ((e: LayoutEvent) => void) | null\n): void {\n  const disableKey = useContext(DisableLayoutContextKey)\n\n  // ensure always up to date so we can avoid re-running effect\n  const node = ensureWebElement(ref.current?.host)\n  if (node && onLayout) {\n    LayoutHandlers.set(node, onLayout)\n    LayoutDisableKey.set(node, disableKey)\n  }\n\n  useIsomorphicLayoutEffect(() => {\n    if (!onLayout) return\n    const node = ref.current?.host\n    if (!node) return\n\n    Nodes.add(node)\n\n    // Add node to intersection observer\n    startGlobalObservers()\n    if (globalIntersectionObserver) {\n      globalIntersectionObserver.observe(node)\n      // Initialize as intersecting by default\n      IntersectionState.set(node, true)\n    }\n\n    // always do one immediate sync layout event no matter the strategy for accuracy\n    const parentNode = node.parentNode\n    if (parentNode) {\n      onLayout(\n        getElementLayoutEvent(\n          node.getBoundingClientRect(),\n          parentNode.getBoundingClientRect()\n        )\n      )\n    }\n\n    return () => {\n      Nodes.delete(node)\n      LayoutHandlers.delete(node)\n      NodeRectCache.delete(node)\n      LastChangeTime.delete(node)\n      IntersectionState.delete(node)\n\n      // Remove from intersection observer\n      if (globalIntersectionObserver) {\n        globalIntersectionObserver.unobserve(node)\n      }\n    }\n  }, [ref, !!onLayout])\n}\n\nfunction ensureWebElement<X>(x: X): HTMLElement | undefined {\n  if (typeof HTMLElement === 'undefined') {\n    return undefined\n  }\n  return x instanceof HTMLElement ? x : undefined\n}\n\nexport const getBoundingClientRectAsync = (\n  node: HTMLElement | null\n): Promise<DOMRectReadOnly | false> => {\n  return new Promise<DOMRectReadOnly | false>((res) => {\n    if (!node || node.nodeType !== 1) return res(false)\n\n    const io = new IntersectionObserver(\n      (entries) => {\n        io.disconnect()\n        return res(entries[0].boundingClientRect)\n      },\n      {\n        threshold: 0,\n      }\n    )\n    io.observe(node)\n  })\n}\n\nexport const measureNode = async (\n  node: HTMLElement,\n  relativeTo?: HTMLElement | null\n): Promise<null | LayoutValue> => {\n  const relativeNode = relativeTo || node?.parentElement\n  if (relativeNode instanceof HTMLElement) {\n    const [nodeDim, relativeNodeDim] = await Promise.all([\n      getBoundingClientRectAsync(node),\n      getBoundingClientRectAsync(relativeNode),\n    ])\n    if (relativeNodeDim && nodeDim) {\n      return getRelativeDimensions(nodeDim, relativeNodeDim)\n    }\n  }\n  return null\n}\n\ntype MeasureInWindowCb = (x: number, y: number, width: number, height: number) => void\n\ntype MeasureCb = (\n  x: number,\n  y: number,\n  width: number,\n  height: number,\n  pageX: number,\n  pageY: number\n) => void\n\nexport const measure = async (\n  node: HTMLElement,\n  callback: MeasureCb\n): Promise<LayoutValue | null> => {\n  const out = await measureNode(\n    node,\n    node.parentNode instanceof HTMLElement ? node.parentNode : null\n  )\n  if (out) {\n    callback?.(out.x, out.y, out.width, out.height, out.pageX, out.pageY)\n  }\n  return out\n}\n\nexport function createMeasure(\n  node: HTMLElement\n): (callback: MeasureCb) => Promise<LayoutValue | null> {\n  return (callback) => measure(node, callback)\n}\n\ntype WindowLayout = { pageX: number; pageY: number; width: number; height: number }\n\nexport const measureInWindow = async (\n  node: HTMLElement,\n  callback: MeasureInWindowCb\n): Promise<WindowLayout | null> => {\n  const out = await measureNode(node, null)\n  if (out) {\n    callback?.(out.pageX, out.pageY, out.width, out.height)\n  }\n  return out\n}\n\nexport const createMeasureInWindow = (\n  node: HTMLElement\n): ((callback: MeasureInWindowCb) => Promise<WindowLayout | null>) => {\n  return (callback) => measureInWindow(node, callback)\n}\n\nexport const measureLayout = async (\n  node: HTMLElement,\n  relativeNode: HTMLElement,\n  callback: MeasureCb\n): Promise<LayoutValue | null> => {\n  const out = await measureNode(node, relativeNode)\n  if (out) {\n    callback?.(out.x, out.y, out.width, out.height, out.pageX, out.pageY)\n  }\n  return out\n}\n\nexport function createMeasureLayout(\n  node: HTMLElement\n): (relativeTo: HTMLElement, callback: MeasureCb) => Promise<LayoutValue | null> {\n  return (relativeTo, callback) => measureLayout(node, relativeTo, callback)\n}\n", "/**\n * Copyright (c) Nicolas Gallagher\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport * as React from 'react'\n\nimport * as ResponderSystem from './ResponderSystem'\n\nexport * from './utils'\n\nconst emptyObject = {}\n\nconst Attached = new WeakMap<any, boolean>()\nconst Ids = new WeakMap<any, string>()\n\nexport function useResponderEvents(\n  hostRef: any,\n  configIn: ResponderSystem.ResponderConfig = emptyObject\n) {\n  const config = getResponderConfigIfDefined(configIn)\n  // tamagui + rnw compat\n  const node = hostRef?.current?.host || hostRef?.current\n\n  // Register and unregister with the Responder System as necessary\n  React.useEffect(() => {\n    if (config === emptyObject) return\n\n    ResponderSystem.attachListeners()\n\n    if (!Ids.has(hostRef)) {\n      Ids.set(hostRef, `${Math.random()}`)\n    }\n    const id = Ids.get(hostRef)!\n\n    ResponderSystem.addNode(id, node, config)\n    Attached.set(hostRef, true)\n\n    return () => {\n      ResponderSystem.removeNode(node)\n      Attached.set(hostRef, false)\n    }\n  }, [config, hostRef])\n\n  if (process.env.NODE_ENV === 'development') {\n    React.useDebugValue({\n      isResponder: node === ResponderSystem.getResponderNode(),\n    })\n    React.useDebugValue(config)\n  }\n}\n\nexport function getResponderConfigIfDefined({\n  onMoveShouldSetResponder,\n  onMoveShouldSetResponderCapture,\n  onResponderEnd,\n  onResponderGrant,\n  onResponderMove,\n  onResponderReject,\n  onResponderRelease,\n  onResponderStart,\n  onResponderTerminate,\n  onResponderTerminationRequest,\n  onScrollShouldSetResponder,\n  onScrollShouldSetResponderCapture,\n  onSelectionChangeShouldSetResponder,\n  onSelectionChangeShouldSetResponderCapture,\n  onStartShouldSetResponder,\n  onStartShouldSetResponderCapture,\n}: ResponderSystem.ResponderConfig): ResponderSystem.ResponderConfig {\n  return onMoveShouldSetResponder ||\n    onMoveShouldSetResponderCapture ||\n    onResponderEnd ||\n    onResponderGrant ||\n    onResponderMove ||\n    onResponderReject ||\n    onResponderRelease ||\n    onResponderStart ||\n    onResponderTerminate ||\n    onResponderTerminationRequest ||\n    onScrollShouldSetResponder ||\n    onScrollShouldSetResponderCapture ||\n    onSelectionChangeShouldSetResponder ||\n    onSelectionChangeShouldSetResponderCapture ||\n    onStartShouldSetResponder ||\n    onStartShouldSetResponderCapture\n    ? {\n        onMoveShouldSetResponder,\n        onMoveShouldSetResponderCapture,\n        onResponderEnd,\n        onResponderGrant,\n        onResponderMove,\n        onResponderReject,\n        onResponderRelease,\n        onResponderStart,\n        onResponderTerminate,\n        onResponderTerminationRequest,\n        onScrollShouldSetResponder,\n        onScrollShouldSetResponderCapture,\n        onSelectionChangeShouldSetResponder,\n        onSelectionChangeShouldSetResponderCapture,\n        onStartShouldSetResponder,\n        onStartShouldSetResponderCapture,\n      }\n    : emptyObject\n}\n", "/**\n * Copyright (c) Nicolas Gallagher\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nconst keyName = '__reactResponderId'\n\nexport const canUseDOM = !!(\n  typeof window !== 'undefined' &&\n  window.document &&\n  window.document.createElement\n)\n\nexport const getBoundingClientRect = (node: HTMLElement | null): void | DOMRect => {\n  if (!node) return\n  if (node.nodeType !== 1) return\n  if (node.getBoundingClientRect) {\n    return node.getBoundingClientRect()\n  }\n}\n\nfunction getEventPath(domEvent: any): Array<any> {\n  // The 'selectionchange' event always has the 'document' as the target.\n  // Use the anchor node as the initial target to reconstruct a path.\n  // (We actually only need the first \"responder\" node in practice.)\n  if (domEvent.type === 'selectionchange') {\n    const target = window.getSelection()?.anchorNode\n    return composedPathFallback(target)\n  }\n  const path =\n    domEvent.composedPath != null\n      ? domEvent.composedPath()\n      : composedPathFallback(domEvent.target)\n  return path\n}\n\nfunction composedPathFallback(target: any): Array<any> {\n  const path: any[] = []\n  while (target != null && target !== document.body) {\n    path.push(target)\n    target = target.parentNode\n  }\n  return path\n}\n\n/**\n * Retrieve the responderId from a host node\n */\nfunction getResponderId(node: any): number | null {\n  if (node != null) {\n    return node[keyName]\n  }\n  return null\n}\n\n/**\n * Store the responderId on a host node\n */\nexport function setResponderId(node: any, id: any) {\n  if (node != null) {\n    node[keyName] = id\n  }\n}\n\n/**\n * Filter the event path to contain only the nodes attached to the responder system\n */\nexport function getResponderPaths(domEvent: any): {\n  idPath: Array<number>\n  nodePath: Array<any>\n} {\n  const idPath: any[] = []\n  const nodePath: any[] = []\n  const eventPath = getEventPath(domEvent)\n\n  for (let i = 0; i < eventPath.length; i++) {\n    const node = eventPath[i]\n    const id = getResponderId(node)\n    if (id != null) {\n      idPath.push(id)\n      nodePath.push(node)\n    }\n  }\n  return { idPath, nodePath }\n}\n\n/**\n * Walk the paths and find the first common ancestor\n */\nexport function getLowestCommonAncestor(pathA: Array<any>, pathB: Array<any>): any {\n  let pathALength = pathA.length\n  let pathBLength = pathB.length\n  if (\n    // If either path is empty\n    pathALength === 0 ||\n    pathBLength === 0 ||\n    // If the last elements aren't the same there can't be a common ancestor\n    // that is connected to the responder system\n    pathA[pathALength - 1] !== pathB[pathBLength - 1]\n  ) {\n    return null\n  }\n\n  let itemA = pathA[0]\n  let indexA = 0\n  let itemB = pathB[0]\n  let indexB = 0\n\n  // If A is deeper, skip indices that can't match.\n  if (pathALength - pathBLength > 0) {\n    indexA = pathALength - pathBLength\n    itemA = pathA[indexA]\n    pathALength = pathBLength\n  }\n\n  // If B is deeper, skip indices that can't match\n  if (pathBLength - pathALength > 0) {\n    indexB = pathBLength - pathALength\n    itemB = pathB[indexB]\n    pathBLength = pathALength\n  }\n\n  // Walk in lockstep until a match is found\n  let depth = pathALength\n  while (depth--) {\n    if (itemA === itemB) {\n      return itemA\n    }\n    itemA = pathA[indexA++]\n    itemB = pathB[indexB++]\n  }\n  return null\n}\n\n/**\n * Determine whether any of the active touches are within the current responder.\n * This cannot rely on W3C `targetTouches`, as neither IE11 nor Safari implement it.\n */\nexport function hasTargetTouches(target: any, touches: any): boolean {\n  if (!touches || touches.length === 0) {\n    return false\n  }\n  for (let i = 0; i < touches.length; i++) {\n    const node = touches[i].target\n    if (node != null) {\n      if (target.contains(node)) {\n        return true\n      }\n    }\n  }\n  return false\n}\n\n/**\n * Ignore 'selectionchange' events that don't correspond with a person's intent to\n * select text.\n */\nexport function hasValidSelection(domEvent: any): boolean {\n  if (domEvent.type === 'selectionchange') {\n    return isSelectionValid()\n  }\n  return domEvent.type === 'select'\n}\n\n/**\n * Events are only valid if the primary button was used without specific modifier keys.\n */\nexport function isPrimaryPointerDown(domEvent: any): boolean {\n  const { altKey, button, buttons, ctrlKey, type } = domEvent\n  const isTouch = type === 'touchstart' || type === 'touchmove'\n  const isPrimaryMouseDown = type === 'mousedown' && (button === 0 || buttons === 1)\n  const isPrimaryMouseMove = type === 'mousemove' && buttons === 1\n  const noModifiers = altKey === false && ctrlKey === false\n\n  if (\n    isTouch ||\n    (isPrimaryMouseDown && noModifiers) ||\n    (isPrimaryMouseMove && noModifiers)\n  ) {\n    return true\n  }\n  return false\n}\n\nexport function isSelectionValid(): boolean {\n  const selection = window.getSelection()\n  if (!selection) return false\n  const string = selection.toString()\n  const anchorNode = selection.anchorNode\n  const focusNode = selection.focusNode\n  const isTextNode =\n    (anchorNode && anchorNode.nodeType === window.Node.TEXT_NODE) ||\n    (focusNode && focusNode.nodeType === window.Node.TEXT_NODE)\n  return string.length >= 1 && string !== '\\n' && !!isTextNode\n}\n", "/**\n * Copyright (c) Nicolas Gallagher\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport type {\n  ResponderTouchHistoryStore,\n  TouchHistory,\n} from './ResponderTouchHistoryStore'\nimport { getBoundingClientRect } from './utils'\n\nexport type ResponderEvent = {\n  bubbles: boolean\n  cancelable: boolean\n  currentTarget: any\n  defaultPrevented: boolean | null\n  dispatchConfig: {\n    registrationName?: string\n    phasedRegistrationNames?: {\n      bubbled: string\n      captured: string\n    }\n  }\n  eventPhase: number | null\n  isDefaultPrevented: () => boolean\n  isPropagationStopped: () => boolean\n  isTrusted: boolean | null\n  preventDefault: () => void\n  stopPropagation: () => void\n  nativeEvent: TouchEvent\n  persist: () => void\n  target: any | null\n  timeStamp: number\n  touchHistory: TouchHistory\n}\n\nconst emptyFunction = () => {}\nconst emptyObject = {}\nconst emptyArray = []\n\n/**\n * Safari produces very large identifiers that would cause the `touchBank` array\n * length to be so large as to crash the browser, if not normalized like this.\n * In the future the `touchBank` should use an object/map instead.\n */\nfunction normalizeIdentifier(identifier) {\n  return identifier > 20 ? identifier % 20 : identifier\n}\n\n/**\n * Converts a native DOM event to a ResponderEvent.\n * Mouse events are transformed into fake touch events.\n */\nexport function createResponderEvent(\n  domEvent: any,\n  responderTouchHistoryStore: ResponderTouchHistoryStore\n): ResponderEvent {\n  let rect\n  let propagationWasStopped = false\n  let changedTouches\n  let touches\n\n  const domEventChangedTouches = domEvent.changedTouches\n  const domEventType = domEvent.type\n\n  const metaKey = domEvent.metaKey === true\n  const shiftKey = domEvent.shiftKey === true\n  const force = domEventChangedTouches?.[0].force || 0\n  const identifier = normalizeIdentifier(domEventChangedTouches?.[0].identifier || 0)\n  const clientX = domEventChangedTouches?.[0].clientX || domEvent.clientX\n  const clientY = domEventChangedTouches?.[0].clientY || domEvent.clientY\n  const pageX = domEventChangedTouches?.[0].pageX || domEvent.pageX\n  const pageY = domEventChangedTouches?.[0].pageY || domEvent.pageY\n  const preventDefault =\n    typeof domEvent.preventDefault === 'function'\n      ? domEvent.preventDefault.bind(domEvent)\n      : emptyFunction\n  const timestamp = domEvent.timeStamp\n\n  function normalizeTouches(touches) {\n    return Array.prototype.slice.call(touches).map((touch) => {\n      return {\n        force: touch.force,\n        identifier: normalizeIdentifier(touch.identifier),\n        get locationX() {\n          return locationX(touch.clientX)\n        },\n        get locationY() {\n          return locationY(touch.clientY)\n        },\n        pageX: touch.pageX,\n        pageY: touch.pageY,\n        target: touch.target,\n        timestamp,\n      }\n    })\n  }\n\n  if (domEventChangedTouches != null) {\n    changedTouches = normalizeTouches(domEventChangedTouches)\n    touches = normalizeTouches(domEvent.touches)\n  } else {\n    const emulatedTouches = [\n      {\n        force,\n        identifier,\n        get locationX() {\n          return locationX(clientX)\n        },\n        get locationY() {\n          return locationY(clientY)\n        },\n        pageX,\n        pageY,\n        target: domEvent.target,\n        timestamp,\n      },\n    ]\n    changedTouches = emulatedTouches\n    touches =\n      domEventType === 'mouseup' || domEventType === 'dragstart'\n        ? emptyArray\n        : emulatedTouches\n  }\n\n  const responderEvent = {\n    bubbles: true,\n    cancelable: true,\n    // `currentTarget` is set before dispatch\n    currentTarget: null,\n    defaultPrevented: domEvent.defaultPrevented,\n    dispatchConfig: emptyObject,\n    eventPhase: domEvent.eventPhase,\n    isDefaultPrevented() {\n      return domEvent.defaultPrevented\n    },\n    isPropagationStopped() {\n      return propagationWasStopped\n    },\n    isTrusted: domEvent.isTrusted,\n    nativeEvent: {\n      altKey: false,\n      ctrlKey: false,\n      metaKey,\n      shiftKey,\n      changedTouches,\n      force,\n      identifier,\n      get locationX() {\n        return locationX(clientX)\n      },\n      get locationY() {\n        return locationY(clientY)\n      },\n      pageX,\n      pageY,\n      target: domEvent.target,\n      timestamp,\n      touches,\n      type: domEventType,\n    },\n    persist: emptyFunction,\n    preventDefault,\n    stopPropagation() {\n      propagationWasStopped = true\n    },\n    target: domEvent.target,\n    timeStamp: timestamp,\n    touchHistory: responderTouchHistoryStore.touchHistory,\n  }\n\n  // Using getters and functions serves two purposes:\n  // 1) The value of `currentTarget` is not initially available.\n  // 2) Measuring the clientRect may cause layout jank and should only be done on-demand.\n  function locationX(x) {\n    rect = rect || getBoundingClientRect(responderEvent.currentTarget)\n    if (rect) {\n      return x - rect.left\n    }\n  }\n  function locationY(y) {\n    rect = rect || getBoundingClientRect(responderEvent.currentTarget)\n    if (rect) {\n      return y - rect.top\n    }\n  }\n\n  return responderEvent as any\n}\n", "/**\n * Copyright (c) Nicolas Gallagher\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nexport type Touch = {\n  force: number\n  identifier: number\n  // The locationX and locationY properties are non-standard additions\n  locationX: any\n  locationY: any\n  pageX: number\n  pageY: number\n  target: any\n  // Touches in a list have a timestamp property\n  timestamp: number\n}\n\nexport type TouchEvent = {\n  altKey: boolean\n  ctrlKey: boolean\n  metaKey: boolean\n  shiftKey: boolean\n  // TouchList is an array in the Responder system\n  changedTouches: Array<Touch>\n  force: number\n  // React Native adds properties to the \"nativeEvent that are usually only found on W3C Touches ‾\\_(ツ)_/‾\n  identifier: number\n  locationX: any\n  locationY: any\n  pageX: number\n  pageY: number\n  target: any\n  // The timestamp has a lowercase \"s\" in the Responder system\n  timestamp: number\n  // TouchList is an array in the Responder system\n  touches: Array<Touch>\n}\n\nexport const BLUR = 'blur'\nexport const CONTEXT_MENU = 'contextmenu'\nexport const FOCUS_OUT = 'focusout'\nexport const MOUSE_DOWN = 'mousedown'\nexport const MOUSE_MOVE = 'mousemove'\nexport const MOUSE_UP = 'mouseup'\nexport const MOUSE_CANCEL = 'dragstart'\nexport const TOUCH_START = 'touchstart'\nexport const TOUCH_MOVE = 'touchmove'\nexport const TOUCH_END = 'touchend'\nexport const TOUCH_CANCEL = 'touchcancel'\nexport const SCROLL = 'scroll'\nexport const SELECT = 'select'\nexport const SELECTION_CHANGE = 'selectionchange'\n\nexport function isStartish(eventType: unknown): boolean {\n  return eventType === TOUCH_START || eventType === MOUSE_DOWN\n}\n\nexport function isMoveish(eventType: unknown): boolean {\n  return eventType === TOUCH_MOVE || eventType === MOUSE_MOVE\n}\n\nexport function isEndish(eventType: unknown): boolean {\n  return eventType === TOUCH_END || eventType === MOUSE_UP || isCancelish(eventType)\n}\n\nexport function isCancelish(eventType: unknown): boolean {\n  return eventType === TOUCH_CANCEL || eventType === MOUSE_CANCEL\n}\n\nexport function isScroll(eventType: unknown): boolean {\n  return eventType === SCROLL\n}\n\nexport function isSelectionChange(eventType: unknown): boolean {\n  return eventType === SELECT || eventType === SELECTION_CHANGE\n}\n", "/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport type { Touch, TouchEvent } from './types'\nimport { isEndish, isMoveish, isStartish } from './types'\n\nexport class ResponderTouchHistoryStore {\n  _touchHistory = {\n    touchBank: [], //Array<TouchRecord>\n    numberActiveTouches: 0,\n    // If there is only one active touch, we remember its location. This prevents\n    // us having to loop through all of the touches all the time in the most\n    // common case.\n    indexOfSingleActiveTouch: -1,\n    mostRecentTimeStamp: 0,\n  }\n\n  recordTouchTrack(topLevelType: string, nativeEvent: TouchEvent): void {\n    const touchHistory = this._touchHistory\n    if (isMoveish(topLevelType)) {\n      nativeEvent.changedTouches.forEach((touch) => recordTouchMove(touch, touchHistory))\n    } else if (isStartish(topLevelType)) {\n      nativeEvent.changedTouches.forEach((touch) => recordTouchStart(touch, touchHistory))\n      touchHistory.numberActiveTouches = nativeEvent.touches.length\n      if (touchHistory.numberActiveTouches === 1) {\n        touchHistory.indexOfSingleActiveTouch = nativeEvent.touches[0].identifier\n      }\n    } else if (isEndish(topLevelType)) {\n      nativeEvent.changedTouches.forEach((touch) => recordTouchEnd(touch, touchHistory))\n      touchHistory.numberActiveTouches = nativeEvent.touches.length\n      if (touchHistory.numberActiveTouches === 1) {\n        const { touchBank } = touchHistory\n        for (let i = 0; i < touchBank.length; i++) {\n          const touchTrackToCheck = touchBank[i]\n          //  @ts-ignore\n          if (touchTrackToCheck?.touchActive) {\n            touchHistory.indexOfSingleActiveTouch = i\n            break\n          }\n        }\n        if (process.env.NODE_ENV === 'development') {\n          const activeRecord = touchBank[touchHistory.indexOfSingleActiveTouch]\n          //  @ts-ignore\n          if (!activeRecord?.touchActive) {\n            console.error('Cannot find single active touch.')\n          }\n        }\n      }\n    }\n  }\n\n  get touchHistory(): TouchHistory {\n    return this._touchHistory\n  }\n}\n\ntype TouchRecord = {\n  currentPageX: number\n  currentPageY: number\n  currentTimeStamp: number\n  previousPageX: number\n  previousPageY: number\n  previousTimeStamp: number\n  startPageX: number\n  startPageY: number\n  startTimeStamp: number\n  touchActive: boolean\n}\n\nexport type TouchHistory = {\n  indexOfSingleActiveTouch: number\n  mostRecentTimeStamp: number\n  numberActiveTouches: number\n  touchBank: Array<TouchRecord>\n}\n\n/**\n * Tracks the position and time of each active touch by `touch.identifier`. We\n * should typically only see IDs in the range of 1-20 because IDs get recycled\n * when touches end and start again.\n */\n\nconst MAX_TOUCH_BANK = 20\n\nfunction timestampForTouch(touch: Touch): number {\n  // The legacy internal implementation provides \"timeStamp\", which has been\n  // renamed to \"timestamp\".\n  return touch['timeStamp'] || touch.timestamp\n}\n\n/**\n * TODO: Instead of making gestures recompute filtered velocity, we could\n * include a built in velocity computation that can be reused globally.\n */\nfunction createTouchRecord(touch: Touch): TouchRecord {\n  return {\n    touchActive: true,\n    startPageX: touch.pageX,\n    startPageY: touch.pageY,\n    startTimeStamp: timestampForTouch(touch),\n    currentPageX: touch.pageX,\n    currentPageY: touch.pageY,\n    currentTimeStamp: timestampForTouch(touch),\n    previousPageX: touch.pageX,\n    previousPageY: touch.pageY,\n    previousTimeStamp: timestampForTouch(touch),\n  }\n}\n\nfunction resetTouchRecord(touchRecord: TouchRecord, touch: Touch): void {\n  touchRecord.touchActive = true\n  touchRecord.startPageX = touch.pageX\n  touchRecord.startPageY = touch.pageY\n  touchRecord.startTimeStamp = timestampForTouch(touch)\n  touchRecord.currentPageX = touch.pageX\n  touchRecord.currentPageY = touch.pageY\n  touchRecord.currentTimeStamp = timestampForTouch(touch)\n  touchRecord.previousPageX = touch.pageX\n  touchRecord.previousPageY = touch.pageY\n  touchRecord.previousTimeStamp = timestampForTouch(touch)\n}\n\nfunction getTouchIdentifier({ identifier }: Touch): number {\n  if (identifier == null) {\n    console.error('Touch object is missing identifier.')\n  }\n  if (process.env.NODE_ENV === 'development') {\n    if (identifier > MAX_TOUCH_BANK) {\n      console.error(\n        'Touch identifier %s is greater than maximum supported %s which causes ' +\n          'performance issues backfilling array locations for all of the indices.',\n        identifier,\n        MAX_TOUCH_BANK\n      )\n    }\n  }\n  return identifier\n}\n\nfunction recordTouchStart(touch: Touch, touchHistory): void {\n  const identifier = getTouchIdentifier(touch)\n  const touchRecord = touchHistory.touchBank[identifier]\n  if (touchRecord) {\n    resetTouchRecord(touchRecord, touch)\n  } else {\n    touchHistory.touchBank[identifier] = createTouchRecord(touch)\n  }\n  touchHistory.mostRecentTimeStamp = timestampForTouch(touch)\n}\n\nfunction recordTouchMove(touch: Touch, touchHistory): void {\n  const touchRecord = touchHistory.touchBank[getTouchIdentifier(touch)]\n  if (touchRecord) {\n    touchRecord.touchActive = true\n    touchRecord.previousPageX = touchRecord.currentPageX\n    touchRecord.previousPageY = touchRecord.currentPageY\n    touchRecord.previousTimeStamp = touchRecord.currentTimeStamp\n    touchRecord.currentPageX = touch.pageX\n    touchRecord.currentPageY = touch.pageY\n    touchRecord.currentTimeStamp = timestampForTouch(touch)\n    touchHistory.mostRecentTimeStamp = timestampForTouch(touch)\n  } else {\n    console.warn(\n      'Cannot record touch move without a touch start.\\n',\n      `Touch Move: ${printTouch(touch)}\\n`,\n      `Touch Bank: ${printTouchBank(touchHistory)}`\n    )\n  }\n}\n\nfunction recordTouchEnd(touch: Touch, touchHistory): void {\n  const touchRecord = touchHistory.touchBank[getTouchIdentifier(touch)]\n  if (touchRecord) {\n    touchRecord.touchActive = false\n    touchRecord.previousPageX = touchRecord.currentPageX\n    touchRecord.previousPageY = touchRecord.currentPageY\n    touchRecord.previousTimeStamp = touchRecord.currentTimeStamp\n    touchRecord.currentPageX = touch.pageX\n    touchRecord.currentPageY = touch.pageY\n    touchRecord.currentTimeStamp = timestampForTouch(touch)\n    touchHistory.mostRecentTimeStamp = timestampForTouch(touch)\n  } else {\n    console.warn(\n      'Cannot record touch end without a touch start.\\n',\n      `Touch End: ${printTouch(touch)}\\n`,\n      `Touch Bank: ${printTouchBank(touchHistory)}`\n    )\n  }\n}\n\nfunction printTouch(touch: Touch): string {\n  return JSON.stringify({\n    identifier: touch.identifier,\n    pageX: touch.pageX,\n    pageY: touch.pageY,\n    timestamp: timestampForTouch(touch),\n  })\n}\n\nfunction printTouchBank(touchHistory): string {\n  const { touchBank } = touchHistory\n  let printed = JSON.stringify(touchBank.slice(0, MAX_TOUCH_BANK))\n  if (touchBank.length > MAX_TOUCH_BANK) {\n    printed += ` (original size: ${touchBank.length})`\n  }\n  return printed\n}\n", "/**\n * Copyright (c) Nicolas Gallagher\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport type { ResponderEvent } from './createResponderEvent'\nimport { createResponderEvent } from './createResponderEvent'\nimport { ResponderTouchHistoryStore } from './ResponderTouchHistoryStore'\nimport {\n  isCancelish,\n  isEndish,\n  isMoveish,\n  isScroll,\n  isSelectionChange,\n  isStartish,\n} from './types'\nimport { canUseDOM } from './utils'\nimport {\n  getLowestCommonAncestor,\n  getResponderPaths,\n  hasTargetTouches,\n  hasValidSelection,\n  isPrimaryPointerDown,\n  setResponderId,\n} from './utils'\n\n/* ------------ TYPES ------------ */\n\ntype ResponderId = string\n\ntype ActiveResponderInstance = {\n  id: ResponderId\n  idPath: Array<number>\n  node: any\n}\n\ntype EmptyResponderInstance = {\n  id: null\n  idPath: null\n  node: null\n}\n\ntype ResponderInstance = ActiveResponderInstance | EmptyResponderInstance\n\nexport type ResponderConfig = {\n  // Direct responder events dispatched directly to responder. Do not bubble.\n  onResponderEnd?: ((e: ResponderEvent) => void) | null\n  onResponderGrant?: ((e: ResponderEvent) => void | boolean) | null\n  onResponderMove?: ((e: ResponderEvent) => void) | null\n  onResponderRelease?: ((e: ResponderEvent) => void) | null\n  onResponderReject?: ((e: ResponderEvent) => void) | null\n  onResponderStart?: ((e: ResponderEvent) => void) | null\n  onResponderTerminate?: ((e: ResponderEvent) => void) | null\n  onResponderTerminationRequest?: ((e: ResponderEvent) => boolean) | null\n  // On pointer down, should this element become the responder?\n  onStartShouldSetResponder?: ((e: ResponderEvent) => boolean) | null\n  onStartShouldSetResponderCapture?: ((e: ResponderEvent) => boolean) | null\n  // On pointer move, should this element become the responder?\n  onMoveShouldSetResponder?: ((e: ResponderEvent) => boolean) | null\n  onMoveShouldSetResponderCapture?: ((e: ResponderEvent) => boolean) | null\n  // On scroll, should this element become the responder? Do no bubble\n  onScrollShouldSetResponder?: ((e: ResponderEvent) => boolean) | null\n  onScrollShouldSetResponderCapture?: ((e: ResponderEvent) => boolean) | null\n  // On text selection change, should this element become the responder?\n  onSelectionChangeShouldSetResponder?: ((e: ResponderEvent) => boolean) | null\n  onSelectionChangeShouldSetResponderCapture?: ((e: ResponderEvent) => boolean) | null\n}\n\nconst emptyObject = {}\n\n/* ------------ IMPLEMENTATION ------------ */\n\nconst startRegistration = [\n  'onStartShouldSetResponderCapture',\n  'onStartShouldSetResponder',\n  { bubbles: true },\n]\nconst moveRegistration = [\n  'onMoveShouldSetResponderCapture',\n  'onMoveShouldSetResponder',\n  { bubbles: true },\n]\nconst scrollRegistration = [\n  'onScrollShouldSetResponderCapture',\n  'onScrollShouldSetResponder',\n  { bubbles: false },\n]\nconst shouldSetResponderEvents = {\n  touchstart: startRegistration,\n  mousedown: startRegistration,\n  touchmove: moveRegistration,\n  mousemove: moveRegistration,\n  scroll: scrollRegistration,\n}\n\nconst emptyResponder = { id: null, idPath: null, node: null }\nconst responderListenersMap = new Map()\n\nlet isEmulatingMouseEvents = false\nlet trackedTouchCount = 0\nlet currentResponder: ResponderInstance = {\n  id: null,\n  node: null,\n  idPath: null,\n}\nconst responderTouchHistoryStore = new ResponderTouchHistoryStore()\n\nfunction changeCurrentResponder(responder: ResponderInstance) {\n  currentResponder = responder\n}\n\nfunction getResponderConfig(id: ResponderId): ResponderConfig | any {\n  const config = responderListenersMap.get(id)\n  return config != null ? config : emptyObject\n}\n\n/**\n * Process native events\n *\n * A single event listener is used to manage the responder system.\n * All pointers are tracked in the ResponderTouchHistoryStore. Native events\n * are interpreted in terms of the Responder System and checked to see if\n * the responder should be transferred. Each host node that is attached to\n * the Responder System has an ID, which is used to look up its associated\n * callbacks.\n */\nfunction eventListener(domEvent: any) {\n  const eventType = domEvent.type\n  const eventTarget = domEvent.target\n\n  /**\n   * Manage emulated events and early bailout.\n   * Since PointerEvent is not used yet (lack of support in older Safari), it's\n   * necessary to manually manage the mess of browser touch/mouse events.\n   * And bailout early for termination events when there is no active responder.\n   */\n\n  // Flag when browser may produce emulated events\n  if (eventType === 'touchstart') {\n    isEmulatingMouseEvents = true\n  }\n  // Remove flag when browser will not produce emulated events\n  if (eventType === 'touchmove' || trackedTouchCount > 1) {\n    isEmulatingMouseEvents = false\n  }\n  // Ignore various events in particular circumstances\n  if (\n    // Ignore browser emulated mouse events\n    (eventType === 'mousedown' && isEmulatingMouseEvents) ||\n    (eventType === 'mousemove' && isEmulatingMouseEvents) ||\n    // Ignore mousemove if a mousedown didn't occur first\n    (eventType === 'mousemove' && trackedTouchCount < 1)\n  ) {\n    return\n  }\n  // Remove flag after emulated events are finished\n  if (isEmulatingMouseEvents && eventType === 'mouseup') {\n    if (trackedTouchCount === 0) {\n      isEmulatingMouseEvents = false\n    }\n    return\n  }\n\n  const isStartEvent = isStartish(eventType) && isPrimaryPointerDown(domEvent)\n  const isMoveEvent = isMoveish(eventType)\n  const isEndEvent = isEndish(eventType)\n  const isScrollEvent = isScroll(eventType)\n  const isSelectionChangeEvent = isSelectionChange(eventType)\n  const responderEvent = createResponderEvent(domEvent, responderTouchHistoryStore)\n\n  /**\n   * Record the state of active pointers\n   */\n\n  if (isStartEvent || isMoveEvent || isEndEvent) {\n    if (domEvent.touches) {\n      trackedTouchCount = domEvent.touches.length\n    } else {\n      if (isStartEvent) {\n        trackedTouchCount = 1\n      } else if (isEndEvent) {\n        trackedTouchCount = 0\n      }\n    }\n    responderTouchHistoryStore.recordTouchTrack(\n      eventType,\n      responderEvent.nativeEvent as any\n    )\n  }\n\n  /**\n   * Responder System logic\n   */\n\n  let eventPaths: any = getResponderPaths(domEvent)\n  let wasNegotiated = false\n  let wantsResponder\n\n  // If an event occured that might change the current responder...\n  if (isStartEvent || isMoveEvent || (isScrollEvent && trackedTouchCount > 0)) {\n    // If there is already a responder, prune the event paths to the lowest common ancestor\n    // of the existing responder and deepest target of the event.\n    const currentResponderIdPath = currentResponder.idPath\n    const eventIdPath = eventPaths.idPath\n\n    if (currentResponderIdPath != null && eventIdPath != null) {\n      const lowestCommonAncestor = getLowestCommonAncestor(\n        currentResponderIdPath,\n        eventIdPath\n      )\n      if (lowestCommonAncestor != null) {\n        const indexOfLowestCommonAncestor = eventIdPath.indexOf(lowestCommonAncestor)\n        // Skip the current responder so it doesn't receive unexpected \"shouldSet\" events.\n        const index =\n          indexOfLowestCommonAncestor +\n          (lowestCommonAncestor === currentResponder.id ? 1 : 0)\n        eventPaths = {\n          idPath: eventIdPath.slice(index),\n          nodePath: eventPaths.nodePath.slice(index),\n        }\n      } else {\n        eventPaths = null\n      }\n    }\n\n    if (eventPaths != null) {\n      // If a node wants to become the responder, attempt to transfer.\n      wantsResponder = findWantsResponder(eventPaths, domEvent, responderEvent)\n      if (wantsResponder != null) {\n        // Sets responder if none exists, or negotates with existing responder.\n        attemptTransfer(responderEvent, wantsResponder)\n        wasNegotiated = true\n      }\n    }\n  }\n\n  // If there is now a responder, invoke its callbacks for the lifecycle of the gesture.\n  if (currentResponder.id != null && currentResponder.node != null) {\n    const { id, node } = currentResponder\n    const {\n      onResponderStart,\n      onResponderMove,\n      onResponderEnd,\n      onResponderRelease,\n      onResponderTerminate,\n      onResponderTerminationRequest,\n    } = getResponderConfig(id)\n\n    responderEvent.bubbles = false\n    responderEvent.cancelable = false\n    responderEvent.currentTarget = node\n\n    // Start\n    if (isStartEvent) {\n      if (onResponderStart != null) {\n        responderEvent.dispatchConfig.registrationName = 'onResponderStart'\n        onResponderStart(responderEvent)\n      }\n    }\n    // Move\n    else if (isMoveEvent) {\n      if (onResponderMove != null) {\n        responderEvent.dispatchConfig.registrationName = 'onResponderMove'\n        onResponderMove(responderEvent)\n      }\n    } else {\n      const isTerminateEvent =\n        isCancelish(eventType) ||\n        // native context menu\n        eventType === 'contextmenu' ||\n        // window blur\n        (eventType === 'blur' && eventTarget === window) ||\n        // responder (or ancestors) blur\n        (eventType === 'blur' &&\n          eventTarget.contains(node) &&\n          domEvent.relatedTarget !== node) ||\n        // native scroll without using a pointer\n        (isScrollEvent && trackedTouchCount === 0) ||\n        // native scroll on node that is parent of the responder (allow siblings to scroll)\n        (isScrollEvent && eventTarget.contains(node) && eventTarget !== node) ||\n        // native select/selectionchange on node\n        (isSelectionChangeEvent && hasValidSelection(domEvent))\n\n      const isReleaseEvent =\n        isEndEvent && !isTerminateEvent && !hasTargetTouches(node, domEvent.touches)\n\n      // End\n      if (isEndEvent) {\n        if (onResponderEnd != null) {\n          responderEvent.dispatchConfig.registrationName = 'onResponderEnd'\n          onResponderEnd(responderEvent)\n        }\n      }\n      // Release\n      if (isReleaseEvent) {\n        if (onResponderRelease != null) {\n          responderEvent.dispatchConfig.registrationName = 'onResponderRelease'\n          onResponderRelease(responderEvent)\n        }\n        changeCurrentResponder(emptyResponder)\n      }\n      // Terminate\n      if (isTerminateEvent) {\n        let shouldTerminate = true\n\n        // Responders can still avoid termination but only for these events.\n        if (\n          eventType === 'contextmenu' ||\n          eventType === 'scroll' ||\n          eventType === 'selectionchange'\n        ) {\n          // Only call this function is it wasn't already called during negotiation.\n          if (wasNegotiated) {\n            shouldTerminate = false\n          } else if (onResponderTerminationRequest != null) {\n            responderEvent.dispatchConfig.registrationName =\n              'onResponderTerminationRequest'\n            if (onResponderTerminationRequest(responderEvent) === false) {\n              shouldTerminate = false\n            }\n          }\n        }\n\n        if (shouldTerminate) {\n          if (onResponderTerminate != null) {\n            responderEvent.dispatchConfig.registrationName = 'onResponderTerminate'\n            onResponderTerminate(responderEvent)\n          }\n          changeCurrentResponder(emptyResponder)\n          isEmulatingMouseEvents = false\n          trackedTouchCount = 0\n        }\n      }\n    }\n  }\n}\n\n/**\n * Walk the event path to/from the target node. At each node, stop and call the\n * relevant \"shouldSet\" functions for the given event type. If any of those functions\n * call \"stopPropagation\" on the event, stop searching for a responder.\n */\nfunction findWantsResponder(eventPaths, domEvent, responderEvent) {\n  const shouldSetCallbacks = shouldSetResponderEvents[domEvent.type as any] // for Flow\n\n  if (shouldSetCallbacks != null) {\n    const { idPath, nodePath } = eventPaths\n\n    const shouldSetCallbackCaptureName = shouldSetCallbacks[0]\n    const shouldSetCallbackBubbleName = shouldSetCallbacks[1]\n    const { bubbles } = shouldSetCallbacks[2]\n\n    const check = (id, node, callbackName) => {\n      const config = getResponderConfig(id)\n      const shouldSetCallback = config[callbackName]\n      if (shouldSetCallback != null) {\n        responderEvent.currentTarget = node\n        if (shouldSetCallback(responderEvent) === true) {\n          // Start the path from the potential responder\n          const prunedIdPath = idPath.slice(idPath.indexOf(id))\n          return { id, node, idPath: prunedIdPath }\n        }\n      }\n    }\n\n    // capture\n    for (let i = idPath.length - 1; i >= 0; i--) {\n      const id = idPath[i]\n      const node = nodePath[i]\n      const result = check(id, node, shouldSetCallbackCaptureName)\n      if (result != null) {\n        return result\n      }\n      if (responderEvent.isPropagationStopped() === true) {\n        return\n      }\n    }\n\n    // bubble\n    if (bubbles) {\n      for (let i = 0; i < idPath.length; i++) {\n        const id = idPath[i]\n        const node = nodePath[i]\n        const result = check(id, node, shouldSetCallbackBubbleName)\n        if (result != null) {\n          return result\n        }\n        if (responderEvent.isPropagationStopped() === true) {\n          return\n        }\n      }\n    } else {\n      const id = idPath[0]\n      const node = nodePath[0]\n      const target = domEvent.target\n      if (target === node) {\n        return check(id, node, shouldSetCallbackBubbleName)\n      }\n    }\n  }\n}\n\n/**\n * Attempt to transfer the responder.\n */\nfunction attemptTransfer(\n  responderEvent: ResponderEvent,\n  wantsResponder: ActiveResponderInstance\n) {\n  const { id: currentId, node: currentNode } = currentResponder\n  const { id, node } = wantsResponder\n\n  const { onResponderGrant, onResponderReject } = getResponderConfig(id)\n\n  responderEvent.bubbles = false\n  responderEvent.cancelable = false\n  responderEvent.currentTarget = node\n\n  // Set responder\n  if (currentId == null) {\n    if (onResponderGrant != null) {\n      responderEvent.currentTarget = node\n      responderEvent.dispatchConfig.registrationName = 'onResponderGrant'\n      onResponderGrant(responderEvent)\n    }\n    changeCurrentResponder(wantsResponder)\n  }\n  // Negotiate with current responder\n  else {\n    const { onResponderTerminate, onResponderTerminationRequest } =\n      getResponderConfig(currentId)\n\n    let allowTransfer = true\n    if (onResponderTerminationRequest != null) {\n      responderEvent.currentTarget = currentNode\n      responderEvent.dispatchConfig.registrationName = 'onResponderTerminationRequest'\n      if (onResponderTerminationRequest(responderEvent) === false) {\n        allowTransfer = false\n      }\n    }\n\n    if (allowTransfer) {\n      // Terminate existing responder\n      if (onResponderTerminate != null) {\n        responderEvent.currentTarget = currentNode\n        responderEvent.dispatchConfig.registrationName = 'onResponderTerminate'\n        onResponderTerminate(responderEvent)\n      }\n      // Grant next responder\n      if (onResponderGrant != null) {\n        responderEvent.currentTarget = node\n        responderEvent.dispatchConfig.registrationName = 'onResponderGrant'\n        onResponderGrant(responderEvent)\n      }\n      changeCurrentResponder(wantsResponder)\n    } else {\n      // Reject responder request\n      if (onResponderReject != null) {\n        responderEvent.currentTarget = node\n        responderEvent.dispatchConfig.registrationName = 'onResponderReject'\n        onResponderReject(responderEvent)\n      }\n    }\n  }\n}\n\n/* ------------ PUBLIC API ------------ */\n\n/**\n * Attach Listeners\n *\n * Use native events as ReactDOM doesn't have a non-plugin API to implement\n * this system.\n */\nconst documentEventsCapturePhase = ['blur', 'scroll']\nconst documentEventsBubblePhase = [\n  // mouse\n  'mousedown',\n  'mousemove',\n  'mouseup',\n  'dragstart',\n  // touch\n  'touchstart',\n  'touchmove',\n  'touchend',\n  'touchcancel',\n  // other\n  'contextmenu',\n  'select',\n  'selectionchange',\n]\n\nconst isTamaguiResponderActive = Symbol()\n\nexport function attachListeners() {\n  if (canUseDOM && !window[isTamaguiResponderActive]) {\n    window.addEventListener('blur', eventListener)\n    documentEventsBubblePhase.forEach((eventType) => {\n      document.addEventListener(eventType, eventListener)\n    })\n    documentEventsCapturePhase.forEach((eventType) => {\n      document.addEventListener(eventType, eventListener, true)\n    })\n    window[isTamaguiResponderActive] = true\n  }\n}\n\n/**\n * Register a node with the ResponderSystem.\n */\nexport function addNode(id: ResponderId, node: any, config: ResponderConfig) {\n  setResponderId(node, id)\n  responderListenersMap.set(id, config)\n}\n\n/**\n * Unregister a node with the ResponderSystem.\n */\nexport function removeNode(id: ResponderId) {\n  if (currentResponder.id === id) {\n    terminateResponder()\n  }\n  if (responderListenersMap.has(id)) {\n    responderListenersMap.delete(id)\n  }\n}\n\n/**\n * Allow the current responder to be terminated from within components to support\n * more complex requirements, such as use with other React libraries for working\n * with scroll views, input views, etc.\n */\nexport function terminateResponder() {\n  const { id, node } = currentResponder\n  if (id != null && node != null) {\n    const { onResponderTerminate } = getResponderConfig(id)\n    if (onResponderTerminate != null) {\n      const event = createResponderEvent({}, responderTouchHistoryStore)\n      event.currentTarget = node\n      onResponderTerminate(event)\n    }\n    changeCurrentResponder(emptyResponder)\n  }\n  isEmulatingMouseEvents = false\n  trackedTouchCount = 0\n}\n\n/**\n * Allow unit tests to inspect the current responder in the system.\n * FOR TESTING ONLY.\n */\nexport function getResponderNode(): any {\n  return currentResponder.node\n}\n", "export function getBaseViews() {\n  // empty\n  return null as any\n}\n", "// re-exports all of @tamagui/web just adds hooks\nexport * from '@tamagui/web'\n\nimport { createMedia } from '@tamagui/react-native-media-driver'\nimport { useResponderEvents } from '@tamagui/react-native-use-responder-events'\nimport {\n  createMeasure,\n  createMeasureInWindow,\n  createMeasureLayout,\n  enable,\n  useElementLayout,\n} from '@tamagui/use-element-layout'\nimport type {\n  StackNonStyleProps,\n  StackStyleBase,\n  TamaDefer,\n  TamaguiComponent,\n  TamaguiElement,\n  TamaguiProviderProps,\n  TamaguiTextElement,\n  TextNonStyleProps,\n  TextProps,\n  TextStylePropsBase,\n} from '@tamagui/web'\nimport {\n  Stack as WebStack,\n  TamaguiProvider as WebTamaguiProvider,\n  Text as WebText,\n  View as WebView,\n  composeEventHandlers,\n  createTamagui as createTamaguiWeb,\n  setupHooks,\n  useIsomorphicLayoutEffect,\n} from '@tamagui/web'\nimport { createOptimizedView } from './createOptimizedView'\nimport { getBaseViews } from './getBaseViews'\nimport type { RNTextProps, RNViewProps } from './reactNativeTypes'\nimport { usePressability } from './vendor/Pressability'\n\n// helpful for usage outside of tamagui\nexport {\n  LayoutMeasurementController,\n  setOnLayoutStrategy,\n  type LayoutEvent,\n} from '@tamagui/use-element-layout'\n\n// adds extra types to View/Stack/Text:\n\ntype RNExclusiveViewProps = Omit<RNViewProps, keyof StackNonStyleProps>\nexport interface RNTamaguiViewNonStyleProps\n  extends StackNonStyleProps,\n    RNExclusiveViewProps {}\n\ntype RNTamaguiView = TamaguiComponent<\n  TamaDefer,\n  TamaguiElement,\n  RNTamaguiViewNonStyleProps,\n  StackStyleBase,\n  {}\n>\n\ntype RNExclusiveTextProps = Omit<RNTextProps, keyof TextProps>\nexport interface RNTamaguiTextNonStyleProps\n  extends TextNonStyleProps,\n    RNExclusiveTextProps {}\n\ntype RNTamaguiText = TamaguiComponent<\n  TamaDefer,\n  TamaguiTextElement,\n  RNTamaguiTextNonStyleProps,\n  TextStylePropsBase,\n  {}\n>\n\n// fixes issues with TS saying internal type usage is breaking\n// see https://discord.com/channels/909986013848412191/1146150253490348112/1146150253490348112\nexport * from './reactNativeTypes'\n\n// adds useElementLayout enable\nexport const TamaguiProvider = (props: TamaguiProviderProps) => {\n  useIsomorphicLayoutEffect(() => {\n    enable()\n  }, [])\n\n  return <WebTamaguiProvider {...props} />\n}\n\n// automate using the react native media driver\nexport const createTamagui: typeof createTamaguiWeb = (conf) => {\n  if (process.env.TAMAGUI_TARGET === 'native') {\n    if (conf.media) {\n      conf.media = createMedia(conf.media)\n    }\n  }\n  return createTamaguiWeb(conf)\n}\n\nconst baseViews = getBaseViews()\n\n// setup internal hooks:\n\nsetupHooks({\n  getBaseViews,\n\n  setElementProps: (node) => {\n    if (process.env.TAMAGUI_TARGET === 'web') {\n      // web only\n      if (node && !node['measure']) {\n        node.measure ||= createMeasure(node)\n        node.measureInWindow ||= createMeasureInWindow(node)\n        node.measureLayout ||= createMeasureLayout(node)\n      }\n    }\n  },\n\n  usePropsTransform(elementType, propsIn, stateRef, willHydrate) {\n    if (process.env.TAMAGUI_TARGET === 'web') {\n      const isDOM = typeof elementType === 'string'\n\n      // replicate react-native-web functionality\n      const {\n        // remove event props handles by useResponderEvents\n        onMoveShouldSetResponder,\n        onMoveShouldSetResponderCapture,\n        onResponderEnd,\n        onResponderGrant,\n        onResponderMove,\n        onResponderReject,\n        onResponderRelease,\n        onResponderStart,\n        onResponderTerminate,\n        onResponderTerminationRequest,\n        onScrollShouldSetResponder,\n        onScrollShouldSetResponderCapture,\n        onSelectionChangeShouldSetResponder,\n        onSelectionChangeShouldSetResponderCapture,\n        onStartShouldSetResponder,\n        onStartShouldSetResponderCapture,\n\n        // android\n        collapsable,\n        focusable,\n\n        // deprecated,\n        accessible,\n        accessibilityDisabled,\n\n        onLayout,\n        hrefAttrs,\n\n        ...plainDOMProps\n      } = propsIn\n\n      if (willHydrate || isDOM) {\n        useElementLayout(stateRef, !isDOM ? undefined : (onLayout as any))\n        useResponderEvents(stateRef, !isDOM ? undefined : propsIn)\n      }\n\n      if (isDOM) {\n        // TODO move into getSplitStyles\n        if (plainDOMProps.href && hrefAttrs) {\n          const { download, rel, target } = hrefAttrs\n          if (download != null) {\n            plainDOMProps.download = download\n          }\n          if (rel) {\n            plainDOMProps.rel = rel\n          }\n          if (typeof target === 'string') {\n            plainDOMProps.target = target.charAt(0) !== '_' ? `_${target}` : target\n          }\n        }\n        return plainDOMProps\n      }\n    }\n  },\n\n  useEvents(viewProps, events, splitStyles, setStateShallow, staticConfig) {\n    if (process.env.TAMAGUI_TARGET === 'native') {\n      if (events) {\n        if (events.onFocus) {\n          viewProps['onFocus'] = events.onFocus\n        }\n        if (events.onBlur) {\n          viewProps['onBlur'] = events.onBlur\n        }\n      }\n\n      if (staticConfig.isInput) {\n        if (events) {\n          const { onPressIn, onPressOut, onPress } = events\n          const inputEvents = {\n            onPressIn,\n            onPressOut: onPressOut || onPress,\n          }\n          if (onPressOut && onPress) {\n            // only supports onPressIn and onPressOut so combine them\n            inputEvents.onPressOut = composeEventHandlers(onPress, onPressOut)\n          }\n          Object.assign(viewProps, inputEvents)\n        }\n      } else {\n        // use Pressability to get smooth unPress when you press + hold + move out\n        // only ever create once, use .configure() to update later\n        if (events && viewProps.hitSlop) {\n          events.hitSlop = viewProps.hitSlop\n        }\n\n        // note we do events checks more than we should because we need this hook to always run\n        const pressability = usePressability(events)\n\n        if (events) {\n          if (process.env.NODE_ENV === 'development') {\n            if (viewProps['debug']) {\n              console.info(\n                `Checking for press ${!!events.onPress} then applying pressability props: ${Object.keys(\n                  pressability || {}\n                )}`\n              )\n            }\n          }\n\n          if (events.onPress) {\n            for (const key in pressability) {\n              const og = viewProps[key]\n              const val = pressability[key]\n              viewProps[key] =\n                og && !dontComposePressabilityKeys[key]\n                  ? composeEventHandlers(og, val)\n                  : val\n            }\n          }\n        }\n      }\n    }\n  },\n\n  // attempt at properly fixing RN input, but <Pressable><TextInput /> just doesnt work on RN\n  ...(process.env.TAMAGUI_TARGET === 'native' && {\n    useChildren(elementType, children, viewProps) {\n      if (process.env.NODE_ENV === 'test') {\n        // test mode - just use regular views since optimizations cause weirdness\n        return\n      }\n\n      if (elementType === baseViews.View && baseViews.TextAncestor) {\n        // optimize view\n        return createOptimizedView(children, viewProps, baseViews)\n      }\n    },\n  }),\n})\n\nconst dontComposePressabilityKeys = {\n  onClick: true,\n}\n\n// overwrite web versions:\n// putting at the end ensures it overwrites in dist/cjs/index.js\nexport const View = WebView as any as RNTamaguiView\nexport const Stack = WebStack as any as RNTamaguiView\nexport const Text = WebText as any as RNTamaguiText\n\n// easily test type declaration output and if it gets messy:\n\n// export const X = styled(WebView, {\n//   variants: {\n//     abc: {\n//       true: {},\n//     },\n//   } as const,\n// })\n\n// export const Y = styled(X, {\n//   variants: {\n//     zys: {\n//       true: {},\n//     },\n//   } as const,\n// })\n\n// export const Z = styled(Y, {\n//   variants: {\n//     xxx: {\n//       true: {},\n//     },\n//   } as const,\n// })\n\n// export const A = styled(Z, {\n//   variants: {} as const,\n// })\n\n// const zz = <A />\n\n// const variants = {\n//   fullscreen: {\n//     true: {},\n//   },\n//   elevation: {\n//     '...size': () => ({}),\n//     ':number': () => ({}),\n//   },\n// } as const\n\n// export const YStack = styled(View, {\n//   flexDirection: 'column',\n//   variants,\n// })\n\n// import { TextInput } from 'react-native'\n// export const InputFrame = styled(\n//   TextInput,\n//   {\n//     name: 'Input',\n//     backgroundColor: 'green',\n\n//     variants: {\n//       // unstyled: {\n//       //   false: {},\n//       // },\n\n//       size: {\n//         '...size': () => ({}),\n//       },\n\n//       // disabled: {\n//       //   ':boolean': () => ({})\n//       // },\n//     } as const,\n\n//     // defaultVariants: {\n//     //   unstyled: process.env.TAMAGUI_HEADLESS === '1' ? true : false,\n//     // },\n//   },\n//   {\n//     isText: true,\n//     accept: {\n//       placeholderTextColor: 'color',\n//     },\n//   }\n// )\n\n// export const StyledInputFrame = styled(InputFrame, {\n//   fontSize: 16,\n//   fontFamily: '$silkscreen',\n//   color: '$color5',\n//   minWidth: 0,\n//   borderWidth: 0,\n//   borderColor: 'transparent',\n\n//   variants: {\n//     unset: {\n//       false: {\n//         borderWidth: 2,\n//         py: 12,\n//         px: 14,\n//         borderRadius: 6,\n//         bg: '$color3',\n//         focusStyle: {\n//           bg: '$color4',\n//           margin: 0,\n//         },\n//       },\n//     },\n//   } as const,\n\n//   defaultVariants: {\n//     unset: false,\n//   },\n// })\n\n// export const StyledStyledInputFrame = styled(\n//   StyledInputFrame,\n//   {\n//     fontSize: 16,\n//     fontFamily: '$silkscreen',\n//     color: '$color5',\n//     minWidth: 0,\n//     borderWidth: 0,\n//     borderColor: 'transparent',\n\n//     variants: {\n//       unset: {\n//         false: {\n//           borderWidth: 2,\n//           py: 12,\n//           px: 14,\n//           borderRadius: 6,\n//           bg: '$color3',\n//           focusStyle: {\n//             bg: '$color4',\n//             margin: 0,\n//           },\n//         },\n//       },\n//     } as const,\n\n//     defaultVariants: {\n//       unset: false,\n//     },\n//   },\n//   {\n//     inlineProps: new Set(['id', 'testID']),\n//   }\n// )\n// export const DepthTest = () => <StyledStyledInputFrame placeholder=\"\" />\n"],
  "mappings": "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",
  "names": ["normalizeColor", "esm_exports", "timer", "runs", "typesOfRuns", "Set", "timings", "print", "typeRuns", "size", "totalTime", "out", "map", "name", "endsWith", "avg", "slice", "padEnd", "total", "padStart", "join", "console", "info", "start", "opts", "quiet", "time", "strings", "vars", "elapsed", "performance", "now", "tag", "templateToString", "add", "result", "forEach", "str", "i", "length", "profile", "reduce", "pseudoDescriptorsBase", "hoverStyle", "name", "priority", "pressStyle", "stateKey", "focusVisibleStyle", "focusStyle", "focusWithinStyle", "disabledStyle", "pseudoPriorities", "hover", "press", "focus", "focusVisible", "focusWithin", "disabled", "pseudoDescriptors", "enterStyle", "selector", "exitStyle", "defaultMediaImportance", "Object", "keys", "length", "mergeProps", "defaultProps", "props", "out", "key", "mergeProp", "mergeComponentProps", "contextProps", "overriddenContext", "contextValue", "val", "pseudoDescriptors", "defaultVal", "objectIdentityKey", "obj", "k", "key", "arg", "type", "cache", "has", "get", "v", "Math", "random", "set", "WeakMap", "createReactContext", "React", "Math", "random", "createStyledContext", "defaultValues", "namespace", "OGContext", "OGProvider", "Provider", "Context", "scopedContexts", "Map", "LastScopeInNamespace", "getOrCreateScopedContext", "scope", "ScopedContext", "get", "set", "getNamespacedScope", "children", "scopeIn", "__disableMergeDefaultValues", "values", "next", "useMemo", "mergeProps", "objectIdentityKey", "ScopedProvider", "jsx", "value", "useStyledContext", "lastScopeInNamespace", "useContext", "context", "props", "import_react", "ComponentContext", "createStyledContext", "disableSSR", "inText", "language", "animationDriver", "setParentFocusState", "useConfiguration", "useContext", "import_react", "GroupContext", "createContext", "import_react", "IS_REACT_19", "React", "use", "isWeb", "isWindowDefined", "window", "isServer", "isClient", "useIsomorphicLayoutEffect", "useEffect", "useLayoutEffect", "isChrome", "navigator", "test", "userAgent", "isWebTouchable", "maxTouchPoints", "isTouchable", "isAndroid", "isIos", "process", "env", "TEST_NATIVE_PLATFORM", "currentPlatform", "THEME_CLASSNAME_PREFIX", "FONT_DATA_ATTRIBUTE_NAME", "stackDefaultStyles", "webViewFlexCompatStyles", "display", "alignItems", "flexDirection", "flexBasis", "boxSizing", "position", "process", "env", "TAMAGUI_POSITION_STATIC", "minHeight", "minWidth", "flexShrink", "Object", "assign", "MISSING_THEME_MESSAGE", "conf", "setConfigCalledByThisInstance", "haventCalledErrorMessage", "process", "MISSING_THEME_MESSAGE", "getConfigFromGlobalOrLocal", "globalThis", "__tamaguiConfig", "__tamaguiHasWarnedGlobalFallback", "__tamaguiPendingCheck", "setTimeout", "console", "warn", "getSetting", "key", "config", "Error", "settings", "setConfig", "next", "setConfigFont", "name", "font", "fontParsed", "fonts", "fontsParsed", "getConfig", "getConfigMaybe", "tokensMerged", "setTokens", "_", "getTokens", "prefixed", "tokens", "tokensParsed", "getTokenObject", "value", "group", "specificTokens", "Object", "keys", "find", "cat", "getToken", "useVariable", "isWeb", "token", "variable", "val", "getTokenValue", "getThemes", "getConfigFromGlobalOrLocal", "themes", "configListeners", "Set", "onConfiguredOnce", "cb", "config", "add", "updateConfig", "key", "value", "Object", "assign", "devConfig", "setupDev", "conf2", "process", "matchMedia", "window", "matchMediaFallback", "_", "match", "a", "b", "addListener", "removeListener", "matches", "setupMatchMedia", "import_react", "mediaState", "process", "Proxy", "get", "target", "key", "Error", "Reflect", "mediaQueryConfig", "getMedia", "mediaKeys", "Set", "mediaKeyRegex", "isMediaKey", "has", "test", "getMediaKey", "match", "initState", "mediaKeysOrdered", "getMediaKeyImportance", "getConfig", "settings", "mediaPropOrder", "defaultMediaImportance", "indexOf", "dispose", "mediaVersion", "configureMedia", "config", "media", "mediaQueryDefaultActive", "getSetting", "add", "Object", "assign", "keys", "setupMediaListeners", "unlisten", "forEach", "cb", "clear", "setupVersion", "isWeb", "isServer", "env", "IS_STATIC", "update", "next", "getMatch", "matches", "updateMediaListeners", "str", "mediaObjectToString", "matchMedia", "addListener", "removeListener", "listeners", "States", "WeakMap", "setMediaShouldUpdate", "ref", "enabled", "cur", "set", "subscribe", "subscriber", "delete", "useMedia", "componentContext", "debug", "componentState", "internalRef", "useRef", "current", "lastState", "pendingState", "size", "state", "useSyncExternalStore", "curKeys", "console", "warn", "mediaEmit", "getServerSnapshot", "_", "disableMediaTouch", "_disableMediaTouch", "val", "getMediaState", "mediaGroups", "layout", "res", "fromEntries", "map", "mediaKey", "mediaKeyMatch", "getMediaImportanceIfMoreImportant", "styleState", "isSizeMedia", "importance", "usedKeys", "camelToHyphen", "replace", "m", "toLowerCase", "cache", "cachedMediaKeyToQuery", "query", "entries", "feature", "value", "join", "mediaKeyMatch", "key", "dimensions", "mediaQueries", "mediaQueryConfig", "Object", "keys", "every", "query", "expectedVal", "isMax", "startsWith", "isWidth", "endsWith", "givenVal", "cache", "Map", "cacheSize", "simpleHash", "strIn", "hashMin", "has", "get", "str", "startsWith", "slice", "length", "hash", "valids", "added", "len", "i", "char", "charCodeAt", "isValidCSSCharCode", "hashChar", "res", "Math", "abs", "clear", "set", "c", "imul", "code", "clamp", "value", "min", "max", "Math", "composeEventHandlers", "og", "next", "checkDefaultPrevented", "event", "defaultPrevented", "StyleObjectProperty", "StyleObjectValue", "StyleObjectIdentifier", "StyleObjectPseudo", "StyleObjectRules", "ALL_PLATFORMS", "shouldRenderNativePlatform", "nativeProp", "userRequestedPlatforms", "resolvePlatformNames", "platform", "currentPlatform", "has", "platforms", "Array", "isArray", "set", "Set", "add", "delete", "textColors", "color", "textDecorationColor", "textShadowColor", "tokenCategories", "radius", "borderRadius", "borderTopLeftRadius", "borderTopRightRadius", "borderBottomLeftRadius", "borderBottomRightRadius", "borderStartStartRadius", "borderStartEndRadius", "borderEndStartRadius", "borderEndEndRadius", "size", "width", "height", "minWidth", "minHeight", "maxWidth", "maxHeight", "blockSize", "minBlockSize", "maxBlockSize", "inlineSize", "minInlineSize", "maxInlineSize", "zIndex", "backgroundColor", "borderColor", "borderBlockStartColor", "borderBlockEndColor", "borderBlockColor", "borderBottomColor", "borderInlineColor", "borderInlineStartColor", "borderInlineEndColor", "borderTopColor", "borderLeftColor", "borderRightColor", "borderEndColor", "borderStartColor", "shadowColor", "outlineColor", "caretColor", "stylePropsUnitless", "WebkitLineClamp", "animationIterationCount", "aspectRatio", "borderImageOutset", "borderImageSlice", "borderImageWidth", "columnCount", "flex", "flexGrow", "flexOrder", "flexPositive", "flexShrink", "flexNegative", "fontWeight", "gridRow", "gridRowEnd", "gridRowGap", "gridRowStart", "gridColumn", "gridColumnEnd", "gridColumnGap", "gridColumnStart", "gridTemplateColumns", "gridTemplateAreas", "lineClamp", "opacity", "order", "orphans", "tabSize", "widows", "zoom", "scale", "scaleX", "scaleY", "scaleZ", "shadowOpacity", "stylePropsTransform", "x", "y", "perspective", "skewX", "skewY", "matrix", "rotate", "rotateY", "rotateX", "rotateZ", "stylePropsView", "backfaceVisibility", "borderBottomEndRadius", "borderBottomStartRadius", "borderBottomWidth", "borderLeftWidth", "borderRightWidth", "borderBlockWidth", "borderBlockEndWidth", "borderBlockStartWidth", "borderInlineWidth", "borderInlineEndWidth", "borderInlineStartWidth", "borderStyle", "borderBlockStyle", "borderBlockEndStyle", "borderBlockStartStyle", "borderInlineStyle", "borderInlineEndStyle", "borderInlineStartStyle", "borderTopEndRadius", "borderTopStartRadius", "borderTopWidth", "borderWidth", "transform", "transformOrigin", "alignContent", "alignItems", "alignSelf", "borderEndWidth", "borderStartWidth", "bottom", "display", "end", "flexBasis", "flexDirection", "flexWrap", "gap", "columnGap", "rowGap", "justifyContent", "left", "margin", "marginBlock", "marginBlockEnd", "marginBlockStart", "marginInline", "marginInlineStart", "marginInlineEnd", "marginBottom", "marginEnd", "marginHorizontal", "marginLeft", "marginRight", "marginStart", "marginTop", "marginVertical", "overflow", "padding", "paddingBottom", "paddingInline", "paddingBlock", "paddingBlockStart", "paddingInlineEnd", "paddingInlineStart", "paddingEnd", "paddingHorizontal", "paddingLeft", "paddingRight", "paddingStart", "paddingTop", "paddingVertical", "position", "right", "start", "top", "inset", "insetBlock", "insetBlockEnd", "insetBlockStart", "insetInline", "insetInlineEnd", "insetInlineStart", "direction", "shadowOffset", "shadowRadius", "boxShadow", "filter", "process", "env", "REACT_NATIVE_PRE_77", "boxSizing", "mixBlendMode", "outlineSpread", "outlineStyle", "outlineWidth", "transition", "textWrap", "backdropFilter", "WebkitBackdropFilter", "background", "backgroundAttachment", "backgroundBlendMode", "backgroundClip", "backgroundImage", "backgroundOrigin", "backgroundPosition", "backgroundRepeat", "backgroundSize", "borderBottomStyle", "borderImage", "borderLeftStyle", "borderRightStyle", "borderTopStyle", "clipPath", "contain", "containerType", "content", "cursor", "float", "mask", "maskBorder", "maskBorderMode", "maskBorderOutset", "maskBorderRepeat", "maskBorderSlice", "maskBorderSource", "maskBorderWidth", "maskClip", "maskComposite", "maskImage", "maskMode", "maskOrigin", "maskPosition", "maskRepeat", "maskSize", "maskType", "objectFit", "objectPosition", "outlineOffset", "overflowBlock", "overflowInline", "overflowX", "overflowY", "pointerEvents", "scrollbarWidth", "textEmphasis", "touchAction", "transformStyle", "userSelect", "willChange", "isAndroid", "elevationAndroid", "stylePropsFont", "fontFamily", "fontSize", "fontStyle", "fontVariant", "letterSpacing", "lineHeight", "textTransform", "stylePropsTextOnly", "textAlign", "textDecorationLine", "textDecorationStyle", "textShadowOffset", "textShadowRadius", "selectable", "verticalAlign", "whiteSpace", "wordWrap", "textOverflow", "textDecorationDistance", "WebkitBoxOrient", "stylePropsText", "stylePropsAll", "validPseudoKeys", "enterStyle", "exitStyle", "hoverStyle", "pressStyle", "focusStyle", "disabledStyle", "focusWithinStyle", "focusVisibleStyle", "validStyles", "import_react", "Decorated", "Symbol", "withStaticProperties", "component", "staticProps", "next", "_", "React", "forwardRef", "props", "ref", "createElement", "key", "v", "Object", "assign", "constructCSSVariableName", "name", "process", "env", "TAMAGUI_CSS_VARIABLE_PREFIX", "createVariable", "props", "skipHash", "isVariable", "key", "val", "isVar", "simpleHash", "variable", "isWeb", "createCSSVariable", "variableToString", "vrble", "getValue", "v", "getVariable", "nameOrVariable", "group", "dynamic", "setDidGetVariableValue", "tokens", "getConfig", "tokensParsed", "accessed", "didGetVariableValue", "getVariableValue", "token", "getVariableName", "createCSSVariable", "nameProp", "includeVar", "Error", "name", "simpleHash", "constructCSSVariableName", "import_react", "cache", "Map", "curKeys", "curProps", "curState", "emptyObject", "getThemeProxied", "_props", "_state", "_keys", "theme", "has", "get", "config", "getConfig", "track", "key", "current", "Set", "add", "debug", "console", "info", "proxied", "Object", "fromEntries", "entries", "flatMap", "value", "proxied2", "val", "globalThis", "tamaguiAvoidTracking", "platform", "outVal", "getVariable", "name", "scheme", "inverses", "set", "import_react", "ThemeStateContext", "createContext", "allListeners", "Map", "listenersByParent", "HasRenderedOnce", "WeakMap", "HadTheme", "PendingUpdate", "states", "localStates", "shouldForce", "forceUpdateThemes", "cacheVersion", "forEach", "cb", "getThemeState", "id", "get", "themes", "rootThemeState", "useThemeState", "props", "isRoot", "keys", "disable", "parentId", "useContext", "ThemeStateContext", "Error", "MISSING_THEME_MESSAGE", "states", "get", "id", "name", "theme", "getConfig", "themes", "light", "inverses", "useId", "subscribe", "useCallback", "cb", "listenersByParent", "Set", "add", "allListeners", "set", "PendingUpdate", "shouldForce", "delete", "localStates", "propsKey", "getPropsKey", "getSnapshot", "local", "needsUpdate", "passThrough", "HasRenderedOnce", "current", "size", "rerender", "next", "getNextState", "debug", "console", "groupCollapsed", "info", "groupEnd", "Object", "assign", "process", "globalThis", "time", "state", "useSyncExternalStore", "useIsomorphicLayoutEffect", "HadTheme", "scheduleUpdate", "warn", "lastState", "pendingUpdate", "parentState", "isNew", "getNewThemeName", "isSameAsParent", "shouldRerender", "message", "trace", "scheme", "getScheme", "parentInverses", "isInverse", "nextState", "parentName", "rootThemeState", "shouldAvoidRerender", "queue", "visited", "length", "parent", "shift", "children", "childId", "has", "push", "forEach", "validSchemes", "dark", "split", "reset", "componentName", "inverse", "forceUpdate", "themes2", "lastPartIndex", "lastIndexOf", "name2", "slice", "parentParts", "lastName", "toLowerCase", "pop", "subNames", "filter", "Boolean", "found", "nameHasScheme", "subName", "potentialBases", "i", "join", "outer", "base", "candidates", "potential", "max", "replace", "RegExp", "forceClassName", "hasThemeUpdatingProps", "useTheme", "props", "theme", "useThemeWithState", "isRoot", "keys", "useRef", "themeState", "useThemeState", "passThrough", "process", "env", "TAMAGUI_DISABLE_NO_THEME_WARNING", "console", "error", "JSON", "stringify", "getThemeProxied", "React", "setRef", "ref", "value", "current", "composeRefs", "refs", "node", "forEach", "useComposedRefs", "useCallback", "defaultOffset", "height", "width", "norm", "default", "normalizeColor", "normalizeCSSColor", "rgba", "colorInt", "r", "Math", "round", "g", "b", "a", "normalizeColor", "color", "opacity", "startsWith", "rgba3", "getRgba", "colors", "r", "g", "b", "a", "colorNum", "normalizeCSSColor", "rgba", "stylePropsAllPlusTransforms", "stylePropsAll", "translateX", "translateY", "normalizeValueWithProperty", "value", "property", "isWeb", "stylePropsUnitless", "res", "transformsToString", "transforms", "map", "transform", "type", "Object", "keys", "value", "join", "normalizeValueWithProperty", "getCSSStylesAtomic", "style", "styleToCSS", "out", "key", "val", "pseudoDescriptors", "push", "getStyleAtomic", "isMediaKey", "subKey", "so", "getStyleObject", "pseudo", "conf", "Array", "isArray", "transform", "transformsToString", "value", "normalizeValueWithProperty", "hash", "simpleHash", "pseudoPrefix", "name", "getConfigMaybe", "identifier", "inverseShorthands", "rules", "createAtomicRules", "shadowOffset", "shadowRadius", "shadowColor", "shadowOpacity", "offset", "defaultOffset", "width", "height", "radius", "color", "normalizeColor", "shadow", "boxShadow", "textShadowColor", "textShadowOffset", "textShadowRadius", "blurRadius", "offsetX", "offsetY", "textShadow", "createDeclarationBlock", "important", "next", "hyphenateStyleName", "hcache", "toHyphenLower", "match", "toLowerCase", "replace", "selectorPriority", "res", "priority", "map", "join", "property", "pseudoIdPostfix", "pseudoSelector", "selector", "enterStyle", "block", "webkitProperty", "toUpperCase", "slice", "finalValue", "boxOnly", "boxNone", "r", "import_react", "import_jsx_runtime", "ClientOnlyContext", "createContext", "ClientOnly", "children", "enabled", "existingValue", "useContext", "jsx", "Provider", "value", "React", "useIsClientOnly", "useContext", "ClientOnlyContext", "useDidFinishSSR", "useSyncExternalStore", "subscribe", "import_react", "import_react", "import_jsx_runtime", "node", "ThemeDebug", "themeState", "themeProps", "children", "process", "isHydrated", "useDidFinishSSR", "document", "createElement", "style", "height", "overflowY", "position", "zIndex", "bottom", "left", "right", "display", "border", "flexDirection", "background", "useEffect", "body", "appendChild", "parentState", "parentId", "getThemeState", "jsxs", "Fragment", "createPortal", "whiteSpace", "maxWidth", "overflow", "padding", "id", "JSON", "stringify", "name", "color1", "theme", "val", "inverses", "isNew", "componentName", "reset", "inverse", "jsx", "color", "displayName", "import_jsx_runtime", "Theme", "forwardRef", "props", "ref", "disable", "children", "passThrough", "isRoot", "_isRoot", "_", "themeState", "useThemeWithState", "finalChildren", "Children", "map", "child", "cloneElement", "React", "only", "stateRef", "useRef", "hasEverThemed", "getThemedChildren", "avoidForwardRef", "shallow", "forceClassName", "state", "current", "shouldRenderChildrenWithTheme", "isNew", "hasThemeUpdatingProps", "debug", "jsx", "ThemeDebug", "themeProps", "ThemeStateContext", "Provider", "value", "id", "isInverse", "name", "requiresExtraWrapper", "parentId", "parentState", "getThemeState", "Error", "toArray", "isValidElement", "console", "warn", "themeSpanProps", "getThemeClassNameAndColor", "isWeb", "baseStyle", "contain", "inertContainedStyle", "inertStyle", "className", "color", "style", "className2", "startsWith", "display", "empty", "themeColor", "theme", "variableToString", "maxInverses", "getSetting", "themeClassName", "inverses", "replace", "schemePrefix", "themeNameParts", "split", "themeClasses", "length", "hierarchyClasses", "i", "push", "slice", "join", "import_react", "import_jsx_runtime", "themeable", "Component", "staticConfig", "optimize", "withTheme", "React", "forwardRef", "props", "ref", "themeInverse", "theme", "componentName", "themeReset", "rest", "overriddenContextProps", "context", "key", "val", "element", "jsx", "filteredProps", "compName", "debug", "name", "inverse", "reset", "contents", "Theme", "children", "Provider", "contextValue", "useContext", "displayName", "import_react", "useCreateShallowSetState", "setter", "debug", "useCallback", "stateOrGetState", "prev", "next", "update", "mergeIfNotShallowEqual", "console", "groupCollapsed", "info", "trace", "groupEnd", "isEqualShallow", "key", "import_react", "isDevTools", "process", "Function", "defaultComponentState", "hover", "press", "pressIn", "focus", "focusVisible", "focusWithin", "unmounted", "disabled", "defaultComponentStateMounted", "defaultComponentStateShouldEnter", "import_react", "accessibilityDirectMap", "items", "Hidden", "ActiveDescendant", "Atomic", "AutoComplete", "Busy", "Checked", "ColumnCount", "ColumnIndex", "ColumnSpan", "Current", "Details", "ErrorMessage", "Expanded", "HasPopup", "Invalid", "Label", "Level", "Modal", "Multiline", "MultiSelectable", "Orientation", "Owns", "Placeholder", "PosInSet", "Pressed", "RoleDescription", "RowCount", "RowIndex", "RowSpan", "Selected", "SetSize", "Sort", "ValueMax", "ValueMin", "ValueNow", "ValueText", "key", "val", "toLowerCase", "getGroupPropParts", "groupProp", "mediaQueries", "getMedia", "_", "name", "part3", "part4", "split", "pseudo", "media", "MEDIA_SEP", "prefixes", "selectors", "groupPseudoToPseudoCSSMap", "press", "focusVisible", "focusWithin", "specificities", "Array", "fill", "map", "_", "i", "join", "getThemeOrGroupSelector", "name", "styleInner", "isGroup", "groupParts", "isTheme", "precedenceImportancePrefix", "selectorStart", "lastIndexOf", "selectorEnd", "selector", "slice", "precedenceSpace", "getSetting", "pseudoSelectorName", "pseudo", "pseudoSelector", "presedencePrefix", "mediaSelector", "replaceAll", "createMediaStyle", "styleObject", "mediaKeyIn", "mediaQueries", "type", "negate", "priority", "propertyIn", "identifier", "pseudoIn", "rules", "property", "enableMediaPropOrder", "isPlatform", "isNonWindowMedia", "negKey", "ogPrefix", "indexOf", "id", "replace", "styleRule", "groupPriority", "groupMediaKey", "containerName", "nextIdentifier", "rule", "isHover", "specificity", "getGroupPropParts", "media", "nextSelector", "mediaKeys", "Object", "keys", "fromEntries", "key", "mediaObjectToString", "k", "index", "mediaKey", "mediaQuery", "prefix", "includes", "normalizeShadow", "shadowColor", "shadowOffset", "shadowOpacity", "shadowRadius", "height", "width", "defaultOffset", "normalizeColor", "getRgba", "a", "fixStyles", "style", "shadowRadius", "shadowColor", "shadowOpacity", "shadowOffset", "Object", "assign", "normalizeShadow", "key", "borderDefaults", "nativeStyle", "isWeb", "borderWidth", "borderBottomWidth", "borderTopWidth", "borderLeftWidth", "borderRightWidth", "scannedCache", "WeakMap", "totalSelectorsInserted", "Map", "allSelectors", "allRules", "getAllSelectors", "getAllRules", "Object", "keys", "sort", "map", "key", "lastScannedSheets", "scanAllSheets", "collectThemes", "tokens", "isClient", "themes", "sheets", "document", "styleSheets", "prev", "current", "Set", "sheet2", "out", "updateSheetStyles", "has", "trackInsertedStyle", "id", "next", "get", "set", "bailAfterEnv", "process", "env", "TAMAGUI_BAIL_AFTER_SCANNING_X_CSS_RULES", "bailAfter", "remove", "rules", "cssRules", "firstSelector", "getTamaguiSelector", "lastSelector", "length", "cacheKey", "lastScanned", "len", "fails", "dedupedThemes", "nameToTheme", "i", "rule", "CSSStyleRule", "response", "identifier", "cssRule", "isTheme", "deduped", "addThemesFromCSS", "name", "names", "apply", "theme", "filter", "x", "push", "colorVarToVal", "rootComputedStyle", "cssStyleRule", "selectors", "selectorText", "split", "color", "token", "val", "cssText", "slice", "values", "sepI", "indexOf", "varIndex", "TAMAGUI_CSS_VARIABLE_PREFIX", "replace", "value", "startsWith", "varName", "tokenVal", "getComputedStyle", "body", "getPropertyValue", "createVariable", "selector", "lastThemeSelectorIndex", "lastIndexOf", "schemeChar", "scheme", "themeName", "add", "tamaguiSelectorRegex", "text", "test", "getIdentifierFromTamaguiSelector", "CSSMediaRule", "dotIndex", "sheet", "trackAllRules", "stopAccumulatingRules", "updateRules", "join", "nonce", "insertStyleRules", "rulesToInsert", "isClient", "sheet", "document", "head", "styleTag", "createElement", "id", "nonce", "appendChild", "key", "styleObject", "identifier", "StyleObjectIdentifier", "shouldInsertStyleRules", "rules", "StyleObjectRules", "allSelectors", "join", "trackInsertedStyle", "updateRules", "rule", "insertRule", "cssRules", "length", "console", "warn", "maxToInsert", "process", "env", "TAMAGUI_INSERT_SELECTOR_TRIES", "IS_STATIC", "total", "totalSelectorsInserted", "get", "TAMAGUI_STYLE_INSERTION_WARNING_LIMIT", "isActivePlatform", "key", "startsWith", "platform", "slice", "currentPlatform", "isActiveTheme", "key", "activeThemeName", "startsWith", "slice", "log", "args", "process", "_disableMediaTouch", "console", "info", "err", "error", "webToNativeDynamicExpansion", "webToNativeExpansion", "neg1Flex", "expandStyle", "key", "value", "getSetting", "EXPANSIONS", "map", "key2", "webToNativeExpansion", "webToNativeDynamicExpansion", "all", "horiz", "vert", "xy", "borderColor", "borderRadius", "borderWidth", "margin", "marginHorizontal", "marginVertical", "overscrollBehavior", "padding", "paddingHorizontal", "paddingVertical", "isWeb", "borderStyle", "overflow", "parent", "prefix", "slice", "exec", "index", "length", "k", "cache", "WeakMap", "getVariantExtras", "styleState", "has", "get", "props", "conf", "context", "theme", "styleProps", "fonts", "fontsParsed", "language", "getFontsForLanguage", "next", "tokens", "tokensParsed", "styledContext", "fontFamily", "getVariableValue", "getSetting", "font", "set", "fontLanguageCache", "Object", "fromEntries", "entries", "map", "name", "lang", "langKey", "isObj", "x", "Array", "isArray", "normalizeStyle", "style", "disableNormalize", "res", "key", "prop", "pseudoDescriptors", "isObj", "value", "normalizeValueWithProperty", "out", "expandStyle", "Object", "assign", "fromEntries", "fixStyles", "skipProps", "untilMeasured", "animation", "space", "animateOnly", "disableClassName", "debug", "componentName", "disableOptimization", "tag", "style", "group", "themeInverse", "animatePresence", "Object", "assign", "accessibilityElementsHidden", "accessibilityIgnoresInvertColors", "accessibilityLanguage", "adjustsFontSizeToFit", "allowFontScaling", "android_hyphenationFrequency", "dataDetectorType", "dynamicTypeRamp", "elevationAndroid", "ellipsizeMode", "hapticFeedback", "hapticStyle", "hitSlop", "importantForAccessibility", "lineBreakStrategyIOS", "maxFontSizeMultiplier", "minimumFontScale", "needsOffscreenAlphaCompositing", "nextFocusDown", "nextFocusForward", "nextFocusLeft", "nextFocusRight", "nextFocusUp", "onAccessibilityAction", "onAccessibilityEscape", "onAccessibilityTap", "onMagicTap", "onTextLayout", "pressRetentionOffset", "selectionColor", "shouldRasterizeIOS", "suppressHighlighting", "textBreakStrategy", "propMapper", "key", "value", "styleState", "disabled", "map", "lastFontFamilyToken", "conf", "styleProps", "staticConfig", "unsetVal", "unset", "variants", "noExpand", "variantValue", "resolveVariants", "forEach", "key2", "value2", "disableExpandShorthands", "shorthands", "originalValue", "getTokenForKey", "isVariable", "resolveVariableValue", "resolveValues", "fontFamily", "expanded", "expandStyle", "max", "length", "i", "nkey", "nvalue", "parentVariantKey", "debug", "getVariantDefinition", "console", "groupCollapsed", "info", "groupEnd", "process", "env", "TAMAGUI_WARN_ON_MISSING_VARIANT", "name", "componentName", "warn", "fn", "extras", "getVariantExtras", "fontFamilyResult", "isObj", "fontFamilyUpdate", "inverseShorthands", "getFontFamilyFromNameOrVariable", "resolveTokensAndVariants", "normalizeStyle", "noNormalize", "next", "Object", "entries", "getVariableValue", "input", "val", "variableToFontNameCache", "get", "fontsParsed", "familyVariable", "family", "set", "WeakMap", "theme", "res", "_key", "subKey", "noSkip", "skipProps", "contextProps", "context", "props", "parentStaticConfig", "overriddenContextProps", "originalContextPropValues", "variantOut", "val2", "pseudoDescriptors", "assign", "fVal", "subObject", "tokenCats", "spreadName", "variant", "exact", "tokensParsed", "fontSizeVariant", "fontSizeTokens", "has", "fontShorthand", "fontSize", "fontWeight", "didLogMissingToken", "resolveAs", "getConfig", "themeValue", "slice", "valOrVar", "hasSet", "customTokenAccept", "accept", "globalThis", "tamaguiAvoidTracking", "specificTokens", "language", "getFontsForLanguage", "fam", "defaultFontToken", "cat", "tokenCategories", "TAMAGUI_DISABLE_MISSING_TOKEN_LOG", "spaceVar", "space", "out", "variable", "sortString", "a", "b", "conf", "styleOriginalValues", "WeakMap", "PROP_SPLIT", "normalizeGroupKey", "key", "groupContext", "parts", "split", "plen", "length", "pseudoPriorities", "name", "replace", "isValidStyleKey", "validStyles", "accept", "getSplitStyles", "props", "staticConfig", "theme", "themeName", "componentState", "styleProps", "parentSplitStyles", "componentContext", "elementType", "startedUnhydrated", "debug", "getConfig", "animationDriver", "animations", "passThrough", "isWeb", "isAnimated", "isReactNative", "noNormalize", "shorthands", "isHOC", "isText", "isInput", "variants", "inlineProps", "inlineWhenUnflattened", "parentStaticConfig", "acceptsClassName", "viewProps", "mediaState", "globalMediaState", "shouldDoClasses", "noClass", "rulesToInsert", "classNames", "space", "pseudos", "hasMedia", "dynamicThemeAccess", "pseudoGroups", "mediaGroups", "className", "mediaStylesSeen", "stylePropsText", "validStylesView", "process", "time", "styleState", "style", "usedKeys", "context", "env", "IS_STATIC", "fallbackProps", "Proxy", "get", "_", "val", "Reflect", "has", "isClient", "isDevTools", "console", "groupCollapsed", "log", "asChild", "noSkip", "disableExpandShorthands", "noExpand", "styledContext", "webContainerType", "settings", "parentVariants", "keyOg", "keyInit", "valInit", "accepted", "getSubStyle", "webViewFlexCompatStyles", "skipProps", "identifier", "containerCSS", "addStyleToInsertRules", "isValidStyleKeyInit", "startsWith", "dataSet", "keyInit2", "hyphenate", "disabled", "id", "didUseKeyInit", "accessibilityDirectMap", "role", "accessibilityRoleToWebRole", "toLowerCase", "processIDRefList", "Array", "isArray", "join", "readOnly", "required", "isVariant", "isStyleLikeKey", "isPseudo", "validPseudoKeys", "isMedia", "getMediaKey", "isMediaOrPseudo", "isStyleProp", "shouldPassProp", "parentVariant", "isHOCShouldPassThrough", "shouldPassThrough", "variant", "passDownProp", "groupEnd", "fontFamily", "fontsParsed", "disablePropMap", "propMapper", "originalVal", "isStyledContextProp", "mergeStyle", "after", "pseudoStyleObject", "Object", "assign", "descriptor", "pseudoDescriptors", "isEnter", "isExit", "pseudoStyles", "getStyleAtomic", "info", "psuedoStyle", "fullKey", "StyleObjectProperty", "StyleObjectIdentifier", "descriptorKey", "stateKey", "isDisabled", "isExiting", "unmounted", "importance", "priority", "pseudoOriginalValues", "pkey", "val2", "applyDefaultStyle", "curImportance", "shouldMerge", "key2", "k", "Math", "max", "hasSpace", "mediaKeyShort", "slice", "willBeAnimated", "Set", "add", "isActivePlatform", "mediaStyle", "getMediaImportanceIfMoreImportant", "mediaStyles", "getCSSStylesAtomic", "property", "isSubStyle", "out", "createMediaStyle", "mediaQueryConfig", "subKey", "StyleObjectPseudo", "mergeMediaStyle", "originalVal2", "mergeMediaByImportance", "importanceBump", "isThemeMedia", "isGroupMedia", "groupInfo", "getGroupPropParts", "groupName", "groupState", "state", "groupPseudoKey", "pseudo", "groupMediaKey", "media", "componentGroupState", "group", "mediaState2", "isActive", "layout", "mediaKeyMatch", "componentGroupPseudoState", "priority2", "mediaOriginalValues", "isActiveTheme", "subOriginalValues", "subSubKey", "flatTransforms", "fixStyles", "noMergeStyle", "supportsCSS", "styleToCSS", "mergeFlatTransforms", "transform", "transformsToString", "retainedStyles", "shouldRetain", "$$css", "atomic", "atomicStyle", "value", "isAnimatedAndAnimateOnly", "animateOnly", "includes", "nonAnimatedAnimateOnly", "tabIndex", "accessible", "isFocusable", "focusable", "accessibilityDisabled", "styleProp", "normalizeStyle", "len", "i", "result", "overriddenContextProps", "asChildExceptStyleLike", "defaultProps", "fontFamilyClassName", "groupClassName", "componentNameFinal", "componentName", "componentClassName", "classList", "push", "values", "finalClassName", "cnStyles", "logs", "target", "entries", "sort", "a", "b", "sortString", "forEach", "mergeTransform", "disableNormalize", "contextProps", "originalFromState", "originalContextPropValues", "stylePropsTransform", "normalizeValueWithProperty", "styleIn", "avoidMergeTransform", "conf2", "styleOut", "originalValues", "skey", "sval", "parentTransform", "set", "useInsertEffectCompat", "React", "useInsertionEffect", "useIsomorphicLayoutEffect", "useSplitStyles", "c", "d", "e", "f", "g", "h", "j", "l", "res", "insertStyleRules", "styleObject", "shouldInsertStyleRules", "updateRules", "StyleObjectRules", "idRefList", "defaultColor", "TAMAGUI_DEFAULT_COLOR", "animatableDefaults", "fromEntries", "tokenCategories", "color", "map", "v", "opacity", "scale", "rotate", "rotateY", "rotateX", "x", "y", "borderRadius", "lowercaseHyphenate", "match", "str", "obj", "backwards", "mapTransformKeys", "adjustable", "header", "image", "link", "none", "summary", "shouldMergeObject", "next", "mediaKey", "isSizeMedia", "debugProp", "defaultValues", "hooks", "setupHooks", "next", "Object", "assign", "setElementProps", "node", "hooks", "subscribeToContextGroup", "props", "pseudoGroups", "mediaGroups", "groupContext", "process", "console", "debug", "disposables", "Set", "name", "add", "createGroupListener", "forEach", "d", "setStateShallow", "parent", "dispose", "subscribe", "layout", "pseudo", "prev", "didChange", "group", "media", "has", "mergeIfNotShallowEqual", "Object", "assign", "mediaState", "getMediaState", "next", "import_jsx_runtime", "getStyleTags", "styles", "IS_REACT_19", "length", "jsx", "Fragment", "children", "map", "styleObject", "identifier", "StyleObjectIdentifier", "href", "precedence", "suppressHydrationWarning", "StyleObjectRules", "join", "import_react", "useComponentState", "props", "animationDriver", "staticConfig", "config", "isHydrated", "useDidFinishSSR", "needsHydration", "useIsClientOnly", "useAnimations", "isStub", "isHOC", "stateRef", "useRef", "current", "startedUnhydrated", "hasAnimationProp", "style", "hasAnimatedStyleValue", "supportsCSS", "curStateRef", "hasAnimated", "willBeAnimatedClient", "willBeAnimated", "isServer", "disableClassName", "presence", "animatePresence", "usePresence", "presenceState", "isExiting", "isPresent", "isEntering", "initial", "hasEnterStyle", "enterStyle", "hasAnimationThatNeedsHydrate", "isReactNative", "initialState", "defaultComponentStateShouldEnter", "defaultComponentState", "defaultComponentStateMounted", "disabled", "isDisabled", "states", "useState", "state", "forceStyle", "setState", "isAnimated", "isWeb", "willHydrate", "Object", "assign", "_", "groupName", "group", "setStateShallow", "useCreateShallowSetState", "debug", "variants", "process", "console", "warn", "JSON", "stringify", "enterVariant", "exitVariant", "enterExitVariant", "custom", "isObj", "exv", "env", "unmounted", "noClass", "isAnimatedAndHydrated", "isClassNameDisabled", "acceptsClassName", "disableSSR", "isDisabledManually", "classNameAnimation", "log", "keys", "some", "k", "val", "passThrough", "accessibilityState", "accessibilityDisabled", "import_react", "import_jsx_runtime", "is19", "version", "startsWith", "Slot", "memo", "forwardRef", "props", "forwardedRef", "children", "slotProps", "isValidElement", "mergedProps", "mergeSlotProps", "cloneElement", "type", "avoidForwardRef", "ref", "composeRefs", "Children", "count", "only", "Slottable", "jsx", "Fragment", "displayName", "pressMap", "isWeb", "onPress", "onPressOut", "onPressIn", "child", "childProps", "overrideProps", "isHTMLChild", "key", "propName", "slotPropValue", "childPropValue", "handleRegex", "test", "composeEventHandlers", "filter", "Boolean", "join", "import_jsx_runtime", "time", "debugKeyListeners", "startVisualizer", "componentSetStates", "Set", "avoidReRenderKeys", "window", "cancelPresses", "forEach", "setState", "prev", "press", "pressIn", "clear", "cancelTouches", "hover", "addEventListener", "devVisualizerConfig", "devConfig", "visualizer", "globalThis", "__tamaguiDevVisualizer", "show", "val", "clearTimeout", "tm", "isShowing", "l", "resizeListener", "removeEventListener", "cancelShow", "options", "key", "delay", "metaKey", "defaultPrevented", "setTimeout", "BaseText", "BaseView", "lastInteractionWasKeyboard", "value", "lastInteractionWasTouch", "isWeb", "document", "createComponent", "staticConfig", "componentName", "config", "defaultProps", "onConfiguredOnce", "conf", "defaultForComponent", "Component", "isText", "isZStack", "isHOC", "process", "debug", "env", "IS_STATIC", "log", "defaultPropsKeyOrder", "Object", "keys", "component", "React", "forwardRef", "propsIn", "forwardedRef", "internalID", "useId", "context", "isReactNative", "debugProp", "styledContextValue", "useContext", "overriddenContextProps", "componentContext", "ComponentContext", "hasTextAncestor", "inText", "TAMAGUI_IS_CORE_NODE", "require", "timer", "start", "props", "effectiveDefaults", "fontFamily", "whiteSpace", "color", "letterSpacing", "textTransform", "nextProps", "overrides", "mergeComponentProps", "componentName2", "isClient", "useEffect", "node", "overlay", "remove", "parentNode", "removeChild", "debugVisualizerHandler", "stateRef", "current", "host", "createElement", "style", "inset", "zIndex", "position", "borderColor", "borderWidth", "borderStyle", "dataAt", "getAttribute", "dataIn", "tooltip", "top", "left", "padding", "background", "fontSize", "lineHeight", "innerText", "trim", "appendChild", "add", "delete", "groupContextParent", "GroupContext", "animationDriver", "useAnimations", "componentState", "useComponentState", "isStub", "disabled", "groupName", "hasAnimationProp", "hasEnterStyle", "isAnimated", "isExiting", "isHydrated", "presence", "presenceState", "noClass", "state", "supportsCSS", "willBeAnimated", "willBeAnimatedClient", "startedUnhydrated", "avoidReRenders", "useIsomorphicLayoutEffect", "pendingState", "nextState", "setStateShallow", "allGroupContexts", "useMemo", "passThrough", "listeners", "group", "emit", "state2", "subscribe", "cb", "size", "hasDynGroupChildren", "pseudo", "defaultComponentStateMounted", "listener", "dispose", "isTaggable", "tagProp", "tag", "element", "BaseTextComponent", "BaseViewComponent", "elementType", "needsWebStyles", "disableTheme", "themeShallow", "themeStateProps", "disable", "shallow", "inverse", "themeInverse", "name", "theme", "isListeningToTheme", "needsUpdate", "displayName", "type", "focus", "focusWithin", "isPresent", "dataIs", "banner", "unmounted", "ch", "children", "childLog", "length", "slice", "console", "info", "isServer", "groupEnd", "groupCollapsed", "themeState", "useThemeWithState", "isStringElement", "mediaState", "useMedia", "setDidGetVariableValue", "resolveValues", "styleProps", "styledContext", "themeName", "splitStyles", "useSplitStyles", "isPassthrough", "contextForOverride", "contextForProps", "parentStaticConfig", "groupContext", "containerType", "groupState", "layout", "width", "height", "fromPx", "updateGroupListeners", "updatedState", "animation", "childrenGroupState", "notifyGroupSubscribers", "ogSetStateShallow", "updateStyleListener", "mediaState2", "nextMedia", "nextStyles", "getSplitStyles", "useStyleListener", "mediaEmit", "next", "nextOrGetNext", "isEqualShallow", "canAvoidReRender", "every", "has", "untilMeasured", "hasMeasured", "opacity", "dynamicThemeAccess", "hasRuntimeMediaKeys", "hasMedia", "shouldListenForMedia", "didGetVariableValue", "mediaListeningKeys", "setMediaShouldUpdate", "viewProps", "viewPropsIn", "pseudos", "splitStylesStyle", "classNames", "space", "pseudoGroups", "mediaGroups", "propsWithAnimation", "asChild", "spaceDirection", "_spaceDirection", "onPress", "onLongPress", "onPressIn", "onPressOut", "onHoverIn", "onHoverOut", "onMouseUp", "onMouseDown", "onMouseEnter", "onMouseLeave", "onFocus", "onBlur", "separator", "forceStyle", "_forceStyle", "onClick", "_themeProp", "nonTamaguiProps", "acceptTagProp", "animationStyles", "shouldUseAnimation", "animatedRef", "useStyleEmitter", "animations", "styleState", "ref", "className", "warn", "onLayout", "composeEventHandlers", "e", "nativeEvent", "hooks", "usePropsTransform", "willHydrate", "composedRef", "composeRefs", "x", "setElementProps", "Children", "toArray", "item", "error", "unPress", "cssStyleDeclarationToObject", "styleObject", "i", "prop", "getPropertyValue", "computed", "getComputedStyle", "isAndroid", "subscribeToContextGroup", "objectIdentityKey", "groupEmitter", "runtimePressStyle", "pressStyle", "runtimeFocusStyle", "focusStyle", "runtimeFocusVisibleStyle", "focusVisibleStyle", "attachFocus", "setParentFocusState", "hasDynamicGroupChildren", "attachPress", "runtimeHoverStyle", "hoverStyle", "needsHoverState", "attachHover", "shouldAttach", "needsPressState", "events", "focusVisible", "assign", "getWebEvents", "useEvents", "direction", "content", "spacedChildren", "Slot", "passEvents", "display", "useChildrenResult", "useChildren", "ResetPresence", "needsReset", "hasEverReset", "hasEverResetPresence", "jsx", "Provider", "getThemedChildren", "__disableMergeDefaultValues", "jsxs", "Fragment", "getStyleTags", "values", "rulesToInsert", "title", "isDevTools", "willPrint", "print", "res", "TAMAGUI_FORCE_MEMO", "memo", "extendStyledConfig", "extended", "neverFlatten", "isStyledHOC", "extractable", "Component2", "styleable", "out", "IS_REACT_19", "render", "extendedConfig", "themeable", "TAMAGUI_MEMOIZE_STYLEABLE", "webStyle", "onTouchStart", "onTouchEnd", "Unspaced", "isUnspaced", "getSpacerSize", "tokens", "sizePx", "minWidth", "minHeight", "Spacer", "acceptsClassName", "validStyles", "stackDefaultStyles", "pointerEvents", "variants", "flex", "true", "flexGrow", "horizontal", "vertical", "both", "spaceFlex", "ensureKeys", "hasSpace", "hasSeparator", "areChildrenArray", "Array", "isArray", "childrenList", "shouldForwardSpace", "final", "index", "child", "entries", "isEmpty", "isValidElement", "cloneElement", "push", "AbsoluteFill", "createSpacer", "t", "isVisuallyHidden", "flexDirection", "right", "bottom", "replace", "isTamaguiComponent", "comp", "name", "config", "staticConfig", "componentName", "import_react", "isTamaguiElement", "child", "name", "React", "isValidElement", "isTamaguiComponent", "type", "fontWeights", "processSection", "section", "keys", "defaultValue", "sectionKeys", "Object", "fillValue", "fromEntries", "Set", "map", "key", "value", "createFont", "font", "sizeKeys", "size", "processedFont", "entries", "normal", "family", "freeze", "createShorthands", "shorthands", "Object", "freeze", "cache", "WeakMap", "createVariables", "tokens", "parentPath", "isFont", "has", "res", "i", "keyIn", "val", "isPrefixed", "keyWithPrefix", "key", "slice", "isVariable", "niceKey", "simpleHash", "name", "finalValue2", "createVariable", "isWeb", "needsPx", "finalValue", "set", "registerCSSVariable", "v", "tokensValueToVariable", "set", "getVariableValue", "variableToCSS", "unitless", "process", "env", "TAMAGUI_CSS_VARIABLE_PREFIX", "createCSSVariable", "name", "val", "Map", "insertFont", "name", "fontIn", "font", "createFont", "tokened", "createVariables", "parsed", "parseFont", "document", "fontVars", "registerFontVariables", "styleElement", "querySelector", "FONT_DATA_ATTRIBUTE_NAME", "createElement", "innerText", "join", "setAttribute", "head", "appendChild", "setConfigFont", "parseFont", "definition", "parsed", "attrKey", "attr", "key", "val", "registerFontVariables", "parsedFont", "response", "fkey", "registerCSSVariable", "push", "variableToCSS", "fskey", "createTheme", "theme", "createTokens", "tokens", "createVariables", "process", "env", "TAMAGUI_TOKEN_PREFIX", "ReactNativeStaticConfigs", "WeakMap", "getReactNativeConfig", "Component", "getSize", "prefetch", "RNConfigs", "Image", "displayName", "render", "Text", "default", "State", "blurTextInput", "TextInput", "get", "isReactNative", "inlineProps", "Set", "isText", "isInput", "setupReactNative", "rnExports", "mergeVariants", "parentVariants", "ourVariants", "level", "variants", "key", "parentVariant", "ourVariant", "styled", "ComponentIn", "options", "config", "Error", "parentStaticConfig", "staticConfig", "isPlainStyledComponent", "isReactNative", "isHOC", "Component", "isStyledHOC", "reactNativeConfig", "getReactNativeConfig", "staticConfigProps", "variants", "name", "defaultVariants", "acceptsClassName", "acceptsClassNameProp", "context", "defaultProps", "parentDefaultVariants", "parentDefaultProps", "pdp", "key", "val", "mergeVariants", "componentName", "isText", "conf", "children", "neverFlatten", "component", "createComponent", "useIsTouchDevice", "isWeb", "useDidFinishSSR", "isTouchable", "import_react", "Stack", "createComponent", "acceptsClassName", "defaultProps", "stackDefaultStyles", "validStyles", "displayName", "useProps", "props", "opts", "propsOut", "styleOut", "usePropsAndStyle", "noExpand", "noNormalize", "resolveValues", "useStyle", "staticConfig", "forComponent", "Stack", "theme", "themeState", "useThemeWithState", "componentName", "name", "inverse", "themeInverse", "needsUpdate", "componentContext", "React", "useContext", "ComponentContext", "groupContext", "GroupContext", "state", "disabled", "setStateShallow", "useComponentState", "animationDriver", "getConfig", "mediaStateNow", "noMedia", "mediaState", "useMedia", "splitStyles", "useSplitStyles", "isAnimated", "noSkip", "noMergeStyle", "noClass", "mediaGroups", "pseudoGroups", "useIsomorphicLayoutEffect", "unmounted", "subscribeToContextGroup", "Object", "keys", "join", "viewProps", "style", "forceUpdateState", "forceClassName", "deopt", "needsUpdate", "forceKeys", "current", "Set", "useThemeName", "useThemeState", "name", "import_react", "import_jsx_runtime", "Configuration", "props", "current", "React", "useContext", "ComponentContext", "jsx", "ClientOnly", "enabled", "disableSSR", "children", "Provider", "import_jsx_runtime", "FontLanguage", "children", "props", "jsx", "style", "display", "className", "Object", "entries", "map", "name", "language", "join", "displayName", "React", "useGet", "currentValue", "initialValue", "forwardToFunction", "curRef", "useRef", "useIsomorphicLayoutEffect", "current", "useCallback", "args", "apply", "useEvent", "callback", "useGet", "defaultValue", "Error", "import_react", "import_jsx_runtime", "getExpandedShorthand", "propKey", "props", "shorthands", "getConfig", "inverseShorthands", "inverseShorthands", "getShorthandValue", "props", "key", "getConfig", "darkLight", "lightDark", "getThemeCSSRules", "props", "cssRuleSets", "process", "env", "TAMAGUI_DOES_SSR_CSS", "config", "themeName", "theme", "names", "hasDarkLight", "themes", "CNP", "THEME_CLASSNAME_PREFIX", "vars", "themeKey", "variable", "value", "tokensValueToVariable", "has", "val", "get", "TAMAGUI_CSS_VARIABLE_PREFIX", "simpleHash", "isDarkBase", "isLightBase", "baseSelectors", "map", "name", "selectorsSet", "Set", "maxDepth", "getSetting", "subName", "isDark", "startsWith", "isLight", "add", "childSelector", "replace", "order", "stronger", "weaker", "numSelectors", "Math", "round", "depth", "isOdd", "parents", "Array", "fill", "_", "idx", "parentSelectors", "length", "slice", "_first", "second", "rest", "lastParentSelector", "nextChildSelector", "parentSelectorString", "join", "selectors", "sort", "sortString", "css", "x", "isBaseTheme", "push", "bgString", "background", "variableToString", "fgString", "color", "bodyRules", "baseName", "themeRules", "darkSelector", "lightSelector", "trim", "filter", "Boolean", "prefersMediaSelectors", "selectionStyles", "rules", "selectionSelectors", "s", "styles", "Object", "entries", "flatMap", "k", "v", "css2", "themesRaw", "proxyThemesToParents", "dedupedThemes", "names", "theme", "name", "themes", "themeName", "proxiedTheme", "proxyThemeToParents", "out", "cur", "parents", "split", "slice", "map", "part", "push", "join", "parent", "Object", "assign", "ensureThemeVariable", "theme", "key", "val", "isVariable", "name", "createVariable", "noAnimationDriver", "method", "console", "warn", "createEmptyAnimationDriver", "isReactNative", "supportsCSS", "classNameAnimation", "isStub", "animations", "useAnimations", "usePresence", "ResetPresence", "useAnimatedNumber", "useAnimatedNumberStyle", "useAnimatedNumberReaction", "defaultAnimationDriver", "Tamagui", "process", "TamaguiManager", "Helpers", "mediaState", "config", "getConfig", "insertedRules", "getAllRules", "allSelectors", "getAllSelectors", "identifierToValue", "Map", "shouldTokenCategoryHaveUnits", "category", "Set", "has", "createTamagui", "configIn", "existingConfig", "getConfigMaybe", "tokensParsed", "tokens", "createVariables", "tokensMerged", "cat", "tokenCat", "key", "val", "prefixedKey", "setTokens", "foundThemes", "themes", "noThemes", "Object", "keys", "length", "scanAllSheets", "fontSizeTokens", "fontsParsed", "fonts", "fontTokens", "fromEntries", "entries", "map", "k", "v", "res", "familyName", "font", "fontParsed", "parseFont", "size", "specificTokens", "themeConfig", "cssRuleSets", "declarations", "fontDeclarations", "sortedTokenKeys", "sort", "sortedSubKeys", "skey", "variable", "Error", "JSON", "stringify", "isWeb", "registerCSSVariable", "variableNeedsPx", "needsPx", "categoryNeedsPx", "shouldBeUnitless", "push", "variableToCSS", "declarationsToRuleSet", "decs", "selector", "sep", "join", "sortedFontKeys", "name", "language", "includes", "split", "fontVars", "registerFontVariables", "slice", "cssStyleSeparator", "sortedFontDeclarationKeys", "declarations2", "fontSelector", "langSelector", "selectors", "specificRuleSet", "themesIn", "dedupedThemes", "getThemesDeduped", "color", "proxyThemesToParents", "getThemeRulesSets", "themeRuleSets", "names", "theme", "nextRules", "getThemeCSSRules", "config", "themeName", "userShorthands", "shorthands", "builtinShorthands", "lastCSSInsertedRulesIndex", "getCSS", "opts", "separator", "sinceLastCall", "exclude", "rules", "getAllRules", "runtimeStyles", "getNewCSS", "defaultFontSetting", "settings", "defaultFont", "defaultFontToken", "unset", "fontFamily", "onlyAllowShorthands", "fontLanguages", "animations", "defaultAnimationDriver", "media", "disableSSR", "disableRootThemeClass", "mediaQueryDefaultActive", "themeClassNameOnRoot", "webContainerType", "inverseShorthands", "parsed", "setConfig", "configureMedia", "configListeners", "forEach", "cb", "clear", "process", "env", "DEBUG", "startsWith", "console", "info", "globalThis", "Tamagui", "colorTokens", "existing", "Map", "sortedThemeNames", "darkOrLightSpecificPrefix", "rawTheme", "get", "key2", "ensureThemeVariable", "deduped", "set", "fd", "fb", "bblr", "bbrr", "fwr", "col", "ff", "fst", "tr", "tt", "td", "va", "ws", "wb", "ww", "brc", "brw", "bs", "btc", "btlr", "btrr", "btw", "bw", "o", "cur", "pe", "ov", "pos", "dsp", "fw", "fs", "ls", "lh", "bxs", "bxsh", "ox", "oy", "import_react", "import_react", "import_jsx_runtime", "ThemeProvider", "props", "disableRootThemeClass", "getSetting", "themeClassNameOnRoot", "isClient", "useIsomorphicLayoutEffect", "cn", "THEME_CLASSNAME_PREFIX", "defaultTheme", "target", "document", "documentElement", "body", "classList", "add", "remove", "jsx", "Theme", "className", "name", "forceClassName", "_isRoot", "useId", "children", "import_jsx_runtime", "TamaguiProvider", "children", "disableInjectCSS", "config", "className", "defaultTheme", "disableRootThemeClass", "reset", "themeClassNameOnRoot", "IS_REACT_19", "isClient", "useIsomorphicLayoutEffect", "style", "document", "createElement", "appendChild", "createTextNode", "getCSS", "head", "removeChild", "stopAccumulatingRules", "updateMediaListeners", "contents", "jsx", "UnmountedClassName", "ComponentContext", "Provider", "animationDriver", "animations", "ThemeProvider", "getSetting", "Object", "keys", "themes", "ClientOnly", "enabled", "jsxs", "Fragment", "precedence", "href", "props", "mounted", "setMounted", "React", "useState", "useEffect", "isWeb", "display", "displayName", "ellipseStyle", "maxWidth", "overflow", "textOverflow", "whiteSpace", "defaultWebStyle", "display", "boxSizing", "wordWrap", "margin", "ellipsisStyle", "Text", "createComponent", "acceptsClassName", "isText", "defaultProps", "fontFamily", "inlineWhenUnflattened", "Set", "variants", "numberOfLines", "WebkitLineClamp", "WebkitBoxOrient", "selectable", "true", "userSelect", "cursor", "false", "ellipse", "ellipsis", "validStyles", "stylePropsTextOnly", "displayName", "View", "createComponent", "acceptsClassName", "defaultProps", "stackDefaultStyles", "validStyles", "React", "import_jsx_runtime", "PresenceContext", "createContext", "ResetPresence", "props", "parent", "useContext", "jsx", "Provider", "value", "disable", "children", "React", "usePresence", "context", "useContext", "PresenceContext", "id", "isPresent", "isPresent2", "onExitComplete", "register", "useEffect", "useIsPresent", "matchMedia", "globalThis", "createMedia", "media", "setupMatchMedia", "matchMedia", "import_react", "import_jsx_runtime", "LayoutHandlers", "WeakMap", "LayoutDisableKey", "Nodes", "Set", "IntersectionState", "DisableLayoutContextValues", "DisableLayoutContextKey", "createContext", "ENABLE", "isClient", "IntersectionObserver", "LayoutMeasurementController", "disable", "children", "id", "useId", "useIsomorphicLayoutEffect", "jsx", "Provider", "value", "globalIntersectionObserver", "strategy", "setOnLayoutStrategy", "state", "NodeRectCache", "LastChangeTime", "avoidUpdates", "queuedUpdates", "Map", "enable", "forEach", "cb", "clear", "startGlobalObservers", "entries", "entry", "node", "target", "get", "isIntersecting", "set", "threshold", "BoundingRects", "updateLayoutIfChanged", "onLayout", "parentNode", "parentElement", "nodeRect", "parentRect", "nr", "pr", "Promise", "all", "getBoundingClientRect", "cachedRect", "cachedParentRect", "isEqualShallow", "event", "getElementLayoutEvent", "userSkipVal", "process", "env", "TAMAGUI_LAYOUT_FRAME_SKIP", "RUN_EVERY_X_FRAMES", "layoutOnAnimationFrame", "visibleNodes", "res", "io", "disconnect", "boundingClientRect", "didObserve", "HTMLElement", "disableKey", "observe", "push", "setTimeout", "nativeEvent", "layout", "getRelativeDimensions", "timeStamp", "Date", "now", "a", "b", "height", "left", "top", "width", "x", "y", "pageX", "pageY", "useElementLayout", "ref", "useContext", "ensureWebElement", "current", "host", "node2", "add", "delete", "unobserve", "getBoundingClientRectAsync", "nodeType", "measureNode", "relativeTo", "relativeNode", "nodeDim", "relativeNodeDim", "measure", "callback", "out", "createMeasure", "measureInWindow", "createMeasureInWindow", "measureLayout", "createMeasureLayout", "React", "keyName", "canUseDOM", "window", "document", "createElement", "getBoundingClientRect", "node", "nodeType", "getEventPath", "domEvent", "type", "target", "getSelection", "anchorNode", "composedPathFallback", "composedPath", "path", "body", "push", "parentNode", "getResponderId", "setResponderId", "id", "getResponderPaths", "idPath", "nodePath", "eventPath", "i", "length", "getLowestCommonAncestor", "pathA", "pathB", "pathALength", "pathBLength", "itemA", "indexA", "itemB", "indexB", "depth", "hasTargetTouches", "touches", "contains", "hasValidSelection", "isSelectionValid", "isPrimaryPointerDown", "altKey", "button", "buttons", "ctrlKey", "isTouch", "isPrimaryMouseDown", "isPrimaryMouseMove", "noModifiers", "selection", "string", "toString", "focusNode", "isTextNode", "Node", "TEXT_NODE", "emptyFunction", "emptyObject", "emptyArray", "normalizeIdentifier", "identifier", "createResponderEvent", "domEvent", "responderTouchHistoryStore", "rect", "propagationWasStopped", "changedTouches", "touches", "domEventChangedTouches", "domEventType", "type", "metaKey", "shiftKey", "force", "clientX", "clientY", "pageX", "pageY", "preventDefault", "bind", "timestamp", "timeStamp", "normalizeTouches", "touches2", "Array", "prototype", "slice", "call", "map", "touch", "locationX", "locationY", "target", "emulatedTouches", "responderEvent", "bubbles", "cancelable", "currentTarget", "defaultPrevented", "dispatchConfig", "eventPhase", "isDefaultPrevented", "isPropagationStopped", "isTrusted", "nativeEvent", "altKey", "ctrlKey", "persist", "stopPropagation", "touchHistory", "x", "getBoundingClientRect", "left", "y", "top", "MOUSE_DOWN", "MOUSE_MOVE", "MOUSE_UP", "MOUSE_CANCEL", "TOUCH_START", "TOUCH_MOVE", "TOUCH_END", "TOUCH_CANCEL", "SCROLL", "SELECT", "SELECTION_CHANGE", "isStartish", "eventType", "isMoveish", "isEndish", "isCancelish", "isScroll", "isSelectionChange", "ResponderTouchHistoryStore", "_touchHistory", "touchBank", "numberActiveTouches", "indexOfSingleActiveTouch", "mostRecentTimeStamp", "recordTouchTrack", "topLevelType", "nativeEvent", "touchHistory", "isMoveish", "changedTouches", "forEach", "touch", "recordTouchMove", "isStartish", "recordTouchStart", "touches", "length", "identifier", "isEndish", "recordTouchEnd", "i", "touchActive", "process", "console", "error", "MAX_TOUCH_BANK", "timestampForTouch", "timeStamp", "timestamp", "createTouchRecord", "startPageX", "pageX", "startPageY", "pageY", "startTimeStamp", "currentPageX", "currentPageY", "currentTimeStamp", "previousPageX", "previousPageY", "previousTimeStamp", "resetTouchRecord", "touchRecord", "getTouchIdentifier", "warn", "printTouch", "printTouchBank", "JSON", "stringify", "printed", "slice", "emptyObject", "startRegistration", "bubbles", "moveRegistration", "scrollRegistration", "shouldSetResponderEvents", "touchstart", "mousedown", "touchmove", "mousemove", "scroll", "emptyResponder", "id", "idPath", "node", "responderListenersMap", "Map", "isEmulatingMouseEvents", "trackedTouchCount", "currentResponder", "responderTouchHistoryStore", "ResponderTouchHistoryStore", "changeCurrentResponder", "responder", "getResponderConfig", "config", "get", "eventListener", "domEvent", "eventType", "type", "eventTarget", "target", "isStartEvent", "isStartish", "isPrimaryPointerDown", "isMoveEvent", "isMoveish", "isEndEvent", "isEndish", "isScrollEvent", "isScroll", "isSelectionChangeEvent", "isSelectionChange", "responderEvent", "createResponderEvent", "touches", "length", "recordTouchTrack", "nativeEvent", "eventPaths", "getResponderPaths", "wasNegotiated", "wantsResponder", "currentResponderIdPath", "eventIdPath", "lowestCommonAncestor", "getLowestCommonAncestor", "index", "indexOf", "slice", "nodePath", "findWantsResponder", "attemptTransfer", "onResponderStart", "onResponderMove", "onResponderEnd", "onResponderRelease", "onResponderTerminate", "onResponderTerminationRequest", "cancelable", "currentTarget", "dispatchConfig", "registrationName", "isTerminateEvent", "isCancelish", "window", "contains", "relatedTarget", "hasValidSelection", "isReleaseEvent", "hasTargetTouches", "shouldTerminate", "shouldSetCallbacks", "shouldSetCallbackCaptureName", "shouldSetCallbackBubbleName", "check", "callbackName", "shouldSetCallback", "prunedIdPath", "i", "result", "isPropagationStopped", "currentId", "currentNode", "onResponderGrant", "onResponderReject", "allowTransfer", "documentEventsCapturePhase", "documentEventsBubblePhase", "isTamaguiResponderActive", "Symbol", "attachListeners", "canUseDOM", "addEventListener", "forEach", "document", "addNode", "setResponderId", "set", "removeNode", "terminateResponder", "has", "delete", "event", "getResponderNode", "emptyObject", "Attached", "WeakMap", "Ids", "useResponderEvents", "hostRef", "configIn", "config", "getResponderConfigIfDefined", "node", "current", "host", "React", "useEffect", "ResponderSystem", "attachListeners", "has", "set", "Math", "random", "id", "get", "addNode", "removeNode", "useDebugValue", "isResponder", "getResponderNode", "onMoveShouldSetResponder", "onMoveShouldSetResponderCapture", "onResponderEnd", "onResponderGrant", "onResponderMove", "onResponderReject", "onResponderRelease", "onResponderStart", "onResponderTerminate", "onResponderTerminationRequest", "onScrollShouldSetResponder", "onScrollShouldSetResponderCapture", "onSelectionChangeShouldSetResponder", "onSelectionChangeShouldSetResponderCapture", "onStartShouldSetResponder", "onStartShouldSetResponderCapture", "getBaseViews", "import_jsx_runtime", "TamaguiProvider", "props", "useIsomorphicLayoutEffect", "enable", "jsx", "WebTamaguiProvider", "createTamagui", "conf", "createTamaguiWeb", "baseViews", "getBaseViews", "setupHooks", "setElementProps", "node", "measure", "createMeasure", "measureInWindow", "createMeasureInWindow", "measureLayout", "createMeasureLayout", "usePropsTransform", "elementType", "propsIn", "stateRef", "willHydrate", "isDOM", "onMoveShouldSetResponder", "onMoveShouldSetResponderCapture", "onResponderEnd", "onResponderGrant", "onResponderMove", "onResponderReject", "onResponderRelease", "onResponderStart", "onResponderTerminate", "onResponderTerminationRequest", "onScrollShouldSetResponder", "onScrollShouldSetResponderCapture", "onSelectionChangeShouldSetResponder", "onSelectionChangeShouldSetResponderCapture", "onStartShouldSetResponder", "onStartShouldSetResponderCapture", "collapsable", "focusable", "accessible", "accessibilityDisabled", "onLayout", "hrefAttrs", "plainDOMProps", "useElementLayout", "useResponderEvents", "href", "download", "rel", "target", "charAt", "useEvents", "viewProps", "events", "splitStyles", "setStateShallow", "staticConfig", "View", "WebView", "Stack", "WebStack", "Text", "WebText"]
}
